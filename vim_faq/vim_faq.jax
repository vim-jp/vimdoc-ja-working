*vim_faq.txt*	よく訊かれる質問

Last updated on: 12 December 2019

	  VIM FAQ by: Christian Brabandt <cb@256bit.org>

Frequently Asked Questions                                 *vim-faq* *Vim-FAQ*

このVim FAQは、vim@vim.orgメーリングリストとcomp.editorsニューズグループに投稿
された質問とその答から作られました。Vimにおいて問題を解決する方法はいくつかあ
ります。このFAQを読めば、その数種類の可能性のうちの1つが得られます。このFAQ中
の情報とリンクを使って他の方法を探すこともできます。このFAQの答に対するクレ
ジットはPeppe, Benji, Charles Campbellと他多数の人々に帰属します。FAQのオンラ
イン版は https://vimhelp.appspot.com/vim_faq.txt.html にあります。

{訳注: 日本語版のFAQは以下にある。
       https://vim-jp.org/vimdoc-ja/vim_faq.html }

								*faq-index*
目次 ~
                                                *faq-general-information*
SECTION 1 - 一般的な情報 ~
|faq-1.1|   Vimとは何ですか？
|faq-1.2|   誰が Vim を書いたんですか？
|faq-1.3|   Vim は Vi と互換性がありますか？
|faq-1.4|   Vim が Vi よりも向上している点は何ですか？
|faq-1.5|   Vim は無料ですか？
                                                        *faq-resources*
SECTION 2 - 情報源 ~
|faq-2.1|   どこに行けば Vim についてもっと学べるでしょうか？
|faq-2.2|   メーリングリストはありますか？
|faq-2.3|   メーリングリストのアーカイブはありますか？
|faq-2.4|   HTML/PDF/PS形式のVimユーザーマニュアルはどこで手に入りますか？
|faq-2.5|   ある問題が発生しました。それが私の設定によるものか、Vimそのものの
	  問題かはどうすればわかりますか？
|faq-2.6|   どこでバグ報告をすればいいですか？
|faq-2.7|   FAQはどこで見つけられますか？
|faq-2.8|   このFAQに答えが見つからなかった時、どうすればいいですか？
|faq-2.9|   Vimに機能を追加するパッチを持っています。これをどこへ送ればいいで
	  すか？
|faq-2.10|  Vimのtipを持っていたり新しいsyntax/indent/filetype/compilerプラグ
	  インを開発したり、新しいスクリプトやカラースキームを開発しました。
	  これをアップロードできる公開のウェブサイトはありますか？
                                                        *faq-availability*
SECTION 3 - 入手 ~
|faq-3.1|   Vim の最新のバージョンは何ですか？
|faq-3.2|   どこで Vim の最新版を見つけられますか？
|faq-3.3|   どのプラットフォーム上で実行できるんですか？
|faq-3.4|   どこでVimのランタイムファイルの最新バージョンをダウンロードできま
	  すか？
                                                                *faq-help*
SECTION 4 - ヘルプ ~
|faq-4.1|   どうやってヘルプファイルを利用するんですか？
|faq-4.2|   どうやってVimヘルプファイル中のキーワードを探すんですか？
|faq-4.3|   エラーメッセージE123が出ました。何がまずいのでしょうか？
|faq-4.4|   Vimの様々なモードについては何を読めばいいですか？
|faq-4.5|   新しいVimヘルプファイルを追加した後、どうすればVimのヘルプタグファ
	  イルを生成することができますか？
|faq-4.6|   圧縮したヘルプファイルを使うことはできますか？
                                                        *faq-editing-a-file*
SECTION 5 - ファイルの編集 ~
|faq-5.1|   ファイルを編集用に読み込むには？
|faq-5.2|   現在のファイルを別な名前で保存(save as)して新しいファイルを編集す
	  るには？
|faq-5.3|   カレントディレクトリを現在のファイルのディレクトリにするには？
|faq-5.4|   ファイルの末尾に改行文字(EOL)をつけずにファイルを書き込むには？
|faq-5.5|   ファイルを最後に編集した場所から開くようにするには？
|faq-5.6|   Vimでファイルを編集中にそのファイルが他のアプリケーションによって
	  変更されたとき、Vimは変更が検出されるたびに警告ウィンドウ(確認ダイ
	  アログのような)を開きます。この警告を無効にするには？
|faq-5.7|   カーソル下のファイル名のファイルを開くには？
|faq-5.8|   現在のファイルを再読み込みするには？
|faq-5.9|   ファイルを定期的に自動保存するには？
|faq-5.10|  ファイルを読み取り専用モードで開くには？
|faq-5.11|  現在のファイルの変更を保存せずに編集用にファイルを開くには？
|faq-5.12|  Vimでとても大きなファイルを開く場合にロード時間を短縮するには？
                                                *faq-editing-multiple-files*
SECTION 6 - 複数のファイルを編集する ~
|faq-6.1|   Vim内で同時に複数のファイルを開くには？
|faq-6.2|   複数のファイル・バッファを切り替えるには？
|faq-6.3|   それぞれのファイルを別ウィンドウ/タブページで開くには？
|faq-6.4|   「ワークセット」や「プロジェクト」のように自動的に複数のファイルを
	  同時に読み込ませるようにするには？
|faq-6.5|   Neditやemacsのように単一のVimインスタンスで複数のトップレベルウィ
	  ンドウを開くことはできますか？
|faq-6.6|   Vim内でディレクトリをブラウズするには？
|faq-6.7|   ftp/scp/rcp/httpでネットワークごしにファイルを編集するには？
                                                                *faq-backup*
SECTION 7 - バックアップ ~
|faq-7.1|   ファイルを保存したとき元のファイル名の末尾に"~"という文字をつけた
	  ファイルが作られます。このファイルを作成するのを止めさせるには？
	  (または)バックアップ機能を無効にするには？
|faq-7.2|   ファイルを保存したとき元のファイル名の末尾に".un~"という拡張子をつ
	  けたファイルが作られます。このファイルを作成するのを止めさせるには？
	  (または)アンドゥファイル機能を無効にするには？
|faq-7.3|   全てのバックアップファイルを特定のディレクトリに保存するように設定
	  するには？
|faq-7.4|   ファイルを保存するとファイルパーミッションが変更されます。ファイル
	  パーミッションを変更せずにファイルを保存するよう設定するには？
                                                                *faq-buffers*
SECTION 8 - バッファ ~
|faq-8.1|   バッファに対して変更を加えました。変更されたバッファを保存せずに、
	  かつ変更を失うことなく他のバッファを編集するには？
|faq-8.2|   バッファを切り替えるときに自動的に保存するよう設定するには？
|faq-8.3|   カレントウィンドウのバッファを空バッファにするには？
|faq-8.4|   バッファ番号を指定してバッファを読み込むショートカットキーはありま
	  すか？
|faq-8.5|   読み込んでいるバッファをそれぞれ別のウィンドウで開くには？
|faq-8.6|   Vimを終了することなくバッファを閉じる(削除する)には？
|faq-8.7|   `:%bd`コマンドで全バッファを削除しようとしても、全てのバッファが
	  削除されません。なぜ？
|faq-8.8|   カレントバッファ/ファイルのバッファ番号を表示するには？
|faq-8.9|   ウィンドウを閉じることなくバッファを削除するには？
|faq-8.10|  <Tab>キーで全バッファを巡回するようにマップするには？
                                                                *faq-windows*
SECTION 9 - ウィンドウ ~
|faq-9.1|   ウィンドウとバッファの違いは？
|faq-9.2|   ウィンドウの幅を広げるには？
|faq-9.3|   ウィンドウをズームイン・ズームアウトするには？
|faq-9.4|   全バッファまたは全ウィンドウ、引数リスト中の全ファイルに対してex
	  コマンドを実行するには？
                                                                *faq-motion*
SECTION 10 - モーション ~
|faq-10.1|  ファイルの先頭や末尾に移動するには？
|faq-10.2|  挿入モードで<Esc>キーを押してノーマルモードに移行すると、カーソル
	  が1文字左へ移動します(カーソルが行の最初の文字の上にあるときを除い
	  て)。この動作を変更し、カーソルがその桁の上に残るようにできますか？
|faq-10.3|  <Page Up>、<Page Down>などのキーを押してスクロールしたときカーソル
	  位置の桁を保つように設定することはできますか？
|faq-10.4|  ファイル中のある行の長さが画面の幅を越えており、折り返されていま
	  す。ここでj, kキーを使うと画面上の次行(物理行)でなくファイルの次行
	  (論理行)に移動します。画面上の次行に移動するには？
|faq-10.5|  Vimにおける文、段落、セクションの定義は？
|faq-10.6|  文、段落、セクションの先頭と末尾に移動するには？
|faq-10.7|  画面の右端を越えて続いている行があります。右側にスクロールして画面
	  外に出ているテキストを表示するには？
|faq-10.8|  2個以上のバッファを同時にスクロールさせるには？
|faq-10.9|  矢印キーを使うとモードが変わり、バッファに変な文字が挿入され、カー
	  ソルが適切に移動しません。どうなっているのですか？
|faq-10.10| カーソルが行頭にあるとき左矢印キーを押すと前行の行末に移動するよう
	  にするには？
|faq-10.11| 常に挿入モードに留まるようにするには？(モードレスな編集をするに
	  は？)
|faq-10.12| テキストをスクロールするとき、前後の行を表示するには？
|faq-10.13| 以前のカーソル位置に戻るには？
                                                        *faq-searching-text*
SECTION 11 - テキストを検索する ~
|faq-11.1|  テキストを検索した後、マッチしたテキストが全て強調されます。この強
	  調を一時的/永続的に無効にするには？
|faq-11.2|  検索パターンにキャリッジリターン文字を含めるには？
|faq-11.3|  文字"^M"を検索するには？
|faq-11.4|  "~R", "~S"などと表示される文字を検索・置換するには？
|faq-11.5|  ファイル中の印字不能文字を全て強調するには？
|faq-11.6|  単語に完全に一致するテキストを検索するには？
|faq-11.7|  カーソル下の単語を検索するには？
|faq-11.8|  大文字・小文字を区別せず検索するには？
|faq-11.9|  2回続けて現れる単語を検索するには？
|faq-11.10| ある単語がバッファ中に何回現れるか数えるには？
|faq-11.11| 検索時にカーソルをマッチした単語の末尾に移動させるには？
|faq-11.12| 空行を検索するには？
|faq-11.13| 1つの文字だけを含む行を検索するには？
|faq-11.14| 複数のファイルから文字列を検索し、置換するには？
|faq-11.15| マップ中で置換コマンド`:s`を使っています。検索が失敗したときマップ
	  が途切れてしまいます。置換が失敗したときにもマップの次のコマンドを
	  続けてほしいのですが、どうすればできますか？
|faq-11.16| 行からある文字がn回目に現れる箇所を検索するには？
|faq-11.17| タブ(やその他の文字)を改行文字で置換するには？
|faq-11.18| ASCIIコードで検索する文字を指定するには？
|faq-11.19| 長い行を見つけるには？
|faq-11.20| カレントバッファ内の指定したパターンを含む行を全て表示するには？
|faq-11.21| 複数行にわたる文字列を検索するには？
|faq-11.22| バッファの指定した範囲内から検索するには？
|faq-11.23| How do I clear the last searched pattern?
|faq-11.24| Why does this pattern "a.\{-}p\@!" not match?
|faq-11.25| How can I use "/" within a pattern, without escaping it?
|faq-11.26| How can I operate on a search match?
                                                        *faq-changing-text*
SECTION 12 - テキストを変更する ~
|faq-12.1|  行末の空白文字(スペースとタブ)を全て削除するには？
|faq-12.2|  連続する空白文字を1個のスペースに置換するには？
|faq-12.3|  連続する空行を1行だけに圧縮するには？
|faq-12.4|  ファイル中の空行を全て削除するには？空白文字だけを含む行を全て削除
	  するには？
|faq-12.5|  カーソル下の単語をコピー/ヤンクするには？
|faq-12.6|  行全体ではなく、行内のある位置からある位置までをヤンクするには？
|faq-12.7|  現在のレジスタの中身に追加ヤンクするには？
|faq-12.8|  複数行にわたる文全体をヤンクするには？
|faq-12.9|  あるパターンを含む行全てをヤンクするには？
|faq-12.10| あるパターンを含まない行全てを削除するには？
|faq-12.11| "pattern"を含む全ての行の前に行を追加するには？
|faq-12.12| 前の行が特定のパターンを含んでいる行に対して操作を行うには？
|faq-12.13| あるパターンを含む行全てに対してコマンドを実行するには？
|faq-12.14| カーソル位置の1文字上の文字をカーソル位置にコピーするには？
|faq-12.15| 挿入モードに入らずに現在行の前/後に空行を挿入するには？
|faq-12.16| カレントファイルの名前をカレントバッファに挿入するには？
|faq-12.17| レジスタの中身をカレントバッファに挿入するには？
|faq-12.18| 行末を越えてカーソルを移動し、テキストを挿入するには？
|faq-12.19| カーソル下の単語(例えばjunk)を"foojunkbar"に置き換えるには？
|faq-12.20| ディレクトリ中の全てのファイルに対して特定のテキストを置換する
	  には？
|faq-12.21| ファイル中に数字が書かれています。これを増加・減少させるには？
|faq-12.22| `:substitute`で最後に検索したパターンを再利用するには？
|faq-12.23| `:substitute`を使って大文字・小文字を入れかえるには？
|faq-12.24| キーボード上に無い文字を入力するには？
|faq-12.25| ダイグラフのどれか、または全てを削除するコマンドはありますか？
|faq-12.26| 挿入モードでバックスペースキーを押すと、今回の挿入モードで入力した
	  文字が消されるだけです。バックスペースキーで前回の挿入モードで入力
	  した文字を消すには？
|faq-12.27| 72文字より長くて"+"で終わり、次行に折り返されている行があります。
	  このような行をすばやく連結させるには？
|faq-12.28| 文字単位でヤンクされたテキストを新しい行にペーストするには？
|faq-12.29| 単語・文字・テキストのブロックの大文字小文字を入れかえるには？
|faq-12.30| キーボード上にないASCII文字を入力するには？
|faq-12.31| ファイル中の印字不能文字を置換するには？
|faq-12.32| バッファから重複した行を削除するには？
|faq-12.33| ファイル中の全ての行の前に行番号をつけるには？
|faq-12.34| 2つの文字・単語・行を入れ換えるには？
|faq-12.35| How do I change the characters used as word delimiters?
                                        *faq-completion-in-insert-mode*
SECTION 13 - 挿入モードでの補完 ~
|faq-13.1|  挿入モードで単語や行を補完するには？
|faq-13.2|  挿入モードでファイル名を補完するには？
|faq-13.3|  挿入モードで単語を補完するのにCTRL-P/CTRL-Nを使っています。
	  今補完した単語の後に現れる単語を補完するには？
                                                        *faq-text-formatting*
SECTION 14 - テキストの整形 ~
|faq-14.1|  折り返された行の末尾に改行を挿入するには？
|faq-14.2|  1行がn文字以下になるように長い行を整形するには？
|faq-14.3|  短い行を連結して段落を形成するには？
|faq-14.4|  箇条書きや番号つきリストを整形するには？
|faq-14.5|  挿入モードで行をインデントするには？
|faq-14.6|  ファイル全体を整形・インデントするには？
|faq-14.7|  現在のファイルのインデントを増やす/減らすには？
|faq-14.8|  ブロックまたは行のグループをインデントするには？
|faq-14.9|  >または<キーで行をインデントすると、'tabstop'で設定した値でなく、
	  標準的なタブストップ値の8が使われます。なぜですか？
|faq-14.10| オートインデントを無効にするには？
|faq-14.11| メールを編集するときは自動的に'textwidth'オプションをある値にする
	  ようにするには？
|faq-14.12| 自動的に改行を挿入させることはできますか？
|faq-14.13| ファイル中に^Mという記号がたくさん表示されます。'fileformat'を
	  'dos'にしたり'unix'にしたり'mac'にしたりしてみましたが、改善できま
	  せん。これらの記号を表示させなくするには？
|faq-14.14| 他のアプリケーションからVimのバッファへテキストを貼り付けたとき、
	  挿入されたテキストの桁(インデント)が狂ってしまいます。
	  これを直すには？
|faq-14.15| 'wrap'をオンにしていて、とても長い行が折り返されて画面に収まりきら
	  ないとき、まったく何も表示されません。折り返された行の代わりに"@"
	  という記号で始まる空の行が表示されます。行が収まるように画面をスク
	  ロールすると"@"は消え、行が表示されるようになります。この挙動の設
	  定はどうやるのですか？
|faq-14.16| ファイル中の全てのタブ文字をスペースに変換するには？
|faq-14.17| 後でワードプロセッサーに送るテキストを編集するためのオプションは？
|faq-14.18| How do I join lines without adding or removing any space
	  characters?
                                                        *faq-visual-mode*
SECTION 15 - ビジュアルモード ~
|faq-15.1|  矩形範囲をコピーするには？
|faq-15.2|  ファイルの特定の列を削除・変更するには？
|faq-15.3|  ビジュアル選択した行に対してexコマンドを適用するには？
|faq-15.4|  矩形選択した範囲に対してexコマンドを適用するには？
|faq-15.5|  ビジュアルモードでファイル全体を選択するには？
|faq-15.6|  ビジュアル選択してから>キーを押してインデントすると、選択が解除さ
	  れます。この範囲に対して操作を続けるため選択したままにするには？
	  (または)最後に選択された範囲を再選択するには？
|faq-15.7|  ビジュアル選択した範囲の先頭/末尾へ移動するには？
|faq-15.8|  マウスでテキストを選択してからexコマンドを実行しようと:キーを押す
	  と選択された範囲が文字:で置換されてしまいます。マウスで選択したと
	  きもビジュアル選択したときのようにテキストに対してexコマンドを実行
	  するには？
|faq-15.9|  マウスでテキストを選択するとビジュアルモードでなく選択モードに入っ
	  てしまいます。なぜですか？
|faq-15.10| 最後にコピー/ペーストされたテキストをビジュアル選択するには？
                                                *faq-command-line-mode*
SECTION 16 - コマンドラインモード ~
|faq-16.1|  コマンドモードまたはexコマンドモードでカレントファイル名を使うには？
|faq-16.2|  Vimのコマンドラインで効率的にテキストを編集するには？
|faq-16.3|  ViモードからExモードに移行するには？
|faq-16.4|  exコマンドの出力をバッファにコピーするには？
|faq-16.5|  コマンドモードでファイル名を補完しようと<Tab>キーを押します。マッチ
	  するファイル名が複数ある時、Vimは最初にマッチするファイル名を補完
	  し、マッチしたファイル名全てのリストを表示します。マッチしたファイ
	  ル名全てを表示するだけで、最初の候補を補完しないようにするには？
|faq-16.6|  バッファからコマンドラインにテキストをコピーしたり、コマンドライン
	  からバッファにテキストをコピーするには？
|faq-16.7|  あるコマンドを実行することなくコマンド履歴に入れるには？
|faq-16.8|  コマンドラインの高さを上げるには？
                                                                *faq-viminfo*
SECTION 17 - VIMINFO ~
|faq-17.1|  Vimを起動したときviminfoファイルに不正な文字があるとエラーメッセー
	  ジが出ます。このメッセージを出なくさせるには？
|faq-17.2|  viminfo機能を無効にするには？
|faq-17.3|  Vimのセッションをまたいでマーク/コマンドを保存し、使用するには？
                                                        *faq-remote-editing*
SECTION 18 - リモート編集 ~
|faq-18.1|  既に起動しているgvimでファイルを開くには？ Vim 5.xの
	  OpenWithVim.exeとSendToVim.exeはどうなりました？
|faq-18.2|  vimサーバーに全てのバッファをディスクに保存するようなコマンドを送
	  るには？
|faq-18.3|  Vimのリモートサーバー機能についてのドキュメントはどこで手に入りま
	  すか？
                                                                *faq-options*
SECTION 19 - オプション ~
|faq-19.1|  Vimを設定する簡単な方法は？
|faq-19.2|  オプションの値をトグルするには？
|faq-19.3|  現在のバッファ/ウィンドウに対してだけ効果を及ぼすようにオプション
	  を設定するには？
|faq-19.4|  オプションの値にスペースを含めるには？
|faq-19.5|  オプション設定をファイルに埋め込むには？
|faq-19.6|  ファイル中の全ての行の行番号を表示するには？
|faq-19.7|  'number'オプションで表示される行番号の幅を変えるには？
|faq-19.8|  スペース、タブ、改行などの不可視文字を表示するには？
|faq-19.9|  常に現在行と桁番号を表示するようにするには？
|faq-19.10| 現在のモードを表示するようにするには？
|faq-19.11| ステータスラインに入力途中のコマンドを表示するようにするには？
|faq-19.12| ステータスラインに異なる設定・値を表示するようにするには？
|faq-19.13| 常にステータスラインを表示するようにするには？
|faq-19.14| Vimを再起動しても設定が永続するようにするには？
|faq-19.15| なぜエスケープキーを押すと約1秒後にビープが鳴る(画面がフラッシュす
	  る)のですか？
|faq-19.16| "c"と"s"を使ったときに変更する文字を削除するのでなく"$"を表示する
	  ようにするには？
|faq-19.17| 1回の`:set`コマンドでオプションから複数のフラグを除去するには？
                                                        *faq-mapping-keys*
SECTION 20 - キーマップ ~
|faq-20.1|  キーがどうマップされているかを知るには？
|faq-20.2|  ユーザー定義のキーマッピングをリストするには？
|faq-20.3|  キーマップを解除するには？
|faq-20.4|  キー<xxx>へマッピングができません。何がまずいのですか？
|faq-20.5|  Why does mapping the <C-...> key not work?
|faq-20.6|  テンキーにマップするには？
|faq-20.7|  ビジュアルモードでのみ機能するマッピングを作成するには？
|faq-20.8|  How do I create a mapping that works only in normal and operator
	  pending mode (but not in visual mode)?
|faq-20.9|  Vim script中で、すでに使われているキーと衝突しないようにどのキーを
	  使うべきかを知るには？
|faq-20.10|  エスケープキーにマップするには？
|faq-20.11|  あるキーを何もしないようにマップするには？
|faq-20.12| <Tab>キーでテキストのブロックをインデントし、<Shift-Tab>でテキスト
	  のブロックをアンインデントするようにしたいです。このようなマップを
	  作るには？この挙動はtextpadやVisual Studioなどに似ています。
|faq-20.13| 私のマッピングにおいて<CR>のような特殊文字が認識されません。
	  特殊文字を認識するように設定するには？
|faq-20.14| マップ中で"|"を使って複数のコマンドを区切るには？
|faq-20.15| その最後が他のマッピング/短縮入力の始まりとなっているマッピング/短
	  縮入力があります。最初のものを入力したとき、2番目のが展開しないよ
	  うにするには？
|faq-20.16| ときどきキーが処理されるのに1秒程度かかるのはなぜですか？
|faq-20.17| ビジュアル選択したテキストに対して外部コマンドを実行するマッピング
	  を作るには？
|faq-20.18| <Tab>キーの機能を保ったままCTRL-Iにマッピングするには？
|faq-20.19| How do I define a map to accept a count?
|faq-20.20| How can I make my normal mode mapping work from within Insert
	  Mode?
                                                        *faq-abbreviations*
SECTION 21 - 短縮入力 ~
|faq-21.1|  スペリングを間違えた単語を自動的に修正するには？
|faq-21.2|  複数行の短縮入力を作るには？
|faq-21.3|  短縮入力が展開されたとき、展開されたテキストの末尾に余計なスペース
	  が入ってしまいます。これを防ぐには？
|faq-21.4|  現在の日付・時刻を挿入するには？
|faq-21.5|  挿入モードで短縮入力が展開されるのを防ぐには？
                                                *faq-record-and-playback*
SECTION 22 - レコーディングと繰り返し ~
|faq-22.1|  編集操作(挿入、削除、ペースト等)を繰り返すには？
|faq-22.2|  キーシーケンスを記録し、繰り返すには？
|faq-22.3|  記録したキーシーケンスを編集するには？
|faq-22.4|  記録したキーシーケンスをファイルに保存するには？
|faq-22.5|  レジスタ0にキーシーケンスを保存しています(つまり q0 .... q)。
	  記録したキーシーケンスの中でテキストをヤンクしています。一度その
	  キーシーケンスを再生すると、もうそれを再現することができません。
                                                        *faq-autocommands*
SECTION 23 - 自動コマンド ~
|faq-23.1|  読み込み専用ファイルを修正しようとしたときにコマンドを実行するには？
|faq-23.2|  あるバッファに入るときに毎回コマンドを実行するには？
|faq-23.3|  あるウィンドウに入るときに毎回コマンドを実行するには？
|faq-23.4|  autocmd中でその自動コマンドが実行されているファイルの名前やバッ
	  ファ番号を知るには？
|faq-23.5|  Vimがフォーカスを失ったとき、変更されたバッファ全てを自動的に保存
	  するには？
|faq-23.6|  Vimを終了するときにクリーンアップ用の関数を実行するには？
                                                        *faq-syntax-highlight*
SECTION 24 - 構文強調 ~
|faq-24.1|  構文強調をオン・オフにするには？
|faq-24.2|  背景色と文字色を変えるには？
|faq-24.3|  暗い/明るい背景色に合うように色を変えるには？
|faq-24.4|  `:set number`をしたときに表示される行番号の色を変えるには？
|faq-24.5|  ビジュアルモードで選択された範囲の背景色を変えるには？
|faq-24.6|  オプション'list'で表示した特殊文字(タブ、行末の空白、行末など)に色
	  をつけるには？
|faq-24.7|  毎回同じカラースキームを使うように.vimrc/.gvimrcで設定するには？
|faq-24.8|  正しく構文強調されません。ファイルの一部が強調されなかったり、間
	  違って強調されてしまいます。
|faq-24.9|  対応する括弧を強調する組み込みの関数はありますか？
|faq-24.10| Cのコメントの構文強調をオフにするには？
|faq-24.11| Vimに付属する標準の構文ファイルに私自身の構文拡張を加えるには？
|faq-24.12| Vimに付属の標準の構文ファイルを独自の構文ファイルで置き換えるには？
|faq-24.13| 特定の桁以降の全ての文字を強調するには？
|faq-24.14| ソースファイル(.c, .hなど)を構文強調つきでHTMLファイルに変換するに
	    は？
|faq-24.15| 現在のハイライトグループ定義を全て表示するには？
|faq-24.16| How can I embed one syntax highlighting language into another one?
                                                *faq-vim-script-writing*
SECTION 25 - Vim script を書く ~
|faq-25.1|  読み込まれているスクリプトを全て表示するには？
|faq-25.2|  Vim scriptをデバッグするには？
|faq-25.3|  あるオプションを設定したスクリプト/プラグインを探すには？
|faq-25.4|  (おそらくスクリプトを実行中に)エラーやメッセージが出るのですが、す
	  ぐに消えてしまいます。このメッセージをもう一度表示するには？
|faq-25.5|  プラグイン固有の情報を保存し、Vimを再起動したときそれを復元するに
	  は？
|faq-25.6|  関数の中から挿入モードを開始するには？
|faq-25.7|  関数の中でカーソル位置を動かすには？
|faq-25.8|  .vimrcファイルの中で環境変数の値をチェックするには？
|faq-25.9|  環境変数が定義されているかどうかをチェックするには？
|faq-25.10| Vimの組み込み関数を呼ぶには？
|faq-25.11| Vim script中でノーマルコマンドを使っています。そのコマンドに対して
	  ユーザー定義のマッピングが働くのを防ぎ、そのノーマルモードコマンド
	  がVimの標準の機能を果たすようにするには？
|faq-25.12| ビジュアルモードで現在選択されているテキストを変数やレジスタに入れ
	  るには？
|faq-25.13| 変数"myvar"にテキストが入っています。この変数を`:s`中で使って
	  "mytext"というテキストを置換したいのですが、どうすればいいですか？
|faq-25.14| 変数"bno"がバッファ番号を保持しています。この変数を使って対応する
	  バッファを開くには？
|faq-25.15| オプションの値を変数に保存するには？
|faq-25.16| 関数の中でテキストをコピーし、バッファに挿入しました。関数の中で
	  そのテキストをインデントするには？
|faq-25.17| Vim script中でカーソル下の文字を取得するには？
|faq-25.18| 拡張子を除いたカレントファイル名を取得するには？
|faq-25.19| カレントファイルのベース名(basename)を取得するには？
|faq-25.20| 関数の結果をカレントバッファに挿入するには？
|faq-25.21| 関数の中で外部プログラムを呼ぶには？
|faq-25.22| `:!`で実行したプログラムが返すステータス値を取得するには？
|faq-25.23| カレントバッファが変更されているかどうかを知るには？
|faq-25.24| スクリプト中でノーマルコマンドの中に改行文字を使いたいです。改行文
	  字を指定するには？
|faq-25.25| スクリプト中で長い行を次行に継続するには？
|faq-25.26| `:execute Myfunc()`として自作の関数を呼ぼうとすると、カーソルがカレン
	  トバッファの先頭に移動してしまいます。なぜ？
|faq-25.27| レジスタの中身を実行するには？
|faq-25.28| 関数やマップを呼んだ後に"u"キーを押してアンドゥするとその関数/
	  マップによってなされた変更全てをアンドゥします。なぜ？
|faq-25.29| s:つきで定義された関数(スクリプトローカル関数)を別のスクリプト/
	  プラグインから呼ぶには？
|faq-25.30| 読み込んだスクリプトをun-sourceするには？言い替えると、スクリプト
	  を読み込んだことによって実行されたコマンドを全て戻すには？
                                                                *faq-plugins*
SECTION 26 - プラグイン ~
|faq-26.1|  ファイル形式ごとに異なるオプションを設定するには？
|faq-26.2|  プラグイン/構文ファイル/インデントファイル/カラースキーム/ファイル
	  タイププラグインをダウンロードしました。Vimがこれらのファイルを読
	  み込むようにするには、どこにコピーすればいいですか？
|faq-26.3|  既存のファイル形式別プラグインを拡張するには？
|faq-26.4|  プラグインの読み込みをオフにするには？
|faq-26.5|  ファイル形式別プラグインの読み込みをオフにするには？
|faq-26.6|  全てのファイル形式に対し、グローバルのファイル形式別プラグインで
	  なされる設定を上書きするには？
|faq-26.7|  Vimのディレクトリブラウザープラグインを無効にするには？
|faq-26.8|  特定のパターンにマッチする名前のファイルや拡張子に応じてファイル
	  タイプオプションを設定するには？

                                                *faq-editing-program-files*
SECTION 27 - プログラムファイルを編集する ~
|faq-27.1|  C/C++のファイルに対してオートインデントを有効化するには？
|faq-27.2|  C/C++のファイルに対するインデントをカスタマイズするには？
|faq-27.3|  オートインデント機能を無効化するには？
|faq-27.4|  オートインデントの際に挿入されるスペースの数を変えるには？
|faq-27.5|  Cプログラムを編集しています。マクロ定義や変数を表示するには？
|faq-27.6|  Cプログラムを編集しています。ブロックの内側から、そのブロックの開
	  始位置や終了位置にジャンプするには？
|faq-27.7|  C++ファイルでコメント(//)行の前後に行を挿入した場合に、Vimが自動的
	  にC++コメント(//)を行頭に挿入します。この動作を無効にするには？
|faq-27.8|  一連の行の行頭にコメント文字"#"をつけ加えるには？
|faq-27.9|  Cのソースファイルに対応する名前のヘッダーファイルを開くには？
|faq-27.10| コメントを入力しているとき、自動的にコメント文字を挿入するには？
                                                                *faq-quickfix*
SECTION 28 - QuickFix ~
|faq-28.1|  Vimの中からプログラムをビルドするには？
|faq-28.2|  Vim中からmakeコマンドを起動すると、コンパイラがプログラムをコンパ
	  イルしてエラーメッセージを出力します。しかしコンパイルが終わると表
	  示が消えてしまい、エラーメッセージをもう一度見るには `:clist` としな
	  ければなりません。このエラーメッセージを見るのに他の方法はありませ
	  んか？
|faq-28.3|  How can I perform a command for each item in the
	  quickfix/location list?
                                                                *faq-folding*
SECTION 29 - 折り畳み ~
|faq-29.1|  折り畳みの機能を拡張するには？
|faq-29.2|  'foldmethod'をセットして折り畳みを有効化すると、全ての折り畳みが閉
	  じてしまいます。これを防ぐには？
|faq-29.3|  ファイルの編集を開始したときにいくつの折り畳みが開かれた状態にする
	  かをコントロールするには？
|faq-29.4|  マウスを使って折り畳みを開閉するには？
|faq-29.5|  閉じた折り畳みの表示に使われるテキストを変更するには？
|faq-29.6|  Vimを終了・再起動するとき、手動で作った折り畳みを保存・復元するに
	  は？
|faq-29.7|  I have enabled syntax based folding. Why is Vim so slow?
                                        *faq-vim-with-external-applications*
SECTION 30 - 外部プログラムとの連携 ~
|faq-30.1|  Vimのウィンドウの中でシェルを起動することはできますか？
|faq-30.2|  カーソル下の単語を外部プログラムに渡すには？
|faq-30.3|  シェルコマンドの出力をVimのバッファに取り込むには？
|faq-30.4|  カレントバッファの中身を外部プログラムにパイプで渡して、そのプログ
	  ラムの出力でバッファを置き換えるには？
|faq-30.5|  ファイル中のあるセクションをソートするには？
|faq-30.6|  Vimをページャとして使うには？
|faq-30.7|  Vimの中でUnixのmanページを見るには？
|faq-30.8|  Vimのdiff機能で使われるdiffコマンドを変更するには？
|faq-30.9|  折り畳みなしで差分モードを使うには？
                                                                *faq-gui-vim*
SECTION 31 - GUIのVIM ~
|faq-31.1|  バッファ固有のメニューを作るには？
|faq-31.2|  GUIのVimで使われるフォントを変更するには？
|faq-31.3|  GUIのVimが起動したときのウィンドウの位置を指定するには？
|faq-31.4|  GVimに水平スクロールバーをつけるには？
|faq-31.5|  スクロールバーをデフォルトで左側に表示するようにするには？
|faq-31.6|  メニューバーを消すには？
|faq-31.7|  GVimを使っています。<Alt>キーと文字キーを押すとその文字で始まるメ
	  ニューが選択されます。<Alt>-<key>の組合せを使いたいので、この挙動は
	  やめてほしいです。どうすればいいですか？
|faq-31.8|  スクロールバーをドラッグしたとき、カーソル位置を動かさずにテキスト
	  をスクロールさせることは可能ですか？
|faq-31.9|  `:browse`を使ったときに特定のディレクトリから始めるようにするには？
|faq-31.10| ファイルがVimの外部で変更されたときなど、問い合わせがあるとき、GUI
	  のダイアログボックスが表示されます。コンソールのダイアログボック
	  スが出るようにするには？
|faq-31.11| GVimをアプリケーションxxx用のエディタとして使っています。アプリ
	  ケーションxxxがGVimを起動すると、コントロールがすぐにアプリケー
	  ションxxxに戻ってしまいます。Vimを終了したとき初めてアプリケーショ
	  ンxxxにコントロールが戻るようにGVimを起動するには？
|faq-31.12| なぜ、システムにインストールされているフォント全てが「フォントを
	  選ぶ」ダイアログに現れないのですか？
|faq-31.13| コマンドラインモードでマウスを使うには？
|faq-31.14| テキストをスクロールしようとマウスの中央ボタンを押すと、最後にコ
	  ピーしたテキストがペーストされてしまいます。この挙動を無効にするに
	  は？
|faq-31.15| GVimウィンドウの位置とサイズを変更するには？
|faq-31.16| When splitting the Vim window vertically, Vim changes
	  the position.
                                                        *faq-vim-on-unix*
SECTION 32 - UNIX上のVim ~
|faq-32.1|  xtermでVimを実行しています。CTRL-Sを押すとVimがフリーズします。
	  どうすればいいですか？
|faq-32.2|  画面の更新について奇妙な問題があります。これを解決するには？
|faq-32.3|  Vimのターミナル/コンソール版を使っています。挿入モードでバックス
	  ペースキーを押してもカーソルの前の文字が消えません。どう設定すれば
	  良いですか？
|faq-32.4|  xtermでVimを使っています。Vimを終了すると画面が元の状態に復元され
	  ます。これを無効化するには？
|faq-32.5|  Vimの起動にかなり時間がかかります。起動時間を最小化するには？
|faq-32.6|  Unixのgvimでカーソルの点滅を止めるには？
|faq-32.7|  GTK Vimのメニューのフォントを変えるには？
|faq-32.8|  VimがCTRL-Zでサスペンドするのを防ぐには？
|faq-32.9|  Vimを実行しているxtermをkillすると、Vimのプロセスが生き残り、多大
	  なCPU時間(99%)を食ってしまいます。なぜこうなるのですか？
|faq-32.10| Unixターミナルで構文強調を使うには？
                                                *faq-vim-on-ms-windows*
SECTION 33 - MS-Windows上のVim ~
|faq-33.1|  MS-Windows上でCTRL-Vを押しても矩形ビジュアルモードが始まりません。
	  どうなっているのですか？
|faq-33.2|  CTRL-Yキーを押すとCTRL-Rのような動作をします。CTRL-YをCTRL-Yとして
	  扱うように設定するには？
|faq-33.3|  常にGVimのウィンドウを最大化して起動するには？
|faq-33.4|  なんらかの編集操作をするとVimがフリーズします。カーソルは空の四角
	  形になります。全然文字が入力できません。どうなっているのですか？
|faq-33.5|  Windows XPを使っています。最大化したGVimの表示速度がとても遅いで
	  す。表示の更新を早くするには？
|faq-33.6|  VimをCygwin上で使うにあたって推奨される設定は？
|faq-33.7|  差分モードでGNU diffを使おうとしています。コマンドラインからdiffを
	  使うとうまく動くのですが、Vim内で使おうとすると動きません。どうす
	  れば？
|faq-33.8|  Outlookで外部エディタにVimを使うことはできますか？
|faq-33.9|  HTMLファイルを編集するのにVimを使っています。現在開いているHTML
	  ファイルをインターネットエクスプローラーでプレビューするには？
|faq-33.10| VimをMicrosoft Visual Studioといっしょに使いたいです。どうすれば？
|faq-33.11| どこに_vimrcと_gvimrcを置けばいいですか？
|faq-33.12| ファイルを保存する度に、そのファイルがVimの外部で変更されていると
	  警告が出ます。なぜですか？
                                                                *faq-printing*
SECTION 34 - 印刷 ~
|faq-34.1|  全ての行に行番号をつけて印刷するには？
|faq-34.2|  構文強調の色をつけてファイルを印刷するには？
                                                *faq-building-vim-from-source*
SECTION 35 - Vimをソースからビルドする ~
|faq-35.1|  Unixシステム上でVimをソースからビルドするには？
|faq-35.2|  Unixでホームディレクトリなど、デフォルトのディレクトリ以外にVimを
	  インストールするには？
|faq-35.3|  MS-Windowsシステム上でVimをソースからビルドするには？
|faq-35.4|  私がインストールしたVimにはヘルプ、構文ファイル、インデントファイ
	  ルが欠けています。それらのファイルをインストールするには？
|faq-35.5|  Vimをソースからビルドして"make install"でインストールしました。Vim
	  のソースディレクトリを残しておく必要はありますか？
|faq-35.6|  ある機能がコンパイル時に有効化されているかどうかを知るには？
|faq-35.7|  GUI機能なしでVimをビルドすることはできますか？
|faq-35.8|  Unixシステム上でVimをビルドするとき、"undefined reference to 
	  term_set_winsize"というエラーが出ます。これを解決するには？
|faq-35.9|  GTK 2.03を使おうとしているのですが、Vimのconfigureがgtk-configがな
	  いとのメッセージを出します。しかしGTK2は一般的なpkg-configを使うよ
	  うになったので、これは正しいのです。gtk用のインクルードファイルと
	  ライブラリのリストを出力するpkg-configならありますが、なぜか
	  configureスクリプトはこれを使ってくれません。
|faq-35.10| I did successfully download the sources and compiled Vim on
	  Unix. But feature ... still does not work. What is wrong and
	  how can I fix it?
                                                                *faq-various*
SECTION 36 - 様々な事柄 ~
|faq-36.1|  Vimでバイナリフィルを編集するには？
|faq-36.2|  ビジュアルエラーフラッシュとエラービープを無効にするには？
|faq-36.3|  バッファに表示されている文字のASCIIコードを表示するには？
|faq-36.4|  コマンドのカウントとして0を使うことはできますか？
|faq-36.5|  Vimの起動時の画面を表示させなくするには？
|faq-36.6|  "hit enter to continue"プロンプトを避けるには？
|faq-36.7|  コマンドラインからVimを起動して一連のファイルに対して一連のコマン
	  ドを実行するには？
|faq-36.8|  挿入モードから抜けることなくノーマルモードコマンドを実行するには？
|faq-36.9|  How do I start Vim in insert mode?
|faq-36.10| How do I use Copy and Paste with Vim?
|faq-36.11| Why shouldn't I modify the files in the system runtime
	  directory?
                                                                *faq-unicode*
SECTION 37 - Unicode ~
|faq-37.1|  VimでUnicodeのファイルを作ることはできますか？
|faq-37.2|  Unicodeのファイルを編集するにあたって特に重要な設定は？
|faq-37.3|  オプション'encoding'とは何ですか？
|faq-37.4|  Vimでは様々なUnicodeエンコーディングをどう表記しますか？
|faq-37.5|  バイト順マークの有無を指定するには？
|faq-37.6|  オプション'fileencoding'とは何ですか？
|faq-37.7|  オプション'fileencodings'とは何ですか？
|faq-37.8|  オプション'termencoding'とは何ですか？
|faq-37.9|  オプション'bomb'とは何ですか？
|faq-37.10| これらのオプションの典型的な例はどこにありますか？
|faq-37.11| Unicodeの文字を挿入するには？
|faq-37.12| どのダイグラフがどの文字に定義されているかを知るには？

=============================================================================
 								*faq-1*
SECTION 1 - 一般的な情報 ~

 								*faq-1.1*
1.1.  Vimとは何ですか？

Vim とは Vi IMproved を表します。かつては Vi IMitation の略でしたが、あまりに
多くの改良があったため名前の変更は適切なものでした。Vim は、Unix プログラムの
"Vi" のほとんど全てのコマンドや、多くの新しいコマンドを含んだテキストエディタ
です。全てのコマンドはキーボードで与えることができます。これには、指はキーボー
ドに置いたまま、目はスクリーンに向けておけるという利点があります。望む人には、
マウスサポートや、スクロールバーとメニューのついた GUI 版もあります。

Vim はエディタであって、ワードプロセッサーではありません。ワードプロセッサーは
主にテキストのレイアウトを行うのに使われます。つまり、位置決めや、表示時の見え
方を変えたり、ということです。たいてい最終的なドキュメントは他の人に満足いくよ
うに見せるため、印刷したり活字に組んだりなどするよう意図されます。ワードプロ
セッサーの例は、Microsoft Word、FrameMaker、OpenOffice Writer です。

エディタは単純にテキストを入力するためのものです。ドキュメントの植字やレイアウ
トは二次的なものです。エディタにおいて、主な関心事はテキスト入力であり、テキス
トを良く見せることではありません。Vim や Vi 以外のエディタの例は、Emacs、
TextMate、Ultraedit、gedit です。そして Notepad も。

さらなる情報については以下を参照してください。

    |intro|

 								*faq-1.2*
1.2. 誰が Vim を書いたんですか？

Vim のほとんどは Stevie に基づいて Bram Moolenaar によって書かれましたが、他に
貢献した人々の名前はここでは多すぎて触れられません。

さらなる情報については以下を参照してください。

    |author|
    |credits|

 								*faq-1.3*
1.3. Vim は Vi と互換性がありますか？

非常に。コマンドラインフラグ"-C"を使えばVimをVi互換モードで起動することが
できます: >

    $ vim -C
<
また、以下のようにもできます: >

    $ vim -u NONE
<
'compatible'オプションをセットすればViとの互換を有効化できます: >

    :set compatible
<
Vim を非互換 ('nocompatible') モードで起動するには、-N をコマンドライン引数に
指定します。 >

    $ vim -N
<
さらなる情報については以下を参照してください。

    |-C|
    |-N|
    |'compatible'|
    |compatible-default|

 								*faq-1.4*
1.4. Vim が Vi よりも向上している点は何ですか？

ここにあるのは短い要約です。以下のリストは Vim が徹底して現代的で、機能がぎゅっ
と詰め込まれたエディタであることを示すものです。今日のエディタの標準的な機能は
実装されており、一般的なパワーユーザーやプログラマ向けの機能にも重点が置かれて
います。

Vi を現代化する機能: ~

  多段階アンドゥ ~

     ファイルバッファにおける変更を元に戻す回数を設定することができます。アン
     ドゥされた変更をリドゥすることもできます。また、Vim7.3以降ではアンドゥ情
     報が永続化できるようになったため、以前の編集セッションで行った変更をアン
     ドゥすることができます。

  タブ、複数ウィンドウ、バッファ ~

     それぞれのファイルはそれ自身のウィンドウに表示することができます。一つの
     ウィンドウから別のウィンドウへ簡単に移動することができます。それぞれの開
     かれたファイルは Vim のセッション中関連付けられたバッファを保有し、バッ
     ファ間を簡単に移動することができます。他のモダンなGUIと同様に、Vimは複数
     のファイルをタブで開くことができます。タブ、バッファ、ウィンドウ、引数リ
     ストに対してバッチ処理を行うことができます。

  柔軟な挿入モード ~

     Vim では挿入モードにある間矢印キーでファイル内を移動することができます。
     <Esc> を押し、移動して、`i' や `a' を押す、といったことはしなくて済みま
     す。

  マクロ ~

     Vim には、連続してタイプされた文字を記録し、後で何度でも繰り返すことので
     きる機能があります。

  ビジュアルモード ~

     テキストの一部分をハイライトさせ、その部分にだけ操作を実行することができ
     ます。

  ブロック・オペレータ ~

     テキストを長方形のブロック状に選択、ハイライトさせ、その部分に対し特定の
     操作を行うことができます。

  オンラインヘルプシステム ~

     どんな Vim 使用の局面であれ、容易に答えを探すことができます。ヘルプはそれ
     自身のウィンドウに表示されます。

  コマンドライン編集と履歴 ~

     履歴を利用すると、矢印キーで既にタイプされたコマンドを繰り返したり探した
     りできます。コマンドの先頭を、履歴バッファにある別の似たコマンドの先頭に
     マッチさせることができます。コマンドを編集してタイプミスを訂正したり、い
     くつか値を変更することもできます。

  コマンドライン補完 ~

     <Tab> キーを使うと、コマンドやオプション、ファイル名などを必要に応じて補
     うことができます。

  水平スクロール ~

     長い行は水平にスクロールできます(GUI の有る、無しにかかわらず)。

  Unicodeと国際化の改善 ~

     VimはUnicodeでファイルを編集でき、utf-8エンコーディングを内部的に使用しま
     す。さらに、Vimは右から左へのテキスト表示に対応します。

先進的なユーザー機能: ~

  テキスト整形 ~

     2 キーストロークで、外部プログラムを使わずに長いテキストを整形できます。

  挿入モードでの補完機能 ~

     Vimはテキスト補完のためにいくつかの異なる機能を提供します。例えば、現在の
     単語とファイル内の似た単語とをマッチすることにより、タイピング中に単語補
     完を行うことができます。

  タグ・ジャンプ ~

     ウェブ・ブラウザーと同じように、以前編集していた箇所に戻ったり、また元に
     復帰することができます。なので、あなたの頭脳は自由にナビゲート、ではなく
     編集をすることができます。

  自動コマンド ~

     ファイルを読み書きする時や、他のバッファに移動する時などに自動的に実行さ
     れるコマンドです。

  Viminfo ~

     起動時に読み込まれるコマンドライン履歴やファイル内のマーク、レジスタを記
     憶しておくことができます。したがって、以前の検索パターンや、マクロなどを、
     新しい Vim セッションで呼び出すことができます。

  マウスサポート ~

     マウスは xterm や MS-DOS でサポートされています。カーソル位置を設定した
     り、ビジュアル領域を選択したり、レジスタを貼り付けたり、等のことができま
     す。

  グラフィカルユーザーインターフェイス(GUI) ~

     いくつかの異なるグラフィカルユーザーインターフェイスが利用できます。その
     上、独自のメニューを追加することも非常に簡単です。もちろん、コンソール版
     のVimも今なおサポートされており、幅広く利用されています。

  スクリプト言語 ~

     Vim は強力なスクリプト言語を備えており、新しいコマンドを作ることができま
     す。また、同じことをするのに Perl、Python、TCL、Lua、それに Ruby を使うこ
     ともできます。

  プラグイン ~

     Vim コマンドによって実装された拡張機能で、起動時に自動的にロードされます。
     例: ファイルエクスプローラー、ネットワーク編集、拡張された自動補完、構文
     チェック。
     更に多くのものが VimOnline にて常に開発、共有されています。

  多数のプログラミング言語に対応した構文強調 ~

     数百ものプログラミング言語に対応した構文強調(要素を隠すConceal機能を含む)
     があります。他の言語への対応を追加することができます。

  拡張正規表現 ~

     機能性がPerlの正規表現に似ている拡張正規表現をサポートしています。

  統合されたスペルチェック ~

     スペルチェックはVimに統合されました。

  Diff モード ~

     Vimは異なる2つ、3つまたは4つのファイルの間で差分のハイライト表示ができま
     す。共通する行は折りたたまれて非表示になります。

  Blowfishアルゴリズムによる暗号化 ~

     Vimは、対称ブロック暗号blowfishを使用してあなたのファイルとスワップファイ
     ルを暗号化することができます。

  拡張性の高いカスタマイズ ~

     オプションを設定することで、Vimを最適にカスタマイズすることができます。
     独自のコマンド、マクロ、さらにはプラグインを定義して機能を拡張することが
     できます

  パッケージ機能 ~

     増えていく多くのプラグインを管理しやすくするため、パッケージ機能が追加さ
     れました。これは、1つまたは複数のプラグインを取得してディレクトリに格納し、
     更新を管理する便利な方法です。Vimはそれらを自動的に、または必要な時にのみ
     ロードします。

プログラミング効率に関する機能: ~

  編集―コンパイル―編集のスピードアップ ~

     Vim 内部からコンパイルを行い、自動的にソースコードのエラーの箇所にジャン
     プすることができます。

  多数のプログラミング言語の字下げ ~

     C、C++、Java、Perl、XML その他多くの言語で、タイプ中に自動的に字下げが行
     われます。他の言語へのサポートも追加可能です。

  インクルードファイル内の単語を検索 ~

     カーソルの下の単語とのマッチを、現在のファイルとインクルードされるファイ
     ル内で検索することができます。

  先進的なテキストオブジェクト ~

     ( と ) や、{ と } や、< と > 、また [ と ] の間の全てのテキストに対して、
     また単語、文、段落に対して、一瞬で選択したり、削除やコピーをしたり、字下
     げ、整形、大文字小文字の変換、等々を行うことができます。非常に強力です。

  フォールディング ~

     テキストのある部分を「フォールド」(折り畳み)してしまうことができます。
     最も良い例は関数の中身の部分です。コードの概観を見渡して、それから詳細を
     見たい関数のフォールドを開くことができます。

  ctags と cscope との統合 ~

     これらの強力なプログラムを使うと、関数の呼び出し部分からその定義部分へジ
     ャンプしたり、他の技術を使ってソースコードを行き来することができます。


  統合された複数のプログラミング言語 ~

     内部スクリプト言語が十分強力でないと思った場合は、Lua、Ruby、Tcl、Perl、
     Python 2、3を使ってVimを拡張することができます。

  非同期I/Oのサポート ~

     Vimはジョブとチャネルを使用して他のプログラムと非同期で通信します。これに
     より、例えばコンパイラをバックグラウンドで実行し、終了したらすぐにクイッ
     クフィックスリストを開いて警告やエラーを修正できます。

  タイマー ~

     タイマーは非同期で何かを実行する関数を1回または繰り返し呼び出すことができ
     ます。

さらなる情報については以下を参照してください。

    |vi-differences|

 								*faq-1.5*
1.5. Vim は無料ですか？

Vim はチャリティウェアです。Vim の使用や複製に関しては何ら制限はありませんが、
著者は慈善事業に寄付をするよう奨励しています。その方法を説明するドキュメントが
ディストリビューションの中に含まれています。
さらなる情報については以下を参照してください。

    |copyright|

=============================================================================
 								*faq-2*
SECTION 2 - 情報源 ~

 								*faq-2.1*
2.1. どこに行けば Vim についてもっと学べるでしょうか？

Vimの質問は vim@vim.org メーリングリストに投稿できます。Vimの開発に関する質問
は vim-dev@vim.org メーリングリストに投稿できます。Vim にはそれ自身のための
ニュースグループがありません。しかし comp.editors は投稿するのに適しています。

"VimOnline" は vim のデファクト・ホームページの役割を果たしているウェブ・ペー
ジですが、その主な目的は tip やスクリプトをいたる所から集積することにあります。
ぜひ参加してください。URL は https://www.vim.org です。

最後に、Vi FAQ を読んでください:

    http://www.faqs.org/faqs/editor-faq/vi/part1/index.html

最後に、機能に関する議論や質問のできるいくつかのコミュニティを紹介します。

    https://vi.stackexchange.com
    https://vim.reddit.com

{訳注: 日本語の情報は以下のサイトで見ることができる。

       https://vim-jp.org/
       https://github.com/vim-jp/issues
       https://qiita.com/tags/vim
}

さらなる情報については以下を参照してください。

    |mail-list|
    |internet|

 								*faq-2.2*
2.2. メーリングリストはありますか？

いくつか存在します:

    名前              説明 ~
    ----------------  --------------------------------------------- ~
    vim-announce      新しいリリースの発表
    vim               一般的な議論
    vim-dev           パッチ、バグ報告、開発議論
    vim-mac           マッキントッシュに関する議論
    vim-fr            フランス語による一般的な議論

これらのうち、vim と vim-dev だけが一般的な興味を引くものです。vim-announce は
ほとんどの人にとってはリードオンリーですし、そのメッセージは他のリストにも送信
されます。他の 4 つは非常に通信量が少ないです。

    機能                メールの送信先 ~
    ------------------  -------------------------- ~
    購読するには:       <名前>-subscribe@vim.org
    購読を中止するには: <名前>-unsubscribe@vim.org
    ヘルプを得るには:   <名前>-help@vim.org

利用可能なメーリングリストが以下にも記載されています。

    https://www.vim.org/maillist.php

{訳注: 日本語のメーリングリストが以下にある。
       https://groups.google.com/group/vim_jp }

 								*faq-2.3*
2.3. メーリングリストのアーカイブはありますか？

あります。https://groups.yahoo.com/ を訪ねてください。名前は次のいずれかです。
vimannounce, vim, vimdev, vim-fr, vim-mac, vim-vms.

もしくは、www.gmane.org に行って GMANE について調べてみてください。これはメー
リングリストに、あたかもニュースグループのような感覚でアクセスすることができる
ものです。履歴をざっと眺めたり、現在のスレッドを気軽に見ることができて便利です。

 								*faq-2.4*
2.4. HTML/PDF/PS形式のVimユーザーマニュアルはどこで手に入りますか？

HTML/PDF/PS形式のVimユーザーマニュアルは以下からダウンロードできます。

    https://vimdoc.sourceforge.net/

注記: このページのユーザーマニュアルは現在ではかなり古い。Vim に付属のドキュメ
ントを使用するかオンライン版 (https://vimhelp.appspot.com) を参照するのが最善
です。

{訳注: 日本語版のオンラインヘルプは以下にある。
       https://vim-jp.org/vimdoc-ja/ }

このFAQを含む英語の完全なヘルプのPDF版(レター、A4、iPad)が以下にあります。

    https://nathangrigg.com/vimhelp/

{訳注: このPDF版も2018年9月現在ではかなり古い。}

このドキュメントは相互参照されているため、ハイパーリンクを使用できます。

 								*faq-2.5*
2.5. ある問題が発生しました。それが私の設定によるものか、Vimそのものの
     問題かはどうすればわかりますか？ / 私はVimのバグを発見したのですか？

まず、エラーが実際にランタイムファイルやVimで配布されているプラグインで発生し
たのか、.vimrcや.gvimrcの設定オプションの単純な副作用であるのかを調べる必要が
あります。そのため、vimを次のように起動します。 >

    vim -u NONE -U NONE -N -i NONE
<
これはVimを'nocompatible'モード(-N)で起動し、あなたのviminfoファイルを読み込ま
ず(-i NONE)、あらゆる設定ファイルも読み込まず(-u NONEで.vimrcを使用しない、-U
NONEで.gvimrcを使用しない)、同様にプラグインも読み込まれません。

この状態で問題を再現してみてください。エラーが続く場合は、Vimのバグを見つけた
可能性があります。(|faq-2.6|も参照してください)

この方法でVimを起動したときにエラーが発生しない場合、何かのプラグインに関連す
る問題か、ローカルの設定ファイルのいずれかの設定が関係しています。エラーを引き
起こす原因を調べる必要があるため、次のようにVimを起動してみてください。 >

    vim -u NONE -U NONE -N
<
もしエラーが発生した場合、問題は.viminfoファイルにあります。単純に.viminfoファ
イルを削除してください。エラーが発生しない場合は次を試してください。 >

    vim -u ~/.vimrc --noplugin -N -i NONE
<
これは単に設定ファイルとして.vimrcを使用しますが、プラグインはロードしません。
今回エラーが発生した場合は、.vimrcファイル内の設定オプションによってエラーが発
生する可能性があります。あなたの.vimrcファイルの長さによっては、ファイル内の原
因をトレースするのがかなり難しいかもしれません。

最善の方法は.vimrcの途中に|:finish|コマンドを追加することです。先ほどと同じコマン
ドラインでVimを再起動してください。依然としてエラーが発生する場合は.vimrc内の
前半の設定のためにバグが発生しています。エラーが起こらない場合は、問題のある設
定が.vimrcの後半にあります。そして、|:finish|コマンドをエラーが発生していると思
われる領域の半分の位置に移動し、問題のあるオプションが見つかるまでこれを繰り返
します。あなたの.vimrcが350行ある場合、エラー行を見つけるには最大9回の試行が必
要です。(行同士が依存するため、実際には多くの場合でこれより少ない可能性があり
ます。)

.vimrcファイルを読み込むだけでは問題が発生しない場合、エラーはプラグインまたは
別のランタイムファイル(インデント、オートロード、構文スクリプト)で発生していま
す。|:scriptnames|コマンドの出力で、どのファイルが読み込まれているかを確認し、そ
れぞれのファイルを1つずつ無効にしていき、どのファイルがバグを発生させているか
を確認します。多くの場合、ファイルがvimに読み込まれる時にそれを無効にする単純
な設定変数があるので、それぞれのファイルの中身を確認する必要があります。

コマンドライン引数-Vをつけて起動するとデバッグ情報が得られ、問題を分析すること
ができます: >

    $ vim -V2logfile
<
-V引数に渡す値を増やせば、さらに詳しいデバッグ情報が得られます。また、ログファ
イル名を指定することで、デバッグメッセージが画面に表示されなくなるため、問題を
再現する邪魔になりません。

さらなる情報については以下を参照してください。

    |-u|
    |-U|
    |-N|
    |-V|
    |'verbose'|
    |:verbose|
    |:set-verbose|

 								*faq-2.6*
2.6. どこでバグ報告をすればいいですか？

最初に次のコマンドを使って必要な情報を集めてください: >

    :source $VIMRUNTIME/bugreport.vim
<
そして上のコマンドで得られたテキストをbugs@vim.orgメールアドレスに送ってくださ
い。 https://github.com/vim/vim/issues にあるパブリックなバグトラッカーが利用
可能です。各メッセージのコピーはVim開発メーリングリストに転送されます。

Vim開発メーリングリスト(Question 2.2 を参照 |faq-2.2|)は通常のバグについて議論
するのにふさわしい場所です。あなたの見つけたバグがシンタックスハイライティング
やその他の「付加的な機能」(つまり、直接 vim にプログラムされていないもの)に関
するものであれば、その機能のメンテナーに報告してみてください。メンテナーの連絡
先は、対応するランタイムファイルの先頭に記載されているでしょう。

さらなる情報については以下を参照してください。

    |bug-reports|

 								*faq-2.7*
2.7. FAQ はどこで見つけられますか？

FAQ は https://vimhelp.appspot.com/vim_faq.txt.html で見ることができます。
これは以下のGitHubリポジトリで管理されたソースから自動生成されています。
https://www.github.com/chrisbra/vim_faq (パッチ歓迎)

{訳注: 日本語版のFAQは以下にある。
       https://vim-jp.org/vimdoc-ja/vim_faq.html
       管理は以下で行われている。
       https://github.com/vim-jp/vimdoc-ja-working/ }

リポジトリには様々なフォーマットの FAQ が含まれています。例えばmanpage、PDFファ
イル、HTMLファイル、プレーンテキスト、そしてVimヘルプ形式です。

若干古いバージョン(もう更新されていないようです)はまだ VimOnline
(https://www.vim.org/) で見ることができます。

 								*faq-2.8*
2.8. この FAQ に答えが見つからなかった時、どうすればいいですか？

この FAQ は主に Vim に特有の質問を扱います。ほとんどの Vi クローン向きの情報に
ついては Vi FAQ を読めば見つかるでしょう。これは comp.editors で定期的に投稿さ
れています。下記の場所にもそのコピーがあります。

    http://www.faqs.org/faqs/editor-faq/vi/part1/index.html

また、Vim は過去数年間で非常に多くの機能を集積してきたため、よくある質問をここ
で申し分なく記述することは不可能に近い作業です。これを可能にするために、もし良
い質問をお持ちならメンテナーにメールで知らせてください。良い質問とは、自分で答
えを出そうとして(Vim は素晴らしいドキュメントを備えていることを思い出してくだ
さい)非常に苦労した質問のことです。

 								*faq-2.9*
2.9. Vimに機能を追加するパッチを持っています。これをどこへ送ればいいですか？

Vim開発者メーリングリストvim-dev@vim.orgにパッチを送ってください。

さらなる情報については以下を参照してください。

    |vim-dev|

 								*faq-2.10*
2.10. Vimのtipを持っていたり新しいsyntax/indent/filetype/compilerプラグインを
      開発したり、新しいスクリプトやカラースキームを開発しました。これをアップ
      ロードできる公開のウェブサイトはありますか？

あります。Vim Onlineウェブサイトにプラグイン・スクリプト、カラースキームなどを
アップロードすることができます。サイトは https://www.vim.org にあります。
また現在は多くの人がプラグイン・ランタイムファイルをGitHubで公開しています。

Tipsは以下のWikiで共有することもできます。

    http://vim.wikia.com

=============================================================================
 								*faq-3*
SECTION 3 - 入手 ~

 								*faq-3.1*
3.1. Vim の最新のバージョンは何ですか？

Vim の最新バージョンは2019年12月12日にリリースされた 8.2 です。

Vimのリリース履歴は以下の通りです:

    バージョン      リリース日 ~
    --------------  -------------- ~
    Version 8.2     2019年12月12日
    Version 8.1     2018年05月17日
    Version 8.0     2016年09月12日
    Version 7.4     2013年08月10日
    Version 7.3     2010年08月15日
    Version 7.2     2008年08月09日
    Version 7.1     2007年05月12日
    Version 7.0     2006年05月08日
    Version 6.4     2005年10月15日
    Version 6.3     2004年06月08日
    Version 6.2     2003年06月01日
    Version 6.1     2002年03月24日
    Version 6.0     2001年09月27日
    Version 5.8     2001年05月31日
    Version 5.7     2000年06月24日
    Version 5.6     2000年01月16日
    Version 5.5     1999年09月21日
    Version 5.4     1999年07月26日
    Version 5.3     1998年08月31日
    Version 5.2     1998年08月24日
    Version 5.1     1998年04月07日
    Version 5.0     1998年02月19日
    Version 4.6     1997年03月13日
    Version 4.5     1996年10月17日
    Version 4.2     1996年07月05日
    Version 4.0     1996年05月29日
    Version 3.0     1994年08月12日
    Version 2.0     1993年12月21日
    Version 1.27    1993年04月23日
    Version 1.17    1992年04月21日
    Version 1.14    1991年11月02日

古いリリース履歴に興味があるならvim-history gitリポジトリを参照してください:
https://github.com/vim/vim-history
特にリリース履歴を参照する場合:
https://github.com/vim/vim-history#release-history

さらなる情報については以下を参照してください。

    |new-8|
    |new-7|
    |new-6|
    |new-5|
    |changed-8.2|
    |changed-8.1|
    |changed-7.4|
    |changed-7.3|
    |changed-7.2|
    |changed-7.1|

 								*faq-3.2*
3.2. どこで Vim の最新版を見つけられますか？

GitHubの以下のURLからVimの最新バージョンのソースがダウンロードできます。

    https://github.com/vim/vim

mercurialのミラーもあります:

    https://bitbucket.org/vim-mirror/vim
    http://hg.256bit.org/vim/
    https://hg.osdn.net/view/vim/vim

Vimの最新のバイナリを配布するためにリポジトリを更新しているユーザーがいます。
それらのリポジトリは以下のURLで探すことができます。

    http://vim.wikia.com/wiki/Where_to_download_Vim

{訳注: 日本語版のWindows、macOSのバイナリを以下からダウンロードできる。
       https://vim-jp.org/ }

 								*faq-3.3*
3.3. どのプラットフォーム上で実行できるんですか？

全ての Unix プラットフォーム。
全ての Windows プラットフォーム。(XPかそれ以降)
Amiga、Atari、BeOS、Macintosh、MachTen、OS/2、RiscOS、VMS、IBM z/OS です。

MS-DOSのサポートはVimの最新リリースでは削除されました。
16-bit DOS: 最新のサポートバージョン 7.1
32-bit DOS: 最新のサポートバージョン 7.3

 								*faq-3.4*
3.4. どこでVimのランタイムファイルの最新バージョンをダウンロードできますか？

Vimランタイムファイル(構文ファイル、ファイル形式別プラグイン、コンパイラプラ
グイン、カラースキーム、ドキュメント、インデントファイル、キーマップ)はVim
のGitHubリポジトリ

    https://github.com/vim/vim/tree/master/runtime

ランタイムファイルをダウンロードする別の手段として以下があります: >

    wget https://github.com/vim/vim/archive/master.tar.gz -O- |
    tar zfx - vim-master/runtime/ --strip-components=1
<
以下も参照:

    https://www.vim.org/runtime.php

=============================================================================
 								*faq-4*
SECTION 4 - ヘルプ ~

 								*faq-4.1*
4.1. どうやってヘルプファイルを利用するんですか？

Vim の全ての機能にヘルプがあります。それを利用するには、`:h` を使ってください。
そうするとメインのヘルプページを見ることができます。この最初のページで、どう
やって動き回るかの説明があると思います。基本的にはリードオンリーのドキュメント
内を動き回るのと同じ仕方でヘルプ内を移動します。特定のテーマへジャンプするには
タグを使うことができます。これは二通りの方法で行えます:

   * コマンドやオプションの上で CTRL-] コマンドを使う。これはタグがキー
     ワードである場合にのみ有効です。<Ctrl-LeftMouse> や g<LeftMouse> も
     CTRL-] と同じように機能します。

   * `:tag subject` コマンドを使う。これはどんな文字であっても利用できます。

以前のヘルプファイルの場所へ戻るには CTRL-T を使ってください。ヘルプを閉じ
るには `:q` を使ってください。

ヘルプページのある特定のテーマへジャンプしたければ `:help {subject}` を使ってくだ
さい。何を探せば良いか分からなければ、 `:help index` で全ての利用可能なテーマの一
覧を得ることができます。標準の検索語を使って欲しい情報を見つけてください。
`:help`コマンドは`:h`と短縮することができます。

ヘルプを探すには次のQuestion 4.2を参照してください。 |faq-4.2|

さらなる情報については以下を参照してください。

    |online-help|

 								*faq-4.2*
4.2. どうやってVimヘルプファイル中のキーワードを探すんですか？

a)  ヘルプキーワードをタイプした後にCTRL-Dを押すとそのパターンを含む全てのヘル
    プキーワードのリストが得られます。*、\+などのメタ文字を使ってヘルプの検索
    パターンを指定することもできます: >

    :help init<C-D>
    :help str*()<C-D>
    :help '*indent<C-D>

b)  ヘルプキーワードの一部をタイプした後に<Tab>キーを押すと、マッチするキーワー
    ドに展開することができます。<Tab>キーを押しつづけると他のマッチするキーワー
    ドに変わっていきます。

c)  ヘルプウィンドウでは`:tag`コマンドを使ってキーワードを検索することができま
    す。例えば、 >

    :tselect /window
<
    このコマンドはテキスト"window"を含むヘルプキーワード全てをリスト表示します。
    そのリストの中から1つを選んでそこへジャンプすることができます。

d)  `:helpgrep`コマンドを使って全てのヘルプファイル中から与えられたテキストを
    検索することができます。QuickFixウィンドウが開き、全てのマッチする行が表示
    されます。

さらなる情報については以下を参照してください。

    |help-summary|
    |c_CTRL-D|
    |c_<Tab>|
    |:tselect|
    |:help|
    |:helpgrep|

 								*faq-4.3*
4.3. エラーメッセージE123が出ました。何がまずいのでしょうか？

以下を行うと、エラーとエラーメッセージについてより詳しい情報が得られます:

    |E123|

さらなる情報については以下を参照してください。

    |error-messages|

 								*faq-4.4*
4.4. Vimの様々なモードについては何を読めばいいですか？

Vimにおけるモードの違いについては、以下を読めば情報を得られます。

    |vim-modes|

 								*faq-4.5*
4.5. 新しいVimヘルプファイルを追加した後、どうすればVimのヘルプタグファイルを
     生成することができますか？

`:helptags`コマンドを使えばVimのヘルプタグファイルを再生成することができます。
例えば: >

    :cd $VIMRUNTIME/doc
    :helptags .
<
'runtimepath'内のすべての"doc"ディレクトリを更新するには以下を実行します。 >

    :helptags ALL

さらなる情報については以下を参照してください。

    |:helptags|
    |add-local-help|

 								*faq-4.6*
4.6. 圧縮したヘルプファイルを使うことはできますか？

できます。ヘルプファイルを圧縮し、それをVimで表示することもできます。これを行
うとヘルプファイルにアクセスするのが少し遅くなり、"gzip"ユーティリティが必要に
なります。圧縮したVimヘルプファイルを使うには、以下のステップを行ってください。


- "gzip doc/*.txt"として全てのヘルプファイルを圧縮する。

- "doc/tags"ファイルを編集し、以下のコマンドを実行して".txt"を".txt.gz"に変更
  する。
        :%s=\(\t.*\.txt\)\t=\1.gz\t=

- 次の行をあなたのvimrcに追加する:
        set helpfile={dirname}/help.txt.gz

{dirname}はヘルプファイルがあるディレクトリです。標準Vimディストリビューション
に同梱のgzip.vimプラグインがファイルの展開をしてくれます。他のVimファイルが圧
縮された"doc"ディレクトリと別な場所にある場合は、$VIMRUNTIMEが他のVimファイル
のある場所に設定されていなければなりません。

注記: |:helpgrep|コマンドは圧縮されたヘルプページでは機能しません。

さらなる情報については以下を参照してください。

    |gzip-helpfile|
    |'helpfile'|
    |gzip|
    |$VIMRUNTIME|

=============================================================================
 								*faq-5*
SECTION 5 - ファイルの編集 ~

 								*faq-5.1*
5.1. ファイルを編集用に読み込むには？

ファイルを編集用に読み込むにはいくつかの方法があります。もっとも単純な方法は
`:e` (:edit)コマンドを使うことです: >

    :e <filename>
<
`:n` (:next)コマンドを使ってファイルをVimに読み込ませることもできます: >

    :n <filename(s)>
<
`:args`コマンドを使ってファイルをVimに読み込ませることもできます: >

    :args <filename(s)>
<
さらなる情報については以下を参照してください。

    |usr_07.txt|
    |edit-files|
    |:edit|
    |:next_f|
    |:args_f|

 								*faq-5.2*
5.2. 現在のファイルを別な名前で保存(save as)して新しいファイルを編集するには？

`:saveas`コマンドを使えば現在のファイルを別な名前で保存することができます: >

    :saveas <newfilename>
<
別な方法としては、以下のコマンドを使うこともできます: >

    :w <newfilename>
    :edit #
<
`:file`コマンドと`:w`コマンドを使うこともできます: >

    :file <newfilename>
    :w
<
さらなる情報については以下を参照してください。

    |07.7|
    |:saveas|
    |:file_f|
    |:w|

 								*faq-5.3*
5.3. カレントディレクトリを現在のファイルのディレクトリにするには？

次のコマンドでカレントディレクトリを現在のファイルのディレクトリにできます: >

    :cd %:p:h
<
自動的にカレントディレクトリを現在のファイルのディレクトリにするには、単純に
'autochdir'オプションをセットします。 >

    :set autochdir
<
さらなる情報については以下を参照してください。

    |:cd|
    |:lcd|
    |filename-modifiers|
    |autocommand|
    |'acd'|
    |getcwd()|

 								*faq-5.4*
5.4. ファイルの末尾に改行文字(EOL)をつけずにファイルを書き込むには？

'eol'オプションをオフにして'binary'オプションをオンにすればファイルの末尾に
EOLをつけずにファイルを書き込むことができます: >

    :set binary
    :set noeol
    :w
<
もしくは、以下を実行します: >

    :set noeol
    :w ++bin
<
EOLが存在しない場合にのみVimが書き込まないようにしたければ、'fixeol'オプション
をオフにします。これにはVim 7.4.785以上が必要なため、以下のようにif条件で囲む
必要があります: >

    if exists('+fixeol')
        set nofixeol
    endif
<
これには、'binary'オプションが持つ多くの副作用を避ける利点があります。

さらなる情報については以下を参照してください。

    |'endofline'|
    |'fixeol'|
    |'binary'|
    |23.4|

 								*faq-5.5*
5.5. ファイルを最後に編集した場所から開くようにするには？

Vimは各バッファに対して最後に編集した場所のカーソル位置を'"'レジスタに保存しま
す。次のautocmdを.vimrcまたは.gvimrcに書けば、ファイルを最後に編集した場所から
開くようにできます: >

    au BufReadPost * if line("'\"") > 0 && line("'\"") <= line("$") |
                         \ exe "normal! g`\"" | endif
<
もしくは、単にvimrc_example.vimファイルを読み込むようにすることもできます。
これはVimと一緒に配布されています。

さらなる情報については以下を参照してください。

    |'quote|
    |last-position-jump|
    |vimrc_example.vim|

 								*faq-5.6*
5.6. Vimでファイルを編集中にそのファイルが他のアプリケーションによって変更され
     たとき、Vimは変更が検出されるたびに警告ウィンドウ(確認ダイアログのような)
     を開きます。この警告を無効にするには？

'autoread'オプションをセットすると、Vimの外部でファイルが変更されたとき、自動
的に読み直すようにできます: >

    :set autoread
<
次のautocommandを使うこともできます: >

    autocmd FileChangedShell *
          \ echohl WarningMsg |
          \ echo "File has been changed outside of vim." |
          \ echohl None
<
さらなる情報については以下を参照してください。

    |'autoread'|
    |FileChangedShell|
    |timestamp|
    |:checktime|

 								*faq-5.7*
5.7. カーソル下のファイル名のファイルを開くには？

gfコマンドでカーソル下のファイル名のファイルを開くことができます。CTRL-W fコマ
ンドでそのファイルを新しいウィンドウで開くことができます。最後にCTRL-W gwを使っ	
てカーソル下のファイル名を含んだ新しいタブページを開くことができます。

さらなる情報については以下を参照してください。

    |gf|
    |CTRL-W_f|
    |CTRL-W_gf|
    |'isfname'|
    |'path'|
    |'suffixesadd'|
    |'includeexpr'|

 								*faq-5.8*
5.8. 現在のファイルを再読み込みするには？

ファイル名を指定せずに`:edit`コマンドを行えば、現在のファイルを再読み込みする
ことができます。ファイルに変更をしてある場合は、`:edit!`とすれば強制的に現在の
ファイルを再読み込みすることができます。(変更は失われますが、'undoreload'の設定	
に依存します。その変更はアンドゥ履歴に保存される場合もあります。)

さらなる情報については以下を参照してください。

    |:edit|
    |:edit!|
    |'confirm'|
    |'undoreload'|

 								*faq-5.9*
5.9. ファイルを定期的に自動保存するには？

Vimにはファイルを定期的に自動保存する機能はありません。

さらなる情報については以下を参照してください。

    |'updatetime'|
    |CursorHold|
    |swap-file|

 								*faq-5.10*
5.10 ファイルを読み取り専用モードで開くには？

ファイルを読み取り専用モードで開くには`:view`コマンドを使います: >

    :view <filename>
<
このコマンドは開いたバッファに'readonly'オプションをセットします。また、コマン
ドラインオプション"-R"をつければファイルを読み取り専用モードで開くことができま
す: >

    $ vim -R <filename>
<
また、コマンドラインからシンボリックリンク実行ファイル"view"を使ってもファイル
を読み取り専用モードで開くことができます: >

    $ view <filename>
<
さらなる情報については以下を参照してください。

    |07.6|
    |'readonly'|
    |'modifiable'|
    |:view|
    |:sview|
    |view|
    |-R|
    |-M|

 								*faq-5.11*
5.11. 現在のファイルの変更を保存せずに編集用にファイルを開くには？

現在のファイルの変更を保存せず新たに編集用にファイルを開き、また変更を失わない
ようにするには以下のいずれかを実行します。 >

    :split <new_filename>
    :new <new_filename>
<
'hidden' オプションをセットして新しいファイルを編集することができます。 >

    :set hidden
    :e <new_filename>
<
現在のファイルに対する変更を破棄して別のファイルを編集用に開くには、以下のコマ
ンドを実行します。 >

    :e! <new_filename>
<
さらなる情報については以下を参照してください。

    |:edit!_f|
    |'hidden'|
    |:split|
    |:new|

 								*faq-5.12*
5.12. Vimでとても大きなファイルを開く場合にロード時間を短縮するには？

以下の設定をすることで、Vimでとても大きなファイルを開く時間を短縮できます。 >

    :set lazyredraw
    :set noswapfile
    :set undolevels=-1
    :set eventignore=all
    :set nohidden
    :set syntax=off
<
注記: 上記の設定は、以下に述べるVimの多くの機能を無効にします。クラッシュリカ
バリのためのスワップファイル機能、アンドゥ機能、構文強調、ファイルタイプの特定、
その他のオートコマンドによる機能。

以下に LargeFile プラグインがあります。

    https://www.vim.org/scripts/script.php?script_id=1506

このプラグインは大きなファイルを扱う場合にこれらのオプションを自動で設定します。
(設定で、大きなファイルとみなされるファイルサイズを指定できます。デフォルトは
100MBです。)

=============================================================================
 								*faq-6*
SECTION 6 - 複数のファイルを編集する ~

 								*faq-6.1*
6.1. Vim内で同時に複数のファイルを開くには？

引数リスト、バッファ、タブ、ウィンドウの違いを確認してください。これらはすべて	
Vimの中では異なるものです。

バッファはテキストを編集する場所で、ほとんどの場合はファイルに関連付けられてい
ますが必須ではありません。ウィンドウはバッファ用の場所であり、タブはウィンドウ
のセットであり、より適切な呼び方をするなら「レイアウト」になります。

Vim内で同時に複数のファイルを開くにはいくつかの方法があります。`:next`コマンド
を使うとファイルのグループを指定することができます: >

    :next f1.txt f2.txt
    :next *.c
<
:argsコマンドを使うとファイルのグループを引数に指定することができます: >

    :args f1.txt f2.txt
    :args *.c
<
ファイルを読み込んだら、`:next`と`:prev`コマンドでファイルを切り替えることがで
きます。

引数リストに含まれる全てのファイルでコマンドを実行するには`:argdo`を使います。

さらなる情報については以下を参照してください。

    |07.2|
    |:next|
    |:args_f|
    |argument-list|

 								*faq-6.2*
6.2. 複数のファイル・バッファを切り替えるには？

全てのバッファを一覧するには`:ls`を使用します。ファイルが関連付けられていない
バッファ(リストされていないバッファ、例えばスクラッチバッファとヘルプウィンドウ)	
も含めて一覧するには`:ls!`を使用します。

複数のファイルを切り替えるにはいくつかの方法があります。`:buffer`コマンドを使う	
と複数のファイルを切り替えることができます。コマンドは`:b`のように短くすること
ができ、ファイル名の一部だけを指定できます。例えば、 >

    :buffer file1
    :buffer file2
    :b e2
<
自動補完のため`:b`に続けて<TAB>を使うこともできます。また、`:b`の後にCTRL-D
を試してみればすべての存在するバッファを見ることができます。これは`:e`にも同様
に働きます。

CTRL-^を使ってバッファを切り替えることもできます。キーの前にカウントを指定する
とその番号のバッファを編集することができます。カウントを指定しないでCTRL-^を押
すと代替バッファを編集します。

`:e #`コマンドでも特定のバッファを編集することができます: >

    :e #5
<
バッファを閉じるには`:bd`コマンドを使用します。

バッファリストに含まれる全てのファイルでコマンドを実行するには`:bufdo`を使いま
す。

さらなる情報については以下を参照してください。

    |edit-files|
    |:buffer|
    |CTRL-^|
    |alternate-file|
    |22.4|
    |07.3|

 								*faq-6.3*
6.3. それぞれのファイルを別ウィンドウ/タブページで開くには？

コマンドライン引数-oと-Oを指定すると複数のファイルを水平または垂直に分割した
ウィンドウで開くことができます。例えば: >

    $ vim -o3 f1.txt f2.txt f3.txt
<
上のコマンドはファイルf1.txt、f2.txt、f3.txtを3つに水平に分割したウィンドウで
開きます。 >

    $ vim -O3 f1.txt f2.txt f3.txt
<
上のコマンドはファイルf1.txt、f2.txt、f3.txtを3つに垂直に分割したウィンドウで
開きます。 >

    $ vim -p f1.txt f2.txt f3.txt
<
上のコマンドはファイルf1.txt、f2.txt、f3.txtを3つの別のタブページで開きます。
オプション'tabpagemax'は同時に開けるタブページの最大値を定義します。デフォルト
の最大値は10です。

さらなる情報については以下を参照してください。

    |-o|
    |-O|
    |-p|
    |startup-options|
    |'tabpagemax'|

 								*faq-6.4*
6.4. 「ワークセット」や「プロジェクト」のように自動的に複数のファイルを同時に
     読み込ませるようにするには？

自動的に複数のファイルを読み込ませるようにするには`:mksesion`と`:mkview`を使い
ます。

`:mksession`コマンドは現在編集中のセッションを復元するVim scriptを生成します。
このmksessionコマンドで作られたファイルは`:source`コマンドで読み込むことができ
ます。

`:mkview`コマンドは現在のウィンドウの中身を復元するVim scriptを生成します。
現在のファイルのviewを読み込むには`:loadview`コマンドを使います。

さらなる情報については以下を参照してください。

    |21.4|
    |21.5|
    |views-sessions|
    |'sessionoptions'|
    |:mksession|
    |:source|
    |v:this_session|
    |:mkview|
    |:loadview|
    |'viewdir'|
    |buffers|

 								*faq-6.5*
6.5. NeditやEmacsのように単一のVimインスタンスで複数のトップレベルウィンドウを
     開くことはできますか？

できません。単一のVimインスタンスで複数のトップレベルウィンドウを開くことは現
在は不可能です。この機能はtodoリストの中にあります。

 								*faq-6.6*
6.6. Vim内でディレクトリをブラウズするには？

標準Vimディストリビューションに同梱のnetrw.vimプラグインを使えばVim内でディ
レクトリをブラウズすることができます。以下のコマンドのうちどれかでファイルエク
スプローラーを起動することができます: >

    :e <directory>
    :Explore
    :Sexplore
    :Vexplore
    :Texplore
<
ファイルエクスプローラーではディレクトリをブラウズし、ファイルをリネーム、
削除、編集することができます。

さらなる情報については以下を参照してください。

    |netrw.vim|
    |22.1|

 								*faq-6.7*
6.7. ftp/scp/rcp/httpでネットワークごしにファイルを編集するには？

標準Vimディストリビューションに同梱のnetrw.vimを使えばftp/scp/rcp/httpでネット
ワークごしにファイルを編集することができます。このプラグインを使うと、Vimは
ftp/scp/rcp/httpごしのファイルを透過的に読み込み、保存します。例えば、ftpごし
にファイルを編集するには、以下のコマンドを使います: >

    $ vim ftp://machine/path
<
さらなる情報については以下を参照してください。

    |netrw.vim|

=============================================================================
 								*faq-7*
SECTION 7 - バックアップ ~

 								*faq-7.1*
7.1. ファイルを保存したとき元のファイル名の末尾に"~"という文字をつけたファイル
     が作られます。このファイルを作成するのを止めさせるには？(または)バック
     アップ機能を無効にするには？

あなたは'backup'オプションをセットしているので、Vimは元のファイルを保存すると
きにバックアップを作ります。このバックアップファイルを作るのを止めさせるには、
このオプションをクリアします: >

    :set nobackup
<
注記: デフォルトではこのオプションはオフにされています。初期設定ファイルのどこ
かで明示的に'backup'オプションが有効化されています。'writebackup'オプションも
オフにするとよいかもしれません: >

    :set nowritebackup
<
さらなる情報については以下を参照してください。

    |07.4|
    |backup-table|
    |'backup'|
    |'writebackup'|
    |'backupskip'|
    |'backupdir'|
    |'backupext'|
    |'backupcopy'|
    |backup|

 								*faq-7.2*
7.2. ファイルを保存したとき元のファイル名の末尾に".un~"という拡張子をつけたファ
     イルが作られます。このファイルを作成するのを止めさせるには？(または)アン
     ドゥファイル機能を無効にするには？

Vim 7.3にはアンドゥを永続化する新機能があります。Vimの終了時にアンドゥ情報を失
わないために、元のファイル名の末尾に".un~"という拡張子をつけたファイルに保存さ
れます。'undofile'オプションをオンにすると、元のファイルを保存したときにアンド
ゥファイルが作られます。このファイルの作成を止めさせるには以下のオプションを設
定します。 >

    :set noundofile
<
注記: デフォルトではこのオプションはオフにされています。初期設定ファイルのどこ
かで明示的に'undofile'オプションが有効化されています。'undodir'オプションを使
えば全てのアンドゥファイルを特定のディレクトリに保存するように設定できます。

さらなる情報については以下を参照してください。

    |'undodir'|
    |'undofile'|
    |undo-persistence|

 								*faq-7.3*
7.3. 全てのバックアップファイルを特定のディレクトリに保存するように設定するに
     は？
'backupdir'オプションを使えば全てのバックアップファイルを特定のディレクトリに
保存するように設定できます。例えば、全てのバックアップファイルを~/backupディレ
クトリに保存するには、次のコマンドを使います: >

    :set backupdir=~/backup
<
さらなる情報については以下を参照してください。

    |07.4|
    |'backupdir'|
    |backup|

 								*faq-7.4*
7.4. ファイルを保存するとファイルパーミッションが変更されます。ファイルパー
     ミッションを変更せずにファイルを保存するよう設定するには？

これは'backupcopy'が"no"または"auto"に設定されていると起こりえます。注記: この
オプションのデフォルト値はほとんどの場合に正しく動作するように設定されていま
す。もしそのデフォルト値が正しく機能しないなら、'backupcopy'オプションを"yes"
にすればファイル保存時にパーミッションをそのままにすることができます: >

    :set backupcopy=yes
<
これはファイルを上書きするときは必ずバックアップを作るように設定したときだけ適
用されます。デフォルトではVimはバックアップファイルを作りません。

さらなる情報については以下を参照してください。

    |'backupcopy'|
    |backup|
    |'backup'|
    |'writebackup'|

=============================================================================
 								*faq-8*
SECTION 8 - バッファ ~

 								*faq-8.1*
8.1. バッファに対して変更を加えました。変更されたバッファを保存せずに、かつ変
     更を失うことなく他のバッファを編集するには？

'hidden'オプションをセットすれば現在のファイルに対する変更を失うことなく他の
ファイルを編集することができます: >

    :set hidden
<
'hidden'オプションをセットすると、バッファに対する変更履歴(アンドゥ履歴)も保
存されます。そうでないと、ファイルを切り替えたときにアンドゥ履歴が失われてしま
うでしょう。(永続的なアンドゥファイルを使用しない場合。).

さらなる情報については以下を参照してください。

    |'hidden'|
    |hidden-quit|
    |:hide|

 								*faq-8.2*
8.2. バッファを切り替えるときに自動的に保存するよう設定するには？

'autowrite'オプションをセットすると、他のバッファに切り替えるとき変更された
バッファを自動保存します: >

    :set autowrite
<
さらなる情報については以下を参照してください。

    |'autowrite'|
    |'autowriteall'|
    |'hidden'|

 								*faq-8.3*
8.3. カレントウィンドウのバッファを空バッファにするには？

`:enew`コマンドを使うとカレントウィンドウのバッファに換わって空バッファを読み
込みます。

さらなる情報については以下を参照してください。

    |:enew|

 								*faq-8.4*
8.4. バッファ番号を指定してバッファを読み込むショートカットキーはありますか？

CTRL-^コマンドを使うとバッファ番号を指定してバッファを読み込むことができます。
例えばバッファ番号5を読み込むには5 CTRL-^とします。

さらなる情報については以下を参照してください。

    |CTRL-^|

 								*faq-8.5*
8.5. 読み込んでいるバッファをそれぞれ別のウィンドウで開くには？

`:ball`または`:sball`コマンドでバッファリスト中の全てのバッファを開くことがで
きます: >

    :ball
<
全てのバッファを新しいタブでで開きたい場合、単純に:tabコマンドを前置します: >

    :tab :sball
<
さらなる情報については以下を参照してください。

    |:ball|

 								*faq-8.6*
8.6. Vimを終了することなくバッファを閉じる(削除する)には？

`:bdelete`, `:bwipeout` または `:bunload` コマンドでVimを終了することなくバッ
ファを削除できます。例: >

    :bdelete file1
<
さらなる情報については以下を参照してください。

    |:bdelete|
    |:bwipeout|
    |:bunload|

 								*faq-8.7*
8.7. `:%bd`コマンドで全バッファを削除しようとしても、全てのバッファが削除され
     ません。なぜ？

`:%bd`コマンドにおいて範囲"%"はカレントバッファの開始行と終端行で置き換えられ
ます。範囲として"%"を使わず、番号を指定しなければなりません。例えば、
`:1,9999bd`とすれば全バッファを削除できます。

さらなる情報については以下を参照してください。

    |:bd|

(この動作はパッチ7.4.530で修正されました。)

 								*faq-8.8*
8.8. カレントバッファ/ファイルのバッファ番号を表示するには？

2<CTRL-G>コマンドでカレントバッファ/ファイルのバッファ番号を表示できます。
CTRL-Gの前にカウントを指定することに注意してください。カウントが1より大きい場
合、バッファ番号が表示されます。

カレントバッファを表示するのに以下のコマンドを使うこともできます: >

    :echo bufnr("%")
<
また、'statusline'オプションにフィールド"%n"を含めるとステータスラインにバッ
ファ番号が表示されます。

さらなる情報については以下を参照してください。

    |CTRL-G|
    |bufnr()|
    |:echo|
    |'statusline'|

 								*faq-8.9*
8.9. ウィンドウを閉じることなくバッファを削除するには？

次のコマンドで現在のバッファを削除し、次のバッファを開くことができます: >

    :bnext | bdelete #
<
さらなる情報については以下を参照してください。

    |:bnext|
    |:bdelete|
    |:buffers|

 								*faq-8.10*
8.10. <Tab>キーで全バッファを巡回するようにマップするには？

次の2つのマップコマンドを使うと、<Ctrl-Tab>で次のバッファを開き、<Ctrl-Shift-Tab>
で前のバッファを開くようにマップできます: >

    :nnoremap <C-Tab> :bnext<CR>
    :nnoremap <S-C-Tab> :bprevious<CR>
<
注記: これはターミナル版のVimでは動作しないかもしれない。

さらなる情報については以下を参照してください。

    |:bnext|
    |:bprevious|

=============================================================================
 								*faq-9*
SECTION 9 - ウィンドウ ~

 								*faq-9.1*
9.1. ウィンドウとバッファの違いは？

バッファとは編集用にメモリに読み込まれたファイルです。元のファイルはあなたが
バッファをファイルに書き込むまでは変更されないままです。ウィンドウとはバッファ
を表示する領域です。1つのバッファを複数のウィンドウで表示することもできます
し、異なるバッファを複数のウィンドウで表示することもできます。

さらなる情報については以下を参照してください。

    |usr_08.txt|
    |22.4|
    |windows-intro|
    |Q_wi|

 								*faq-9.2*
9.2. ウィンドウの幅を広げるには？

以下のコマンドのどれか1つでウィンドウの幅を広げることができます: >

    :vert resize +N
    :vert resize -N
    :vert resize N
<
CTRL-W <、CTRL-W >、CTRL-W | コマンドを使うこともできます。

さらなる情報については以下を参照してください。

    |:vertical-resize|
    |CTRL-W_>|
    |CTRL-W_<|
    |window-resize|

 								*faq-9.3*
9.3. ウィンドウをズームイン・ズームアウトするには？

ウィンドウをズームするには(カレントウィンドウ以外の全ウィンドウを閉じるには)
"<CTRL-W>o" またはexコマンド `:only` を使います。

"<CTRL-W>_" またはexコマンド `:resize` を使うと、他のウィンドウを閉じずに可能な
限りウィンドウの高さを広げることができます。

"<CTRL-W>|" またはexコマンド `:vertical resize` を使うと、他のウィンドウを閉じ
ずに可能な限りウィンドウの幅を広げることができます。

"<CTRL-W>=" コマンドを使うと全ウィンドウの高さと幅を等しくすることができます。

以下のオプションをセットすると、上記のコマンドを行うのと同じ結果が得られます。

方法1:
'winminheight'オプションを0にする: >

    :set winminheight=0
<
デフォルトではこのオプションは1に設定されています。
このオプションはアクティブでない(カレントウィンドウでない)ウィンドウの最小の
高さをコントロールします。'winminheight'が0に設定されていると、アクティブでな
いウィンドウにはステータスラインだけが表示されます。

方法2:
'noequalalways'オプションをセットし、'winheight'オプションを大きな値(99999な
ど)に設定する: >

    :set noequalalways
    :set winheight=99999
<
こうするとアクティブウィンドウが常に最大サイズで開かれます。他のウィンドウは表
示されますが、ステータスラインのように小さく縮みます。

以上の方法のどれにおいても、いったんウィンドウをズームしてしまうと、ウィンドウ
配置を復元することはできません。ウィンドウ配置を復元したいならばZoomWinプラグ
インを使うことができます。このプラグインはVim onlineからダウンロードできます。

    https://www.vim.org/scripts/script.php?script_id=508

さらなる情報については以下を参照してください。

    |CTRL-W_o|
    |window-resize|
    |'winminheight'|
    |'equalalways'|
    |'winheight'|
    |08.3|

 								*faq-9.4*
9.4. 全バッファまたは全ウィンドウ、引数リスト中の全ファイルに対してexコマンド
     を実行するには？

`:bufdo`コマンドを使うと全バッファに対してexコマンドを実行することができます。
`:windo`コマンドを使うと全ウィンドウに対してexコマンドを実行することができま
す。`:argdo`コマンドを使うと引数リスト中の全ファイルに対してexコマンドを実行す
ることができます。そして最後に、`:tabdo`コマンドを使うと全タブに対してexコマン
ドを実行することができます。

さらなる情報については以下を参照してください。

    |:windo|
    |:bufdo|
    |:argdo|
    |:tabdo|
    |26.3|

=============================================================================
 								*faq-10*
SECTION 10 - モーション ~

 								*faq-10.1*
10.1. ファイルの先頭や末尾に移動するには？

"G"でファイルの最終行へ移動でき、"gg"で先頭行へ移動できます。

さらなる情報については以下を参照してください。

    |G|
    |gg|

 								*faq-10.2*
10.2. 挿入モードで<Esc>キーを押してノーマルモードに移行すると、カーソルが1文字
      左へ移動します(カーソルが行の最初の文字の上にあるときを除いて)。この動作
      を変更し、カーソルがその桁の上に残るようにできますか？

この動作を変更することはできません。カーソルは「常に」有効な文字の上に置かれま
す(仮想編集モードを有効にしていない限り)。そのため、行の末尾にテキストを追加し
ていてノーマルモードに戻るときには、カーソルは必ず最後に入力された文字の上に戻
らねばなりません。一貫性のためにカーソルはどこにあっても1文字戻るようになって
います。たとえ行の真ん中であっても。

挿入モードでCTRL-OまたはCTRL-\ CTRL-Oを使うと、カーソル位置を動かすことなくex
コマンドを1つ実行して挿入モードに戻ることができます。

さらなる情報については以下を参照してください。

    |'virtualedit'|
    |i_CTRL-O|
    |i_CTRL-\_CTRL-O|

 								*faq-10.3*
10.3. <Page Up>、<Page Down>などのキーを押してスクロールしたときカーソル位置の
      桁を保つように設定することはできますか？

'startofline'オプションをオフにするとテキストをスクロールしたときカーソル位置
の桁を保つことができます: >

    :set nostartofline
<
さらなる情報については以下を参照してください。

    |'startofline'|

 								*faq-10.4*
10.4. ファイル中のある行の長さが画面の幅を越えており、折り返されています。ここ
      でj, kキーを使うと画面上の次行(物理行)でなくファイルの次行(論理行)に
      移動します。画面上の次行に移動するには？

gjとgkコマンドを使うと画面上の次行・前行に移動できます。jとkはファイルの次行・
前行に移動します。'wrap'オプションをオフにすると行の折り返しをやめさせることが
できます: >

    :set nowrap
<
さらなる情報については以下を参照してください。

    |gj|
    |gk|
    |'wrap'|

以下のマッピングを使ってもよいでしょう: >

    :map <Up> gk
    :imap <Up> <C-o>gk
    :map <Down> gj
    :imap <Down> <C-o>gj
    :noremap j gj
    :noremap k gk
<
 								*faq-10.5*
10.5. Vimにおける文、段落、セクションの定義は？

文(sentence)は後ろに行末・(1個または2個の)スペース・タブが続く"."、"!"、"?"
で終わると定義されます。文の終端を構成する文字とスペースの個数は'joinspaces'と
'cpoptions'オプションによって決まります。

段落(paragraph)は空行の後から始まります。また、'paragraphs'オプション中の文字の
ペアによって指定される段落マクロも段落の始まりとみなされます。

セクションは1桁目のフォームフィード(<C-L>)から始まります。また、'sections'オプ
ション中の文字のペアによって指定される段落マクロも段落の始まりとみなされます。

さらなる情報については以下を参照してください。

    |sentence|
    |'joinspaces'|
    |'cpoptions'|
    |paragraph|
    |section|
    |word|

 								*faq-10.6*
10.6. 文、段落、セクションの先頭と末尾に移動するには？

以下のコマンドを使うと文、段落、セクションの先頭と末尾に移動することができます
: >

      motion  位置        どこの
      (       先頭        現在の文
      )       末尾        現在の文
      {       先頭        現在の段落
      }       末尾        現在の段落
      []      末尾        前のセクション
      [[      先頭        現在のセクション
      ][      末尾        現在のセクション
      ]]      先頭        次のセクション
<
これらの移動コマンドの前に番号を指定すると、移動を前方(または後方)に拡大する
ことができます。

さらなる情報については以下を参照してください。

    |object-motions|

 								*faq-10.7*
10.7. 画面の右端を越えて続いている行があります。右側にスクロールして画面外に出
      ているテキストを表示するには？

以下のコマンドのどれか1つで画面を左右にスクロールすることができます: >

    zl - 左へスクロール
    zh - 右へスクロール
    zL - 左へ画面半分の幅スクロール
    zH - 右へ画面半分の幅スクロール
    zs - カーソル位置が画面左端に来るようにスクロール
    ze - カーソル位置が画面右端に来るようにスクロール
<
g0コマンドでカーソルを画面上最初の文字へ、g$コマンドで画面上最後の文字へ、画面
をスクロールせずに移動することができます。

さらなる情報については以下を参照してください。

    |scroll-horizontal|

 								*faq-10.8*
10.8. 2個以上のバッファを同時にスクロールさせるには？

それぞれのバッファに対して'scrollbind'オプションをセットすると、それらを同時に
スクロールできるようになります。

さらなる情報については以下を参照してください。

    |'scrollbind'|
    |scroll-binding|
    |'scrollopt'|
    |'cursorbind'|

 								*faq-10.9*
10.9. 矢印キーを使うとモードが変わり、バッファに変な文字が挿入され、カーソルが
      適切に移動しません。どうなっているのですか？

そうなるのには2つの事が考えられます。遅い回線上でVimを使っているか、キーボード
が生成するキーシーケンスをVimが理解していないかです。

もし遅い回線(2400bpsモデムのような)上で使用しているなら、'timeout'や
'ttimeout'オプションを設定してみてください。これらのオプションを'timeoutlen'と
'ttimeoutlen'オプションと組み合わせれば問題が解決するかもしれません。

もしあなたのターミナルが送るキーコードをVimが理解しなければ、そのコマンドは正
しく動きません。この場合、最良の選択肢はそのキーシーケンスをカーソル移動コマ
ンドにマップして、そのマッピングをファイルに保存しておくことです。そしてその
ターミナル上で使うときは常にそのファイルを`:source`します。

さらなる情報については以下を参照してください。

    |'timeout'|
    |'ttimeout'|
    |'timeoutlen'|
    |'ttimeoutlen'|
    |:map|
    |vt100-cursor-keys|

 								*faq-10.10*
10.10. カーソルが行頭にあるとき左矢印キーを押すと前行の行末に移動するようにす
       るには？

カーソルが行頭にあるとき左矢印キーを押すと前行の行末に移動するようにするには
'whichwrap'オプションに"<"フラグを加えます: >

    :set whichwrap+=<
<
同様に、カーソルが行末にあるとき右矢印キーを押すと次行の行頭に移動するようにす
るには'whichwrap'オプションに">"フラグを加えます: >

    :set whichwrap+=>
<
これらはノーマルモードとビジュアルモードでのみ機能します。挿入モードと置換モー
ドでも使えるようにするには、それぞれ "[" と "]" フラグを加えます。

さらなる情報については以下を参照してください。

    |'whichwrap'|
    |05.7|

 								*faq-10.11*
10.11. 常に挿入モードに留まるようにするには？(モードレスな編集をするには？)

常に挿入モードに留まるようにするには'insertmode'オプションを使います:
>

    :set insertmode
<
このオプションをセットするとVimをモードレスエディタとして使えるようになります。
<Esc>キーを押してもノーマルモードに移行しません。ノーマルモードコマンドを1つ
だけ実行するにはCTRL-Oを押してからノーマルモードコマンドをタイプします。1つ以
上のノーマルモードコマンドを実行するにはCTRL-Lに続けてそのコマンドをタイプしま
す。挿入モードに戻るには<Esc>キーを押します。このオプションを無効にするには
'insertmode'オプションをオフにします: >

    :set noinsertmode
<
"evim"コマンドまたは"vim -y"を使ってもVimをモードレスエディタとして使用できま
す。

`:startinsert` exコマンドを使ってVimを挿入モードで起動することもできます。

さらなる情報については以下を参照してください。

    |'insertmode'|
    |:startinsert|
    |:stopinsert|
    |i_CTRL-O|
    |i_CTRL-L|
    |evim|
    |evim-keys|

 								*faq-10.12*
10.12. テキストをスクロールするとき、前後の行を表示するには？

'scrolloff'オプションをセットすると画面に表示されるカーソルの前後の行の最小数
を設定できます。 >

    :set scrolloff=10
<
さらなる情報については以下を参照してください。

    |'scrolloff'|
    |'sidescrolloff'|

 								*faq-10.13*
10.13. 以前のカーソル位置に戻るには？

''または``コマンドを使うと最後のジャンプの前にいた位置へカーソルを戻すことがで
きます。CTRL-Oでも以前のカーソル位置に戻ることができ、CTRL-Iでジャンプリスト中
のより新しい位置へ移動できます。

さらなる情報については以下を参照してください。

    |03.10|
    |mark-motions|
    |jump-motions|

=============================================================================
 								*faq-11*
SECTION 11 - テキストを検索する ~

 								*faq-11.1*
11.1. テキストを検索した後、マッチしたテキストが全て強調されます。この強調を一
      時的/永続的に無効にするには？

最後に検索したパターンにマッチする文字列を強調するかは'hlsearch'オプションで決
まります。デフォルトではこのオプションは無効になっています。このオプションがシ
ステムレベルのvimrcファイルでセットされているならば、次のコマンドを使ってこの
強調を無効にできます: >

    :set nohlsearch
<
一時的にこの強調を消すには次のようにします: >

    :nohlsearch
<
また、カレントファイルに存在しないパターンを検索することによってもこの強調をク
リアすることができます(例えば"asdf"を検索する)。

以下のマッピングを使えば、CTRL-Lを押してウィンドウを再描画する時に検索の強調
を消すことができます。 >

    :nnoremap <silent> <C-L> <C-L>:nohls<CR>

さらなる情報については以下を参照してください。

    |'hlsearch'|
    |:nohlsearch|

 								*faq-11.2*
11.2. 検索パターンにキャリッジリターン文字を含めるには？

"\r"を使うか<CTRL-V><CTRL-M>を使えばパターンにキャリッジリターンを含めることが
できます。Vim script中では"\r"を使う方がよいでしょう。

さらなる情報については以下を参照してください。

    |sub-replace-special|

 								*faq-11.3*
11.3. 文字^Mを検索するには？

検索コマンド中にCTRL-Vを押して次にCTRL-Mを押せば^M文字を挿入することができま
す。
>

    /^V^M
<
"\r"文字を使うこともできます。Vim script中では"\r"を使う方がよいでしょう。

さらなる情報については以下を参照してください。

    |c_CTRL-V|
    |using_CTRL-V|
    |/\r|

 								*faq-11.4*
11.4. "~R", "~S"などと表示される文字を検索・置換するには？

"ga"で特殊文字のASCIIコードを表示することができます。例えばASCIIコードが142で
あるなら、次のコマンドでその特殊文字を検索することができます: >

    /^V142
<
ここで^VはCTRL-Vを押して挿入します。

さらなる情報については以下を参照してください。

    |ga|
    |using_CTRL_V|
    |24.8|

 								*faq-11.5*
11.5. ファイル中の印字不能文字を全て強調するには？

次のコマンドと検索パターンを使えばファイル中の印字不能文字を全て強調することが
できます: >

    :set hlsearch
    /\(\p\|$\)\@!.
<
さらなる情報については以下を参照してください。

    |/\p|
    |/bar|
    |/$|
    |/\(|
    |/\@!|
    |'hlsearch'|

 								*faq-11.6*
11.6. 単語に完全に一致するテキストを検索するには？

アトム\<と\>を使えば単語に完全に一致するテキストを検索できます。例えば: >

    /\<myword\>
<
アトム\<は単語の先頭にマッチし、アトム\>は単語の末尾にマッチします。

さらなる情報については以下を参照してください。

    |/\<|
    |/\>|

 								*faq-11.7*
11.7. カーソル下の単語を検索するには？

*キーを押せばカーソル下の単語を前方に検索することができます。後方に検索するに
は#キーを押します。これらのコマンドを使うとキーワードに完全に一致するものだけ
が検索されます。

さらなる情報については以下を参照してください。

    |star|
    |#|
    |gstar|
    |g#|
    |03.8|
    |search-commands|

 								*faq-11.8*
11.8. 大文字・小文字を区別せず検索するには？

常に大文字・小文字を区別しないようにするには'ignorecase'をセットします: >

    :set ignorecase
<
あるパターンを検索するときだけ区別しないようにするには、特別なディレクティブ
\cを使います: >

    /\c<pattern>
<
さらなる情報については以下を参照してください。

    |'ignorecase'|
    |/ignorecase|
    |/\c|

 								*faq-11.9*
11.9. 2回続けて現れる単語を検索するには？

次の検索コマンドのどれかを使えば、2回続けて現れる単語を探すことができます: >

     /\(\<\w\+\)\_s\+\1\>
     /\(\<\k\+\)\_s\+\1\>
<
主な違いは"\w"と"\k"の使用です。後者は'iskeyword'に基づき、アクセントつきの文
字や他の言語固有の文字を含むこともできます。

さらなる情報については以下を参照してください。

    |/\1|
    |/\(|
    |/\)|
    |/\<|
    |/\>|
    |/\w|
    |/\k|
    |/\+|
    |/\_x|
    |'iskeyword'|

 								*faq-11.10*
11.10. ある単語がバッファ中に何回現れるか数えるには？

以下の一連のコマンドを行うと、ある単語がバッファ中に何回現れるかを数えることが
できます: >

    :let cnt=0
    :g/\<your_word\>/let cnt=cnt+1
    :echo cnt
<
上のコマンドは単語を含む行の数を数えるだけです。以下のコマンドを使うこともでき
ます: >

    :%s/\<word\>/&/gn
<
ファイル中のアルファベットだけからなる単語を数えるにはこうします。 >

    :%s/\a\+/&/gn
<
非空白文字だけからなる単語を数えるにはこうします。 >

    :%s/\S\+/&/gn
<
さらなる情報については以下を参照してください。

    |count-items|
    |word-count|
    |v_g_CTRL-G|
    |12.5|
    |:s_flags|

 								*faq-11.11*
11.11. 検索時にカーソルをマッチした単語の末尾に移動させるには？

検索コマンドにオフセット"e"を指定すると、カーソルをマッチした単語の末尾へ移動
させることができます。例 >

    /mypattern/e
<
さらなる情報については以下を参照してください。

    |search-offset|
    |/|

 								*faq-11.12*
11.12. 空行を検索するには？

次のコマンドを使うと空行を検索することができます: >

    /^$
<
    または >

    /^\s*$
<
後者は空白のみで構成される行と一致しますが、前者は真の空行と一致します。さらなる	
情報については以下を参照してください。

    |/^|
    |/$|
    |/\s|
    |/star|
    |search-commands|

 								*faq-11.13*
11.13. 1つの文字だけを含む行を検索するには？

1つの文字だけを含む行を検索するにはこうします: >

    /^\s*\a\s*$
<
さらなる情報については以下を参照してください。

    |/^|
    |/\a|
    |/\s|
    |/star|
    |/$|

 								*faq-11.14*
11.14. 複数のファイルから文字列を検索し、置換するには？

`:argdo`, `:bufdo`, `:windo`, `:tabdo`コマンドを使うと複数のファイルに対してex
コマンドを実行することができます。例: >

    :argdo %s/foo/bar/g|upd
<
さらなる情報については以下を参照してください。

    |:argdo|
    |:bufdo|
    |:windo|
    |:tabdo|

 								*faq-11.15*
11.15. マップ中で置換コマンド`:s`を使っています。検索が失敗したときマップが途
       切れてしまいます。置換が失敗したときにもマップの次のコマンドを続けてほ
       しいのですが、どうすればできますか？

置換コマンドに対して"e"フラグを指定すると、パターンが見つからなかったときも
マップの他のコマンドを続行します。

さらなる情報については以下を参照してください。

    |:s_flags|

 								*faq-11.16*
11.16. 行からある文字がn回目に現れる箇所を検索するには？

行中からある文字がn回目に現れる箇所を検索するには、"f"コマンドにプリフィックス
をつけます。例えば、文字@が5回目に現れる箇所を検索するには、5f@とします。ただ
しカーソルが行頭にあるものとします。また、1桁目の文字が検索する文字ではないも
のとします。

さらなる情報については以下を参照してください。

    |f|
    |F|
    |t|
    |T|
    |;|
    |,|

 								*faq-11.17*
11.17. タブ(やその他の文字)を改行文字で置換するには？

タブ(やその他の文字)を改行文字で置換するには、次のコマンドを使います: >

    :s/\t/\r/
<
上のコマンドで\rでなく\nを使うと改行文字には置換されないので注意してください。

さらなる情報については以下を参照してください。

    |sub-replace-special|
    |NL-used-for-Nul|
    |CR-used-for-NL|

 								*faq-11.18*
11.18. ASCIIコードで検索する文字を指定するには？

"/"コマンド中で、CTRL-Vに続いて10進、16進、8進の値を入力すると、ASCIIコードで
その値を持つ文字を検索することができます。ある文字のASCIIコードを知るには
`:ascii`や"ga"コマンドが使えます。

例として、ASCIIコードで188 (¼)の文字を検索するには、以下の検索コマンドのいずれ
か一つを使うことができます: >

    /<CTRL-V>188
    /<CTRL-V>o274
    /<CTRL-V>xBC
    /<CTRL-V>u00bc
<
次のように[]を使用して、10進、8進、16進の数値で文字を検索することもできます: >

    /[\d188]
    /[\o274]
    /[\xbc]
    /[\u00bc]
<
もしくは、特別なアトム\%d \%o \%x \%uを使うことができます: >

    /\%d188
    /\%o274
    /\%xbc
    /\%u00bc
<
または、ダイグラフを使用して文字を入力します。たとえば、この入力は: >

    /CTRL-K14
<
上記の文字を検索します。

さらなる情報については以下を参照してください。

    |i_CTRL-V_digit|
    |:ascii|
    |ga|
    |/\]|
    |/\%d|
    |digraphs|

 								*faq-11.19*
11.19. 長い行を見つけるには？

検索コマンドで正規表現を使えば長い行、または指定した数以上の文字を含む行を検索
することができます。例えば、80文字以上を含む行を検索するには、このようにします
: >

    /^.\{80}.\+$
    /^.*\%>80c.*$
    /^.*\%>80v.*$
<
さらなる情報については以下を参照してください。

    |/\{|
    |/\%c|
    |/\%v|

 								*faq-11.20*
11.20. カレントバッファ内の指定したパターンを含む行を全て表示するには？

次のコマンドを使うとカレントバッファ内の指定したパターンを含む行を全て表示する
ことができます: >

    :g/<pattern>/p
<
例えば、次のコマンドはカレントバッファ内の"vim"を含む行を全て表示します: >

    :g/vim/p
<
`:p`はexコマンド`:g`に対して実行されるデフォルトのコマンドで、次のようにも使う
ことができます: >

    :g/vim
<
行番号もいっしょに表示したいならば次のコマンドが使えます: >

    :g/<pattern>/#
<
さらなる情報については以下を参照してください。

    |:global|
    |:print|
    |:number|

 								*faq-11.21*
11.21. 複数行にわたる文字列を検索するには？

正規表現のアトム\_xを使えば、複数行にわたる文字列を検索することができます。例
えば、文字列"Hello World"を検索するには次のコマンドを使います: >

    /Hello\_sWorld
<
これは、単語"Hello"とそれに続く改行文字、そして次行の行頭の単語"World"にマッチ
します。またこれは"Hello"、スペース、"World"にもマッチします。行頭と行末の空白
を含めて文字列"Hello World"を検索するには、次のコマンドを使います: >

    /Hello\_s\+World
<
さらなる情報については以下を参照してください。

    |27.8|
    |pattern-atoms|
    |/\_|
    |pattern-searches|

 								*faq-11.22*
11.22. バッファの指定した範囲内から検索するには？

正規表現のアトム\%>lと\%<lを使えば、指定した範囲内からパターンを検索することが
できます。

例えば、10行目と20行目の間から単語"white"を検索するには次のコマンドを使います:
>

    /white\%>9l\%<31l
<
さらなる情報については以下を参照してください。

    |/\%l|

 								*faq-11.23*
11.23. How do I clear the last searched pattern?

The last searched pattern is stored in the "/" register. You can clear
this register using the following command: >

    :let @/=""
<
To clear the last search pattern whenever a buffer is unloaded, you can use
the following command: >

    :autocmd BufUnload * let @/ = ""
<
For more information, read:

    |@/|
    |:let-@|
    |autocmd-searchpat|
    |last-pattern|

 								*faq-11.24*
11.24. Why does this pattern "a.\{-}p\@!" not match?

"\{-}" doesn't just mean "as few as possible", it means "as few as
possible to make the whole pattern succeed". If it didn't match the "p",
the whole pattern would fail (because of the "p\@!") so it does match
the "p". It is a longer match, but it is the shortest match that makes
the whole pattern succeed.

If you wanted "as few as possible regardless" you would use "\@>", which
basically divides a pattern up so that the pieces either side behave
independently. If the pattern were "a.\{-}\@>p\@!" then ".\{-}" would
always match nothing because that's the smallest match that can succeed
when there are not other restrictions. The whole pattern then would
behave the same as "ap\@!", i.e. it would match any "a" not followed by
a "p").

This means, it matches as few as possible "a"s without trying to keep
going until Vim finds the longest match. This means, it will still match
"ap".

 								*faq-11.25*
11.25. How can I use "/" within a pattern, without escaping it?

When using / to search for a pattern, you need to escape all "/" within
the pattern, because they would otherwise terminate the pattern. So you
can't directly search for /usr/share/doc/ but need to search for
\/usr\/share\/doc\/

The easiest solution around that, would be to use "?" to start a
backward search and afterwards use /<CR> to use the last search-pattern
in forward direction.

If you have a Vim, that has the eval-feature built in (which needs at
least a normal built or higher), you can also directly paste the pattern
into the search register:

:let @/ = '/usr/share/doc/'

Then use "n" to jump to the next occurrence.

See also the help at

    |@/|
    |/<CR>|

 								*faq-11.26*
11.26. How can I operate on a search match?

The "gn" command makes it easy to operate on regions of text that match
the current search pattern. By default, it will search forward for the
last used search pattern and visually select the match. If the cursor is
already on the match, it will be visually selected. If you used the "gn"
command after an operator (e.g. "c" to change text), it will be applied
on the match.

If Visual mode is active before using gn, the visual selection will be
extended until the end of the next match.

The "gN" commands works similar but searches backwards.

This allows to repeat simple operations on each match. For example, you
might want to change each occurence of apples by peaches. So you search
using "/apple" then you can use "cgnpeach<Esc>" to replace the current
match by peach. Now you can use the dot "." command to redo the
replacement for the rest of the buffer.

See also the help at

    |gn|
    |gN|

=============================================================================
 								*faq-12*
SECTION 12 - テキストを変更する ~

 								*faq-12.1*
12.1. 行末の空白文字(スペースとタブ)を全て削除するには？

`:substitute`コマンドを使ってファイル中から行末の空白文字を全て削除することが
できます: >

    :%s/\s\+$//
<
さらなる情報については以下を参照してください。

    |:%|
    |:s|
    |/\s|
    |/\+|
    |/$|

 								*faq-12.2*
12.2. 連続する空白文字を1個のスペースに置換するには？

次のコマンドで連続する空白文字を1個のスペースに置換することができます: >

    :%s/ \{2,}/ /g
<
Alternatively use: >

    :%s/  \+/ /g
<
さらなる情報については以下を参照してください。

    |:%|
    |:s|
    |/\{|
    |:s_flags|

 								*faq-12.3*
12.3. 連続する空行を1行だけに圧縮するには？

次のコマンドで連続する空行を1行だけに圧縮することができます: >

    :v/./.,/./-1join
<
このコマンドの説明は以下の通りです: >

    :v/./           後に続くコマンドを、1文字も含まない行(空行)を除く全ての行
                    に対して実行する。
         .,         現在行を範囲の開始位置に指定する。
           /./      1文字を含む行を範囲の終端に指定する。
              -1    終端を1行前に調整する。
                j   範囲内の行を連結する。
<
空行がファイルの末尾にある場合、これはエラーメッセージを出します。それを避ける
には、一時的な行をファイルの末尾に追加し、このコマンドを実行してから一時的な行
を削除します。

さらなる情報については以下を参照してください。

    |:v|
    |:join|
    |cmdline-ranges|
    |collapse|

 								*faq-12.4*
12.4. ファイル中の空行を全て削除するには？空白文字だけを含む行を全て削除するに
      は？

空行を全て削除するには、次のコマンドを使います: >

    :g/^$/d
<
空白文字(スペースとタブ)だけからなる行を削除するには、次のコマンドを使います:
>

    :g/^\s\+$/d
<
空行、または空白だけからなる行を全て削除するには、次のコマンドを使います: >

    :g/^\s*$/d
<
 								*faq-12.5*
12.5. カーソル下の単語をコピー/ヤンクするには？

"yiw" (yank inner word without whitespace) または "yaw" (yank a word with 
whitespace)でカーソル下の単語をコピー/ヤンクできます。

さらなる情報については以下を参照してください。

    |04.6|
    |04.8|
    |iw|
    |yank|
    |text-objects|
    |objects|

 								*faq-12.6*
12.6. 行全体ではなく、行内のある位置からある位置までをヤンクするには？

ヤンクオペレータ(y)に移動コマンドを指定すれば、行内のある位置から別の位置まで
をヤンクすることができます。例えば、現在のカーソル位置から次のxという文字まで
をヤンクするにはyfx, Fx, tx, Txのどれかを使います。n桁目までをヤンクするには
n|を使います。次に"word"が現れる場所までをヤンクするには/wordとします。別の行
のn桁目までをヤンクするには、まず"ma"で位置をマークし、ヤンク開始位置まで移動
してt`a(バッククォートであることに注意)でマークまでをヤンクします。

さらなる情報については以下を参照してください。

    |yank|
    |motion.txt|
    |04.6|

 								*faq-12.7*
12.7. 現在のレジスタの中身に追加ヤンクするには？

レジスタを指定するときに大文字を使うと現在のレジスタに追加ヤンクされます。例え
ば、レジスタ"a"に何かテキストが入っているとします。新しいテキストをここに追加
するには、レジスタ名"A"を使います。レジスタ名に小文字を使うと、レジスタの中身
は新しいテキストで上書きされてしまいます。

さらなる情報については以下を参照してください。

    |quote|
    |quote_alpha|
    |10.1|

 								*faq-12.8*
12.8. 複数行にわたる文全体をヤンクするには？

複数行にわたる文全体をヤンクするには、ヤンクオペレータの後に移動コマンドを続け
ます。例: >

        y)
<
文の内側にいるときは"yi)"で文をヤンクすることができます。

さらなる情報については以下を参照してください。

    |yank|
    |{motion}|
    |object-motions|
    |04.6|

 								*faq-12.9*
12.9. あるパターンを含む行全てをヤンクするには？

`:global`を使えばあるパターンを含む行全てをヤンクし、その後そのレジスタの中身
をバッファにペーストすることができます: >

    :let @a=''
    :g/mypattern/y A
<
最初のコマンドはレジスタ"a"の中身をクリアします。2番目のコマンドは"mypattern"
を含む行全てをレジスタ"a"にコピーします。大文字"A"を使ってマッチした行を追加し
ていることに注意してください。そして"apコマンドでレジスタ"a"の中身をバッファに
ペーストすることができます。

If you only want to collect all matches, you can use a different
approach. For that run the `:s` command with the flags "gn" so that it
won't actually  change the buffer ("n" flag) but select each match ("g"
flag). Combining this with the "\=" part in the replacement part, you
can copy each match to e.g. a list. Altogether this looks like this: >

    :let list=[]
    :%s/pattern/\=add(list, submatch(0))/gn
<
Now all matches will be in the list and you can post process them as
wanted.

さらなる情報については以下を参照してください。

    |:g|
    |:y|
    |:let-register|
    |quote_alpha|
    |put|
    |registers|
    |:registers|
    |sub-replace-\=|

 								*faq-12.10*
12.10. あるパターンを含まない行全てを削除するには？

`:v`コマンドを使えば、あるパターンを含まない行全てを削除することができます: >

    :v/pattern/d
<
または >

    :g!/pattern/d
<
さらなる情報については以下を参照してください。

    |:v|
    |:g|

 								*faq-12.11*
12.11. "pattern"を含む全ての行の前に行を追加するには？

以下のコマンドを使うと、"pattern"を含む行全ての前に行を追加することができま
す: >

    :g/pattern/normal! Oi<line of text goes here>
<
または追加する行をYでヤンクし、次のコマンドでそれを追加することができます: >

    :g/pattern/put!
<
さらなる情報については以下を参照してください。

    |:g|
    |:put|
    |insert|
    |0|

 								*faq-12.12*
12.12. 前の行が特定のパターンを含んでいる行に対して操作を行うには？

`:global`を使えば、前の行が特定のパターンを含んでいる行に対して操作を行うこと
ができます: >

    :g/<pattern>/+{cmd}
<
さらなる情報については以下を参照してください。

    |:g|
    |:range|

 								*faq-12.13*
12.13. あるパターンを含む行全てに対してコマンドを実行するには？

`:global`(:g)コマンドを使えば、あるパターンを含む行全てに対してコマンドを実行
することができます。 >

    :g/my pattern/d
<
Exコマンドでないコマンドを使いたければ、`:normal`を使うことができます: >

    :g/my pattern/normal {command}
<
ノーマルモードコマンドの再帰マッピングを避けたければ代わりに`:normal!`を使いま
す("!"に注意)。

さらなる情報については以下を参照してください。

    |:global|
    |:v|
    |:normal|

 								*faq-12.14*
12.14. カーソル位置の1文字上の文字をカーソル位置にコピーするには？

挿入モードでCTRL-Yとするとカーソル位置の1文字上の文字をコピーすることができ
ます。同じようにCTRL-Eで1文字下の文字をコピーすることができます。

さらなる情報については以下を参照してください。

    |i_CTRL-Y|
    |i_CTRL-E|

 								*faq-12.15*
12.15. 挿入モードに入らずに現在行の前/後に空行を挿入するには？

`:put`を使えば空行を挿入できます。例えば、次を実行してみてください: >

    :put =''
    :put! =''
<
さらなる情報については以下を参照してください。

    |:put|

 								*faq-12.16*
12.16. カレントファイルの名前をカレントバッファに挿入するには？

カレントファイルの名前をカレントバッファに挿入するにはいくつかの方法がありま
す。挿入モードでは<C-R>%または<C-R>=expand("%")でできます。ノーマルモードでは
`:put =@%`でできます。

さらなる情報については以下を参照してください。

    |i_CTRL-R|
    |expand()|
    |!!|

 								*faq-12.17*
12.17. レジスタの中身をカレントバッファに挿入するには？

挿入モードでは<CTRL-R><register>で<register>の中身を挿入することができます。例え
ば、<CTRL-R>aでレジスタ"a"の中身をカレントバッファに挿入できます。

ノーマルモードでは`:put <register>`で<register>の中身を挿入できます。例えば、
`:put d`でレジスタ"d"の中身をカレントバッファに挿入できます。

さらなる情報については以下を参照してください。

    |i_CTRL-R|
    |i_CTRL-R_CTRL-R|
    |i_CTRL-R_CTRL-O|
    |i_CTRL-R_CTRL-P|
    |:put|

 								*faq-12.18*
12.18. 行末を越えてカーソルを移動し、テキストを挿入するには？

オプション'virtualedit'をセットすれば行末を越えてカーソルを移動し、行末の先に
文字を追加することができます。仮想モードを開始するにはこうします。 >

    :set virtualedit=all
<
さらなる情報については以下を参照してください。

    |'virtualedit'|

 								*faq-12.19*
12.19. カーソル下の単語(例えばjunk)を"foojunkbar"に置き換えるには？

いくつかの方法があります。その行の中でその単語が現れる最初の箇所なら、こうしま
す: >

    :exe "s/".expand("<cword>")."/foo&bar/"
<
よりマッチを限定させるには、このようなより複雑な置換コマンドを使います: >

    :exe 's/\<'.expand("<cword>").'\%>'.(col(".")-1).'c\>/foo&bar/'
<
またはciwfoo<C-R>"bar<Esc>としてもできます。

さらなる情報については以下を参照してください。

    |:substitute|
    |expand()|
    |col()|
    |/\%c|

 								*faq-12.20*
12.20. ディレクトリ中の全てのファイルに対して特定のテキストを置換するには？

`:argdo`を使えば、引数として指定されたファイル全てに対して置換コマンドを実行す
ることができます: >

    :args *
    :argdo %s/<your_text>/<replacement_text>/ge | update
<
さらなる情報については以下を参照してください。

    |:args_f|
    |:argdo|
    |:s_flags|

 								*faq-12.21*
12.21. ファイル中に数字が書かれています。これを増加・減少させるには？

CTRL-Aで数字を増加、CTRL-Xで減少させることができます。また、カウントを指定すれ
ば増加・減少させる数を指定することができます。この機能は10進、8進、16進の数字
に対して適用することができます。You can change the base used by Vim for this
operation by modifying the 'nrformats' option.

さらなる情報については以下を参照してください。

    |26.2|
    |CTRL-A|
    |CTRL-X|
    |'nrformats'|

 								*faq-12.22*
12.22. `:substitute`で最後に検索したパターンを再利用するには？

`:substitute`で検索パターンを指定しなければ、最後に検索したパターンを再利用す
ることができます: >

    :s/pattern/newtext/
    :s//sometext/
<
2回目の`:s`では、検索パターンが指定されていないので、最初の`:s`のパターンが使
われます。

検索パターンは変えたいが、置換語を同じものにしたい場合は、チルダ文字を使いま
す: >

    :s/newpattern/~/
<
さらなる情報については以下を参照してください。

    |:s|
    |:&|
    |:~|
    |&|
    |sub-replace-special|

 								*faq-12.23*
12.23. `:substitute`を使って大文字・小文字を入れかえるには？

`:substitute`の置換文字列に特殊文字を使えば、マッチした文字列の大文字・小文字
を入れかえることができます。例えば、文字列"MyString"を全て大文字にするには、以
下のコマンドを使うことができます: >

    :%s/MyString/\U&/g
<
小文字にするには、次のコマンドを使います: >

    :%s/MyString/\L&/g
<
現在行の全ての単語の最初の文字を大文字にするには、次のコマンドを使います: >

    :s/\<\(.\)\(\k*\)\>/\u\1\L\2/g
<
さらなる情報については以下を参照してください。

    |sub-replace-special|
    |:substitute|
    |/\U|
    |/\L|
    |/\u|

 								*faq-12.24*
12.24. キーボード上に無い文字を入力するには？

ダイグラフを使えば、キーボード上に無い文字を入力することができます。現在定義さ
れているダイグラフを全て表示するには`:digraphs`を使います。`:digraphs`を使えば
リストに新しいダイグラフを追加できます。

さらなる情報については以下を参照してください。

    |digraphs|
    |'digraph'|
    |24.9|

 								*faq-12.25*
12.25. ダイグラフのどれか、または全てを削除するコマンドはありますか？

ありません。ダイグラフテーブルはコンパイル時に定義されます。できるのは新しいダ
イグラフを追加することだけです。ダイグラフを削除するコマンドを追加するという事
はTODOリストにはありません。

 								*faq-12.26*
12.26. 挿入モードでバックスペースキーを押すと、今回の挿入モードで入力した文字
       が消されるだけです。バックスペースキーで前回の挿入モードで入力した文字
       を消すには？

これは伝統的なViの動作です。'backspace'オプションをセットすれば挿入モードで前回
入力した文字を削除することができます: >

    :set backspace=indent,eol,start
<
さらなる情報については以下を参照してください。

    |'backspace'|
    |i_backspacing|

 								*faq-12.27*
12.27. 72文字より長くて"+"で終わり、次行に折り返されている行があります。このよ
       うな行をすばやく連結させるには？

`:global`を使えばそのような行を検索・連結できます: >

    :g/+$/j
<
しかしこれは2行ごとに連結するだけです。連続する"+"で終わる行を連結する、より複
雑な2つの例が以下の通りです: >

    :g/+$/,/\(^\|[^+]\)$/j
    :g/+$/mark a | .,/\(^\|[^+]\)$/s/+$// | 'a,.j
<
さらなる情報については以下を参照してください。

    |:g|
    |:j|
    |:mark|

 								*faq-12.28*
12.28. 文字単位でヤンクされたテキストを新しい行にペーストするには？

`:put`を使えば文字単位でヤンクされたテキストを新しい行にペーストできます: >

    :put =@"
<
さらなる情報については以下を参照してください。

    |:put|
    |quote_=|

 								*faq-12.29*
12.29. 単語・文字・テキストのブロックの大文字小文字を入れかえるには？

"~"を使えば文字の大文字・小文字を入れかえることができます。

カーソル下の単語を大文字にするには"gUiw"または"viwU"、小文字にするには"guiw"ま
たは"viwu"とすればできます。

カーソル下の単語の大文字・小文字を入れかえるには"viw~"または"g~iw"とします。

"gUgU"とすれば現在行を大文字にでき、"gugu"とすれば現在行を小文字にできます。

"g~g~"とすれば現在行の大文字・小文字を入れかえることができます。"g~{motion}"ま
たは"{Visual}~"とすればテキストのブロックの大文字・小文字を入れかえることがで
きます。

If you set 'tildeop' the "~" command behaves like an operator and expects
a motion command to act on. If you have >

    :set tildeop
<
and you want to change the case from the current cursor position to the end
of line, simply use "~$".

さらなる情報については以下を参照してください。

    |case|
    |'tildeop'|

 								*faq-12.30*
12.30. キーボード上にないASCII文字を入力するには？

キーボード上にないASCII文字を入力するには、CTRL-Vを押してからそのASCIIコードを
入力します。特別なASCII文字を入力するのにダイグラフを使うこともできます。

さらなる情報については以下を参照してください。

    |i_CTRL-V_digit|
    |digraphs|
    |45.5|

 								*faq-12.31*
12.31. ファイル中の印字不能文字を置換するには？

印字不能文字を置換するには、まずその文字のASCIIコードを知らなければなりませ
ん。exコマンド`:ascii`またはノーマルモードコマンド"ga"を使ってカーソル下の文字
のASCIIコードを知ることができます。

CTRL-Vに続けて10進の数字1-255(最初に0をつけてばならない)またはxと16進の数字
00-FF、または8進の数字0-0377(最初に0をつける)またはuと16進の数字0-FFFFまたは
Uと16進の数字0-7FFFFFFFを入力すれば、印字不能文字を入力することができます。

別の方法としては、`:digraphs`を使って、全文字に対するダイグラフと共にそれらの
10進値プラスアルファを表示することです。CTRL-Kに続けて英数字を2つ(ダイグラフ)
を入力すれば印字不能文字を入力することができます。

さらなる情報については以下を参照してください。

    |:ascii|
    |i_CTRL-V|
    |i_CTRL-V_digit|
    |:digraphs|

 								*faq-12.32*
12.32. バッファから重複した行を削除するには？

次のユーザー定義コマンドを使えばバッファから重複した行を全て削除することができ
ます: >

    :command -range=% Uniq <line1>,<line2>g/^\%<<line2>l\(.*\)\n\1$/d
<
上のコマンドを.vimrcに追加し、`:Uniq`を実行すると重複した行が削除されます。

 								*faq-12.33*
12.33. ファイル中の全ての行の前に行番号をつけるには？

You can prefix the lines in a file with the corresponding line number in
several ways. Some of them are listed below: >
行番号をつけるにはいくつかの方法があります。以下はその例です: >

    :%s/^/\=line('.'). ' '
    :%s/^/\=printf('%5d ', line('.'))/
    :%s/^/\=strpart(line('.').'.     ', 0, 5)
    :%s/^/\=strpart('   ', strlen(line('.'))).line('.').'. '
<
The last two commands will pad the line numbers with space characters.  The
last command will right align the numbers and the command before that will
left align the numbers.

If you don't want to number consecutive lines but rather non-consecutive
regions, you can also use this idiom: >

    :let i = 1
    :g/TODO/s/^/\=printf('%2d.',i)|let i+=1
<
This first initializes the variable i with 1. In the next line, a `:g`
command is used to perform a substitute command only on lines, that
match "TODO". After the substitute command has taken place, the variable
i will be incremented by 1.

さらなる情報については以下を参照してください。

    |sub-replace-special|
    |line()|
    |expr6|
    |strpart()|
    |printf()|
    |:execute|
    |:global|

 								*faq-12.34*
12.34. 2つの文字・単語・行を入れ換えるには？

"xp"で2つの文字を入れ換えることができます。"x"でカーソル下の文字を削除し、"p"
で削除された文字をカーソル下の文字の後ろにペーストします。その結果、2つの文字
が入れ換わります。

2つの単語を入れ換えるには"deep"とします(最初の単語の前の空白にカーソルをおいて
実行します)。

2つの行を入れ換えるには"ddp"とします。"dd"で現在行を削除し、"p"で現在行の後ろ
に削除された行をペーストします。その結果、2つの行が入れ換わります。

以上の操作はどれも無名レジスタ"の中身を変更します。

`:m +`とすると無名レジスタの中身を変更することなく2つの行を入れ換えることがで
きます。

さらなる情報については以下を参照してください。

    |x|
    |p|
    |dd|
    |d|
    |e|
    |linewise-register|
    |quotequote|
    |:move|

 								*faq-12.35*
12.35. How do I change the characters used as word delimiters?

Vim uses the characters specified by the 'iskeyword' option as word
delimiters. The default setting for this option is "@,48-57,_,192-255".

For example, to add ":" as a word delimiter, you can use >

    :set iskeyword+=:
<
To remove "_" as a word delimiter, you can use >

    :set iskeyword-=_
<
さらなる情報については以下を参照してください。

    |'iskeyword'|
    |word|

=============================================================================
SECTION 13 - 挿入モードでの補完 ~

 								*faq-13.1*
13.1. 挿入モードで単語や行を補完するには？

挿入モードでCTRL-PまたはCTRL-Nを使うと単語を補完することができます。
CTRL-Nは次の候補を前方から検索します。
CTRL-Pは次の候補を後方から検索します。

挿入モードでCTRL-X CTRL-Lを使うと現在行のカーソル以前の文字列で始まる行を補完
します。次のマッチする行を取得するにはCTRL-PまたはCTRL-Nを使います。挿入モード
で単語を補完する方法・キーは他にもたくさんあります。

Vimは以下の要素の補完をサポートしています: >

<
    CTRL-X CTRL-L    行全体
    CTRL-X CTRL-N    現在のファイル中の単語
    CTRL-X CTRL-K    辞書中の単語
    CTRL-X CTRL-T    シソーラス中の単語
    CTRL-X CTRL-I    カレントファイルとインクルードファイル
    CTRL-X CTRL-]    タグ
    CTRL-X CTRL-F    ファイル名
    CTRL-X CTRL-D    マクロ定義 (インクルードファイル中のものも)
    CTRL-X CTRL-V    Vimコマンドライン
    CTRL-X CTRL-U    ユーザー定義の補完
    CTRL-X CTRL-O    オムニ補完
<
ユーザー定義の補完とオムニ補完はよくファイルタイププラグインでセットされます。

さらなる情報については以下を参照してください。

    |24.3|
    |ins-completion|

 								*faq-13.2*
13.2. 挿入モードでファイル名を補完するには？

挿入モードでCTRL-X CTRL-Fを使うとカレント行のカーソルの前の文字列で始まるファ
イル名を補完することができます。

さらなる情報については以下を参照してください。

    |compl-filename|

 								*faq-13.3*
13.3. 挿入モードで単語を補完するのにCTRL-P/CTRL-Nを使っています。
      今補完した単語の後に現れる単語を補完するには？

CTRL-X CTRL-NとCTRL-X CTRL-Pを使うと今補完した単語の後に続く単語を補完すること
ができます。

さらなる情報については以下を参照してください。

    |i_CTRL-X_CTRL-P|
    |i_CTRL-X_CTRL-N|
    |ins-completion|

=============================================================================
 								*faq-14*
SECTION 14 - テキストの整形 ~

 								*faq-14.1*
14.1. 折り返された行の末尾に改行を挿入するには？

"gq"コマンドを使うと段落を整形することができます。これは現在の'textwidth'の設
定にしたがってテキストを整形します。代わりに"gw"コマンドを使うこともできます。
これは"gq"と同様に整形を行いますがカーソル位置は変わりません。

オペレータgqは移動コマンドと組み合わせて、テキストの範囲に対して実行できます。
例: >

    gqgq - 現在行を整形する
    gqap - 現在の段落を整形する
    gwap - Format current paragraph (and don't move cursor)
    gq3j - 現在行と下3行を整形する
<
さらなる情報については以下を参照してください。

    |gq|
    |gw|
    |formatting|
    |usr_25.txt|
    |motion.txt|

 								*faq-14.2*
14.2. 1行がn文字以下になるように長い行を整形するには？

You can set the 'textwidth' option to control the number of characters that
can be present in a line. For example, to set the maximum width of a line
to 70 characters, you can use the following command: >
まず'textwidth'を望みの値に設定します: >

    set textwidth=70
<
Now to break the long lines in a file to the length defined by the
'textwidth' option, you can use >
そして、'textwidth'で設定された長さで行を折り返すにはこうします >

    :g/./normal gqq
<
さらなる情報については以下を参照してください。

    |'textwidth'|
    |gq|

 								*faq-14.3*
14.3. 短い行を連結して段落を形成するには？

まず、'textwidth'を大きな値に設定します: >

    :set textwidth=99999
<
続いて、以下のコマンドで短い行を連結して段落を形成します: >

    1GgqG
<
このコマンドはファイル全体に作用します。指定した範囲内の全段落に対して整形を行
うにはこうします: >

    :'a,'bg/\S/normal gq}
<
さらなる情報については以下を参照してください。

    |gq|
    |G|
    |gqq|

 								*faq-14.4*
14.4. 箇条書きや番号つきリストを整形するには？

'formatoptions'によって箇条書きや番号つきリストを整形するように設定することが
できます。例えば、以下のフォーマットのリストを整形することができます:

  - this is a test. this is a test. this is a test. this is a test.
  this is a test.

これがこのような形式になります。

  - this is a test. this is a test. this is a test. this is a test.
    this is a test.

'formatoptions'に"n"フラグをつけると、テキストの桁をそろえることができます。 >

    :set fo+=n
<
このオプションを設定してテキストを整形すると、Vimは番号つきリストを認識しま
す。このオプションを機能させるためには、'autoindent'をセットしなければなりませ
ん。

さらなる情報については以下を参照してください。

    |'formatoptions'|
    |fo-table|
    |format-comments|

 								*faq-14.5*
14.5. 挿入モードで行をインデントするには？

挿入モードでCTRL-Tを押すと現在行の行頭にshiftwidth分のインデントを挿入すること
ができます。挿入モードでCTRL-Dを押すと現在行の行頭のshiftwidth分のインデントを
削除することができます。また、CTRL-O >>とCTRL-O <<でも挿入モード中に現在行をイ
ンデントすることができます。

さらなる情報については以下を参照してください。

    |i_CTRL-T|
    |i_CTRL-D|
    |i_0_CTRL-D|
    |i_CTRL-O|
    |>>|
    |<<|

 								*faq-14.6*
14.6. ファイル全体を整形・インデントするには？

gg=Gでファイル全体を整形・インデントすることができます。ここで、 >

    gg - ファイルの先頭に移動
    =  - インデントを適用
    G  - ファイルの末尾まで
<
という意味になります。
さらなる情報については以下を参照してください。

    |gg|
    |=|
    |G|
    |'formatprg'|
    |C-indenting|

 								*faq-14.7*
14.7. 現在のファイルのインデントを増やす/減らすには？

">>"と"<<"で現在行のインデントを増やしたり減らすことができます。

さらなる情報については以下を参照してください。

    |shift-left-right|
    |>>|
    |<<|
    |'shiftwidth'|

 								*faq-14.8*
14.8. ブロックまたは行のグループをインデントするには？

ビジュアルモードで行を選択して>または<を押すと選択した行をインデント・アンイ
ンデントすることができます。次のexコマンドを使っても行をインデントすることがで
きます >

    :10,20>
<
さらなる情報については以下を参照してください。

    |shift-left-right|
    |v_>|
    |v_<|
    |:<|
    |:>|

 								*faq-14.9*
14.9. >または<キーで行をインデントすると、'tabstop'で設定した値でなく、標準的
      なタブストップ値の8が使われます。なぜですか？

The number of spaces used when lines are indented using the ">" operator is
controlled by the 'shiftwidth' option. The 'tabstop' setting is only
used, when the 'shiftwidth' option is zero. >
オペレータ">"でインデントしたとき挿入されるスペースの数は'shiftwidth'オプショ
ンで決まります。'tabstop'の設定はインデントには適用されません。インデントで挿
入されるスペースの数を変更するには、こうします: >

    :set shiftwidth=4
<
さらなる情報については以下を参照してください。

    |'shiftwidth'|
    |>>|
    |'softtabstop'|

 								*faq-14.10*
14.10. オートインデントを無効にするには？

デフォルトではオートインデントは無効になっています。設定ファイル(.vimrc,
.gvimrc)のインデントに関する設定を確認してください。`:filetype indent on`が行
われていないことを確かめてください。もし行われていたなら、これを削除してくださ
い。また、好みに応じて'autoindent', 'smartindent', 'cindent', 'indentexpr'の値
を確かめ、これらをオフにしてもよいでしょう。

さらなる情報については以下を参照してください。

    |:filetype-indent-off|
    |'autoindent'|
    |'smartindent'|
    |'cindent'|
    |'indentexpr'|

 								*faq-14.11*
14.11. メールを編集するときは自動的に'textwidth'オプションをある値にするように
       するには？

"FileType"オートコマンドを使えば'textwidth'を設定することができます: >

    autocmd FileType mail set tw=<your_value>
<
さらなる情報については以下を参照してください。

    |:autocmd|
    |FileType|
    |usr_43.txt|

 								*faq-14.12*
14.12. 自動的に改行を挿入させることはできますか？

できます。'textwidth'を好きな行の長さに設定します。すると新しい行を挿入すると
きに自動的に改行が挿入されます。例: >

    :set textwidth=75
<
さらなる情報については以下を参照してください。

    |'textwidth'|
    |ins-textwidth|
    |'formatoptions'|
    |fo-table|
    |formatting|

 								*faq-14.13*
14.13. ファイル中に^Mという記号がたくさん表示されます。'fileformat'を"dos"にし
       たり"unix"にしたり"mac"にしたりしてみましたが、改善できません。これらの
       記号を表示させなくするには？

ファイルを読み込むとき、そのファイルのフォーマットは以下のようにして決定されま
す:

- 全ての行が改行文字(<NL>)で終わっていればファイルフォーマットは"unix"です。
- 全ての行がキャリッジリターン文字(<CR>)に続く改行文字(<NL>)で終わっていれば
  ファイルフォーマットは"dos"です。
- 全ての行がキャリッジリターン文字(<CR>)で終わっていればファイルフォーマットは
  "mac"です。

一部の行が<CR>で終わっていて、一部の行が<CR>に続く<NL>で終わっているとき、ファ
イルフォーマットは"unix"になります。

You can change the format of the current file, by saving it explicitly in
dos format: >
カレントファイルのフォーマットを変更するには、'fileformat'を変更し、ファイルを
保存します: >

    :w ++ff=dos
<
カレントファイルのフォーマットを表示するにはこうします >

    :set fileformat?
<
The above behavior is also controlled by the 'fileformats' option. You can
try the following commands: >

    :set fileformats+=unix
    :e <your_file>
    :set fileformat=unix
    :w
<
To remove the carriage return (<CR>) character at the end of all the lines
in the current file, you can use the following command: >

    :%s/\r$//
<
To force Vim to use a particular file format, when editing a file, you can
use the following command: >

    :e ++ff=dos filename
<
以上の動作は'fileformats'によっても変わります。次のコマンドを試してみてくださ
い: >
さらなる情報については以下を参照してください。

    |'fileformats'|
    |'fileformat'|
    |file-formats|
    |DOS-format-write|
    |Unix-format-write|
    |Mac-format-write|
    |dos-file-formats|
    |23.1|
    |++ff|

 								*faq-14.14*
14.14. 他のアプリケーションからVimのバッファへテキストを貼り付けたとき、挿入さ
       れたテキストの桁(インデント)が狂ってしまいます。これを直すには？

When you paste text into a GUI Vim using the mouse, Vim is able to
detect that you are pasting text. So all the indentation related
settings (like autoindent, smartindent, cindent, etc.) are ignored and
the text is pasted literally.

When pasting text into a Vim running in a terminal (like xterm) using
the mouse, Vim may not be able to detect that you are pasting text. This
depends on several things: the capability of the terminal to pass the
mouse events to Vim, Vim is compiled to handle mouse events and access
the clipboard, the DISPLAY variable is set properly, the Vim 'mouse'
option is set correctly.

If Vim is able to detect that you are pasting text using the mouse, then
the pasted text will be inserted literally.

If Vim is not able to detect that you are pasting using the mouse, then
it will see the pasted text as though you literally typed the text.
After the first line from the pasted text is inserted, when Vim
encounters the newline character, because of the indentation settings,
the next line will start indented. The spaces at the beginning of the
second line in the pasted text will be inserted leading to additional
indentation. This will be repeated for subsequent lines. So the pasted
text will be inserted with stair case indentation.

You can fix this problem in a terminal Vim in several ways:

1. Build Vim with the +mouse and +xterm_clipboard compile-time options.
   The normal or big or huge build of Vim includes these options.  Set
   the 'mouse' option to either "a" or include "i".  When pasting text
   using the mouse, don't press the Shift key. This will work only if
   Vim can access the X display. For more information, read the
   following Vim help topics:

    |+feature-list|
    |'mouse'|
    |<MiddleMouse>|
    |x11-selection|
    |xterm-clipboard|

1.1 Some Linux distributions build their terminal vim packages
    without X support.  This makes no sense and leaves many users
    with the impression that Vim in terminal mode doesn't support
    some operations such as properly pasting text with a mouse. >

    If your distribution includes gvim, which it almost certainly
    does these days, the solutions to this include the following.
<
    a)  Start Vim as >

            gvim -v
<
    b)  Put this alias in your shell's configuration file, e.g.
        ~/.bashrc: >

            alias vim='gvim -v'
<
    c)  Put the following command in a file named "vim" and put that
        file in your ~/bin directory: >

            gvim -v "$@"
<
    d)  Link the distribution's gvim to ~/bin/vim with the following
        command, which needs to be executed only once. >

            ln -s $(which gvim) ~/bin/vim
<
    For c) and d), make sure that ~/bin precedes /usr/bin in your
    PATH.

2. Paste the text using the CTRL-R CTRL-O * command.  This will paste
   the text literally without any automatic indentation. If you want to
   paste the text and then fix the indentation, then you can use CTRL-R
   CTRL-P *. These commands will work only if Vim can access the X
   display. For more information, read the following Vim help topics:

    |i_CTRL-R_CTRL-O|
    |i_CTRL-R_CTRL-P|
    |quotestar|

3. Set the 'paste' option before pasting the text. This option will
   disable the effect of all the indentation related settings. Make
   sure to turn off this option using `:set nopaste` after pasting the
   text. Otherwise the Vim indentation feature will not work.  Do not
   permanently set the 'paste' option in your .vimrc file. If you are
   going to repeat these steps often, then you can set the
   'pastetoggle' option to a key. When you press the specified key,
   the 'paste' option will be toggled. You can press the key once
   before pasting the text and the press the key once after pasting
   the text. Note that when the 'paste' option is set, all the
   mappings and abbreviations are disabled.  For more information,
   read the following Vim help topics:

    |'paste'|
    |'pastetoggle'|

You can also refer to the following topics in the user manual:

    |04.7|
    |09.3|

 								*faq-14.15*
14.15. 'wrap'をオンにしていて、とても長い行が折り返されて画面に収まりきらない
       とき、まったく何も表示されません。折り返された行の代わりに"@"という記号
       で始まる空の行が表示されます。行が収まるように画面をスクロールする
       と"@"は消え、行が表示されるようになります。この挙動の設定はどうやるので
       すか？

'display'オプションを"lastline"に設定すると、"@"を表示する代わりに可能な限り最
後の行を表示するようになります。 >

    :set display=lastline
<
さらなる情報については以下を参照してください。

    |'display'|

 								*faq-14.16*
14.16. ファイル中の全てのタブ文字をスペースに変換するには？

`:retab`を使うとカレントファイル中の全てのタブ文字を'expandtab'と'tabstop'の設
定にしたがって変換することができます。例えば、全てのタブをスペースに変換するに
はこのようにします >

    :set expandtab
    :retab
<
さらなる情報については以下を参照してください。

    |:retab|
    |'expandtab'|
    |'tabstop'|
    |25.3|

 								*faq-14.17*
14.17. 後でワードプロセッサーに送るテキストを編集するためのオプションは？

後でワードプロセッサーに送るテキストを編集するためには以下のオプションを設定す
ることができます: >

    :set wrap
    :set linebreak
    :set textwidth=0
    :set showbreak=>>>
<
"gk"と"gj"を使うと画面上の行(物理行)単位で上下に移動できます。
さらなる情報については以下を参照してください。

    |'wrap'|
    |'linebreak'|
    |'textwidth'|
    |'showbreak'|
    |gk|
    |gj|

 								*faq-14.18*
14.18. How do I join lines without adding or removing any space characters?

By default, when you join lines using the "J" or `:join` command, Vim will
replace the line break, leading white space and trailing white space with a
single space character. If there are space characters at the end of a line
or a line starts with the ")" character, then Vim will not add a space
character.

To join lines without adding or removing any space characters, you can use
the gJ or `:join!` commands.

For more information, read: 

    |gJ|
    |:join|
    |J|
    |10.5|
    |'joinspaces'|
    |'cpoptions'|
    |'formatoptions'|

=============================================================================
 								*faq-15*
SECTION 15 - ビジュアルモード ~

 								*faq-15.1*
15.1. 矩形範囲をコピーするには？

矩形選択モードを使えば矩形範囲をコピーすることができます。矩形選択モードを開始
するにはCTRL-Vキーを押します。移動コマンドを使ってカーソルを動かし、yを押すと
選択したテキストがヤンクされます。

CTRL-Vが期待通りに機能しない場合は、スクリプトmswin.vimによってこの機能が
CTRL-Qにマップされているかもしれません。Windowsマシン上では他のプログラムに共
通のショートカットを真似するため、しばしばvimrcによってこのスクリプトがsource
されています。

さらなる情報については以下を参照してください。

    |04.4|
    |blockwise-visual|
    |visual-mode|
    |Q_vi|

 								*faq-15.2*
15.2. ファイルの特定の列を削除・変更するには？

矩形選択モードを使えば特定の列を選択してオペレータコマンド(変更・削除・コピー)
を適用することができます。

さらなる情報については以下を参照してください。

    |visual-block|
    |visual-operators|

 								*faq-15.3*
15.3. ビジュアル選択した行に対してexコマンドを適用するには？

ビジュアルモードで行を選択すると、レジスタ<が選択範囲の開始位置にセットされ、
レジスタ>が選択範囲の終端にセットされます。これらのレジスタを使えばexコマンド
の範囲を指定できます。行をビジュアル選択してから":"を押すとコマンドモードに移
行します。自動的に選択範囲を示す'<,'>が挿入されます。選択範囲に対してどんなex
コマンドでも実行することができます。

さらなる情報については以下を参照してください。

    |v_:|
    |'<|
    |'>|

 								*faq-15.4*
15.4. 矩形選択した範囲に対してexコマンドを適用するには？

exコマンドは全て行全体に対してのみ実行されます。テキストを矩形選択してexコマン
ドを実行しようとすると、(選択した列だけでなく)選択した行全体に対して実行されて
しまいます。https://www.vim.org から入手できるプラグインvis.vimまたはNrrwRgnを
使えば矩形範囲に対してexコマンドを適用することができます。

さらなる情報については以下を参照してください。

    |cmdline-ranges|
    |10.3|
    |cmdline-lines|

 								*faq-15.5*
15.5. ビジュアルモードでファイル全体を選択するには？

ggVGでファイル全体をビジュアル選択することができます。 >

    gg - ファイルの先頭へ移動
    V  - 行単位ビジュアル選択を開始
    G  - ファイルの末尾へ移動
<
さらなる情報については以下を参照してください。

    |gg|
    |linewise-visual|
    |G|

 								*faq-15.6*
15.6. ビジュアル選択してから>キーを押してインデントすると、選択が解除されま
      す。この範囲に対して操作を続けるため選択したままにするには？(または)最後
      に選択された範囲を再選択するには？

"gv"で最後に選択された範囲を再選択できます。またマーク'<と'>を使うと最後に選択
された範囲の開始位置と終端に移動することができます。

さらなる情報については以下を参照してください。

    |gv|
    |'<|
    |'>|

 								*faq-15.7*
15.7. ビジュアル選択した範囲の先頭/末尾へ移動するには？

(ビジュアルモードにおいて)"o"コマンドでビジュアル選択した範囲の先頭/末尾へ移動
できます。

さらなる情報については以下を参照してください。

    |v_o|

 								*faq-15.8*
15.8. マウスでテキストを選択してからexコマンドを実行しようと:キーを押すと選択
      された範囲が文字:で置換されてしまいます。マウスで選択したときもビジュア
      ル選択したときのようにテキストに対してexコマンドを実行するには？

これは'selectmode'でビジュアルモードでなく選択モードを使うように設定していると
き起こります。このオプションの値を確認してください: >

    :set selectmode?
<
このモードは選択モードといい、ビジュアルモードに似ています。"behave mswin"コマ
ンドを使うと、このオプションも自動的にセットされます。選択モードはビジュアル
モードと同じように見えますが、MS-Windowsの選択モードに似ています。

さらなる情報については以下を参照してください。

    |Select-mode|
    |'selectmode'|
    |09.4|
    |:behave|

 								*faq-15.9*
15.9. マウスでテキストを選択するとビジュアルモードでなく選択モードに入ってしま
      います。なぜですか？

マウスでテキストを選択したとき選択モードになるかどうかは'selectmode'オプション
によって決まります。ビジュアルモードが始まるようにするには、'selectmode'から
"mouse"の値を除きます: >

    :set selectmode-=mouse
<
デフォルトでは'selectmode'は空になっていて、常にビジュアルモードが使われるよう
になっています。

さらなる情報については以下を参照してください。

    |'selectmode'|
    |Select-mode|
    |:behave|

 								*faq-15.10*
15.10. 最後にコピー/ペーストされたテキストをビジュアル選択するには？

マーク'[と']を使うと最後にコピー/ペーストされたテキストを選択することができ
ます。マーク'[は最後に変更/ヤンクされたテキストの先頭にセットされ、']はその末
尾にセットされます。この範囲をビジュアル選択するには、'[v']とします。

さらなる情報については以下を参照してください。

    |'[|
    |']|
    |`a|
    |v|

=============================================================================
 								*faq-16*
SECTION 16 - コマンドラインモード ~

 								*faq-16.1*
16.1. コマンドモードまたはexコマンドモードでカレントファイル名を使うには？

コマンドモードでは文字"%"がカレントファイルの名前を表します。いくつかのコマン
ドにおいてはファイル名を取得するために`expand("%")`を使わねばなりません: >

    :!perl %
<
Another example is to load the latex generated pdf file from the file you
are currently editing: >

    :!xpdf %<.pdf
<
さらなる情報については以下を参照してください。

    |:_%|
    |cmdline-special|
    |expand()|

 								*faq-16.2*
16.2. Vimのコマンドラインで効率的にテキストを編集するには？

Vimのコマンドラインテキストを編集するのにコマンドラインウィンドウを使うことが
できます。コマンドラインウィンドウを開くにはノーマルモードで"q:"とします。コマ
ンドラインモード中からはCTRL-Fを使います。このウィンドウにはコマンドラインの履
歴が表示されます。通常のVimのキー・コマンドを使って以前の・新しいコマンドライ
ンを編集することができます。コマンドラインを実行するにはエンター/リターンキー
を押します。

同様に、検索履歴を"q/"と"q?"で編集することができます。

さらなる情報については以下を参照してください。

    |cmdline-window|

 								*faq-16.3*
16.3. ViモードからExモードに移行するには？

QでViモードからExモードに移行できます。ExモードからViモードに移行するには `:vi`
を使います。

さらなる情報については以下を参照してください。

    |Q|
    |gQ|
    |Ex-mode|
    |:vi|

 								*faq-16.4*
16.4. exコマンドの出力をバッファにコピーするには？

exコマンドの出力をバッファにコピーするには、まずそのコマンドの出力をレジスタに
入れます。`:redir`で出力をレジスタに入れることができます。例 >

    :redir @a
    :g/HelloWord/p
    :redir END
<
するとレジスタ"a"がexコマンド`:g/HelloWord/p`の出力を保持します。ここでレジスタ
"a"の中身をバッファにペーストすることができます。`:redir`を使ってexコマンドの出
力をファイルに送ったり、追加することもできます。

`:global`の前に`:silent`を付けると、その行が画面に表示されるのを避けることがで
きます。

exコマンドの出力をファイルにリダイレクトするには、次の一連のコマンドを使うこと
ができます: >

    :redir > myfile
    :g/HelloWord/p
    :redir END
<
さらなる情報については以下を参照してください。

    |:redir|
    |:silent|

 								*faq-16.5*
16.5. コマンドモードでファイル名を補完しようと<Tab>キーを押します。マッチする
      ファイル名が複数ある時、Vimは最初にマッチするファイル名を補完し、マッチ
      したファイル名全てのリストを表示します。マッチしたファイル名全てを表示す
      るだけで、最初の候補を補完しないようにするには？

'wildmode'を設定すればコマンドモードでのファイル名補完をカスタマイズすること
ができます。この場合は'wildmode'を"list"にすればよいでしょう: >

    :set wildmode=list
<
さらなる情報については以下を参照してください。

    |'wildmode'|

 								*faq-16.6*
16.6. バッファからコマンドラインにテキストをコピーしたり、コマンドラインから
      バッファにテキストをコピーするには？

バッファからコマンドラインにテキストをコピーするには、バッファからテキストをヤ
ンクした後にコマンドラインで"<CTRL-R>0"を押せばペーストすることができます。また、
CTRL-R <register>を使って特定のレジスタにヤンクしてからコマンドラインにペース
トすることもできます。CTRL-R CTRL-Wを使うとカーソル下の単語をコマンドラインに
ペーストすることができます。

コマンドラインからバッファにテキストをコピーするには、":pとしてレジスタ:の中身
をペーストすればできます。最後に実行されたコマンドラインがレジスタ:に保存され
ています。

コマンドラインへテキストをコピー＆ペーストする別の方法は、ノーマルモードでq:を
押すかまたはコマンドラインモードでCTRL-Fを押してコマンドラインウィンドウを開く
ことです。このコマンドラインウィンドウではVimの全てのコマンドを使ってコマンド
ラインを編集することができます。

さらなる情報については以下を参照してください。

    |c_CTRL-R|
    |quote_:|
    |cmdline-window|

 								*faq-16.7*
16.7. あるコマンドを実行することなくコマンド履歴に入れるには？

あるコマンドを実行することなくコマンド履歴に入れるには、<Esc>キーを押してその
コマンドをキャンセルします。

An alternative solution, is to use the histadd() function like this: >

    :call histadd(':', 'echo strftime("%c")')
<
さらなる情報については以下を参照してください。

    |c_<Esc>|
    |histadd()|

 								*faq-16.8*
16.8. コマンドラインの高さを上げるには？

'cmdheight'を変更すればコマンドラインの高さを上げることができます: >

    :set cmdheight=2
<
さらなる情報については以下を参照してください。

    |'cmdheight'|
    |hit-enter|
    |05.7|

=============================================================================
 								*faq-17*
SECTION 17 - VIMINFO ~

 								*faq-17.1*

17.1. Vimを起動したときviminfoファイルに不正な文字があるとエラーメッセージが出
      ます。このメッセージを出なくさせるには？

$HOME/.viminfoまたは$HOME/_viminfoファイルを削除すればこのメッセージは出なくな
ります。

さらなる情報については以下を参照してください。

    |viminfo-errors|
    |viminfo-file-name|
    |viminfo|
    |21.3|

 								*faq-17.2*
17.2. viminfo機能を無効にするには？

デフォルトではviminfo機能は無効になっています。もしシステムレベルのvimrcによっ
てviminfo機能が有効化されているなら、ユーザーのローカルな.vimrcで'viminfo'に空
文字列を設定すれば、viminfo機能が無効になります: >

    :set viminfo=""
<
さらなる情報については以下を参照してください。

    |'viminfo'|

 								*faq-17.3*
17.3. Vimのセッションをまたいでマーク/コマンドを保存し、使用するには？

viminfoを使えばVimのセッションをまたいでマークを保存し、復元することができま
す。viminfoファイルを使うには'viminfo'オプションが空でないことを確かめてくださ
い。Vimのマークを保存し、復元するには、'viminfo'オプションに"f"フラグが入って
いないか、"f"に対する値が0より大きくなっていなければなりません。

You can also use the viminfo file to synchronize the commandline history
across different sessions using `:wvimfo` and `:rviminfo` commands together
with the FocusGained and FocusLost autocommands: >

    augroup viminfo
        au!
        au FocusLost   * wviminfo
        au FocusGained * rviminfo
    augroup end
<
Note, this will only work reliably, when Vim can detect the FocusLost
and FocusGained autocommands correctly. This means it should work with
GVim but might depend on your terminal for konsole vim.

さらなる情報については以下を参照してください。

    |21.3|
    |viminfo|
    |'viminfo'|
    |:wviminfo|
    |:rviminfo|
    |FocusLost|
    |FocusGained|

=============================================================================
 								*faq-18*
SECTION 18 - リモート編集 ~

 								*faq-18.1*
18.1. 既に起動しているgvimでファイルを開くには？ Vim 5.xのOpenWithVim.exeと
      SendToVim.exeはどうなりました？

Vim6からOpenWithVim.exeとSendToVim.exeユーティリティのOLE版はクライアント-サー
バー機能によってとって替わられました。ファイルj.txtを既に起動している
gvim(MyVim) で開くにはこのようにします: >

    $ gvim --servername MyVim --remote-silent j.txt
<
現在起動しているVim全てのサーバー名をリストするにはこうします: >

    $ vim --serverlist
<
クライアント-サーバー機能についてのさらなる情報は以下を参照してください。 >

    |client-server|

 								*faq-18.2*
18.2. vimサーバーに全てのバッファをディスクに保存するようなコマンドを送るには？

それにはVimのリモートサーバー機能を使うことができます: >

    $ gvim --servername myVIM --remote-send "<C-\><C-N>:wall<CR>"
<
さらなる情報については以下を参照してください。

    |client-server|
    |CTRL-\_CTRL-N|
    |:wall|

 								*faq-18.3*
18.3. Vimのリモートサーバー機能についてのドキュメントはどこで手に入りますか？

Vimのリモートサーバー機能についての情報はこれを読めば得られます

    |client-server|

=============================================================================
 								*faq-19*
SECTION 19 - オプション ~

 								*faq-19.1*
19.1. Vimを設定する簡単な方法は？

`:options`でオプションウィンドウを開くことができます: >

    :options
<
このウィンドウで全オプションを見て、設定することができます。

さらなる情報については以下を参照してください。

    |:options|

 								*faq-19.2*
19.2. オプションの値をトグルするには？

オプションの前に"inv"をつけると、その値をトグルすることができます: >

    :set invignorecase
    :set invhlsearch
<
オプションの後ろに"!"をつけてもその値をトグルすることができます: >

    :set ignorecase!
    :set hlsearch!
<
さらなる情報については以下を参照してください。

    |set-option|

 								*faq-19.3*
19.3. 現在のバッファ/ウィンドウに対してだけ効果を及ぼすようにオプションを設定
      するには？

Some of the Vim options can have a local or global value. A local value
applies only to a specific buffer or window. A global value applies to all
the buffers or windows.

When a Vim option is modified using the `:set` command, both the global and
local values for the option are changed. You can use the `:setlocal`
command to modify only the local value for the option and the `:setglobal`
command to modify only the global value.

`:setlocal`を使うと現在のバッファ/ウィンドウに対してだけ効果を及ぼすようにオ
プションを設定できます: >

    :setlocal textwidth=70
<
全てのオプションがローカルな値を持つわけではないことに注意してください。そのオ
プションがローカルな値を持てる場合だけ、`:setlocal`でバッファ/ウィンドウにロ
ーカルに設定できます。

また、次のコマンドでもオプションをローカルに設定できます: >

    :let &l:{option-name} = <value>
<
 								*faq-19.4*
19.4. オプションの値にスペースを含めるには？

オプション値にスペースを含めるには、スペースをエスケープしなければなりません。
例: >

    :set tags=tags\ /usr/tags
<
さらなる情報については以下を参照してください。

    |option-backslash|

 								*faq-19.5*
19.5. オプション設定をファイルに埋め込むには？

モードラインを使えばオプション設定をファイル中に埋め込むことができます。例え
ば、Cのファイルでファイルの先頭または末尾に次の行を埋め込むことができます: >

    /* vim:sw=4: */
<
こうするとそのCファイルを編集するとき'shiftwidth'が4に設定されます。これが機能
するためには、'modeline'オプションをセットしなければなりません。デフォルトで
'modeline'は設定されています。別の例がこの文書の最初の行にあります。
{訳注: このヘルプファイルでは文書の最後の行に例がある。}

'modelines'はチェックされる行数を指定します。

さらなる情報については以下を参照してください。

    |21.6|
    |modeline|
    |auto-setting|
    |'modeline'|
    |'modelines'|

 								*faq-19.6*
19.6. ファイル中の全ての行の行番号を表示するには？

'number'オプションをセットすれば、全行に対して行番号が表示されます。 >

    :set number
<
さらなる情報については以下を参照してください。

    |'number'|

 								*faq-19.7*
19.7. 'number'オプションで表示される行番号の幅を変えるには？

You can set the minimum number of columns to be used for line numbering by
setting the 'numberwidth' option: >

    :set numberwidth=3
<
This set's the width for the line number to 3 digits, which is enough, if
your buffer contains less than 999 lines. However, if your current buffer
contains more lines than 999, the 'numberwidth' will be adjusted accordingly,
so that the maximum line number will fit on the screen.

 								*faq-19.8*
19.8. スペース、タブ、改行などの不可視文字を表示するには？

'list'オプションをセットすれば、ファイル中の不可視文字を表示することができま
す。 >

    :set list
<
このオプションをセットすると、スペース、タブ、改行、行末のスペース、折り返され
た行を表示することができます。

不可視文字を表示しなくするには(これがデフォルトです)、'list'をオフにします: >

    :set nolist
    (or)
    :set list!
<
`:set list!`とすると現在の'list'の設定をトグルします。

'listchars'オプションを変更すれば表示される不可視文字とその表示のされかたを設
定することができます。例えば、次のコマンドは行末のスペースを"."で表示するよう
にします。 >

    :set listchars=trail:.
<
さらなる情報については以下を参照してください。

    |'listchars'|
    |'list'|

 								*faq-19.9*
19.9. 常に現在行と桁番号を表示するようにするには？

'ruler'をセットすれば現在の行と桁番号をステータスラインに表示するようになりま
す: >

    :set ruler
<
さらなる情報については以下を参照してください。

    |'ruler'|

 								*faq-19.10*
19.10. 現在のモードを表示するようにするには？

'showmode'オプションをセットすれば現在のVimのモードを表示するようになります。
挿入、置換、ビジュアルモードにおいて、最後の行に現在のモードを表示するようにな
ります。 >

    :set showmode
<
さらなる情報については以下を参照してください。

    |'showmode'|

 								*faq-19.11*
19.11. ステータスラインに入力途中のコマンドを表示するようにするには？

'showcmd'をセットすればステータスラインに入力途中のコマンドを表示するようにな
ります: >

    :set showcmd
<
さらなる情報については以下を参照してください。

    |'showcmd'|

 								*faq-19.12*
19.12. ステータスラインに異なる設定・値を表示するようにするには？

'statusline'をセットすれば異なる設定・値をステータスラインに表示するようになり
ます。

さらなる情報については以下を参照してください。

    |'statusline'|
    |'laststatus'|
    |'rulerformat'|
    |'ruler'|

 								*faq-19.13*
19.13. 常にステータスラインを表示するようにするには？

'laststatus'を2にすれば常にステータスラインを表示するようになります。 >

    :set laststatus=2
<
さらなる情報については以下を参照してください。

    |'laststatus'|

 								*faq-19.14*
19.14. Vimを再起動しても設定が永続するようにするには？

Vimを再起動しても設定が永続するようにするには、その設定を.vimrcまたは.gvimrc
ファイルに追加します。`:mkvimrc`コマンドを使うと現在の設定をもとにvimrcファイ
ルを生成することもできます。

さらなる情報については以下を参照してください。

    |save-settings|
    |vimrc|
    |gvimrc|
    |vimrc-intro|
    |:mkvimrc|
    |initialization|

 								*faq-19.15*
19.15. なぜエスケープキーを押すと約1秒後にビープが鳴る(画面がフラッシュする)の
       ですか？

これは通常の動作です。画面がフラッシュするのなら、ビジュアルベルが発生していま
す。そうでなければビープが鳴ります。

Vimは普通のエスケープとカーソルキーのシーケンスなどを区別するために、タイムア
ウトを必要とします。ノーマルモードでキーを押すと(挿入モードでさえも)、そしてそ
のキーがマッピングの始まりであると、Vimはマッピングの残りのシーケンスが後に続
くがどうかを見るために一定時間待ちます。もしタイムアウトする前にマッピングシー
ケンスが最後まで入力されればそのキーシーケンスのマッピングが発動します。もし
マッピングを中断すれば、そのキーに割り当てられた普通の動作を実行します。

例えば、`:imap vvv Vim is great!!`と定義されたマッピングがあるとし、"vvv"をす
ばやく入力するとします。すると"Vim is great!!"がテキストに挿入されます。
しかし"vv v"と入力すると、それがテキストに挿入されます。これは"vvv"をとても遅
く入力したときも同じになります。ここで"とても遅く"とはタイムアウトオプションで
設定された値よりも長いという意味です。タイムアウトオプションを大きな値に設定す
ると、遅い回線上でファンクションキーを使うときに現れる問題を解決することができ
ます。

さらなる情報については以下を参照してください。

    |'ttimeout'|

 								*faq-19.16*
19.16. "c"と"s"を使ったときに変更する文字を削除するのでなく"$"を表示するように
       するには？

"c"と"s"で変更する文字を削除するのでなく"$"を表示するようにするには、
'cpoptions'にフラグ$を追加します: >

    :set cpoptions+=$
<
さらなる情報については以下を参照してください。

    |'cpoptions'|

 								*faq-19.17*
19.17. 1回の`:set`コマンドでオプションから複数のフラグを除去するには？

1回の`:set`コマンドでオプションから複数のフラグを除去するには、それらのフラグ
がオプション中に現れるのと正確に同じ順序でフラグを指定します。例えば、次のコマ
ンドで'formatoptions'からフラグ"t"と"n"を除去しようとしたとします: >

    :set formatoptions-=tn
<
すると、'formatoptions'がこれらのフラグをこの"tn"という順序で保持していた場合
のみ、フラグ"t"と"n"が除去されます。そうでなければフラグは除去されません。
この問題を避けるには、フラグを1つ1つ除去します: >

    :set formatoptions-=t formatoptions-=n
<
さらなる情報については以下を参照してください。

    |:set-=|

=============================================================================
 								*faq-20*
SECTION 20 - キーマップ ~

 								*faq-20.1*
20.1. キーがどうマップされているかを知るには？

キーがどうマップされているかを知るには、次のコマンドを使うことができます: >

    :map <key>
    :map! <key>
<
また、特定のモードでのマッピングを確認するには`:cmap`, `:nmap`, `:vmap`,
`:imap`, `:omap`などのコマンドを使うことができます。

To find out, where the key has been mapped, prefix the `:verbose` command: >

    :verbose :map <key>
<
さらなる情報については以下を参照してください。

    |map-listing|
    |map-overview|

 								*faq-20.2*
20.2. ユーザー定義のキーマッピングをリストするには？

ユーザー定義のキーマッピングをリストするにはこうします: >

    :map
<
さらなる情報については以下を参照してください。

    |map-listing|

 								*faq-20.3*
20.3. キーマップを解除するには？

キーマップを解除するには`:unmap`を使います: >

    :unmap <key>
    :unmap! <key>
<
モード指定のマッピングには以下のどれかを使います: >

    :nunmap
    :vunmap
    :ounmap
    :iunmap
    :lunmap
    :cunmap
<
次のコマンドではバッファローカルなマップを解除できません: >

    :unmap <key>
<
バッファローカルなキーマップを解除するには、キーワード<buffer>を使わなければ
なりません: >

    :unmap <buffer> <key>
    :unmap! <buffer> <key>
<
さらなる情報については以下を参照してください。

    |:unmap|
    |map-modes|
    |:map-local|
    |mapleader|

 								*faq-20.4*
20.4. キー<xxx>へマッピングができません。何がまずいのですか？

1) First make sure, the key is passed correctly to Vim. To determine if
   this is the case, put Vim in Insert mode and then hit CTRL-V (or
   CTRL-Q if your CTRL-V is remapped to the paste operation (e.g. on
   Windows if you are using the mswin.vim script file) followed by your
   key.

   If nothing appears in the buffer (and assuming that you have
   'showcmd' on, ^V remains displayed near the bottom right of the Vim
   screen), then Vim doesn't get your key correctly and there is nothing
   to be done, other than selecting a different key for your mapping or
   using GVim, which should recognise the key correctly.

2) Possibly, Vim gets your key, but sees it as no different than
   something else. Say you want to map <Ctrl-Right>, then in Insert mode
   hit CTRL-K followed by <Ctrl-Right>. If Vim displays <C-Right> it has
   correctly seen the keystroke and you should be able to map it (by
   using <C-Right> as your {lhs}). If it displays <Right> it has seen
   the keystroke but as if you hadn't held <Ctrl> down: this means your
   temrinal passes <Ctrl-Right> as if it were just <Right>. Anything else
   means the key has been misidentified.

3) If the key is seen, but not as itself and not as some recognizable
   key, then there is probably an error in the terminal library for the
   current terminal (termcap or terminfo database). In that case >

        :set term?
<
   will tell you which termcap or terminfo Vim is using. You can try to
   tell vim, what termcode to use in that terminal, by adding the
   following to your vimrc: >

        if &term == <termname>
            set <C-Right>=<keycode>
        endif
<
   where <termname> above should be replaced by the value of 'term'
   (with quotes around it) and <keycode> by what you get when hitting
   CTRL-V followed by <Ctrl-Right> in Insert mode (with nothing around
   it). <C-Right> should be left as-is (9 characters). Don't forget that
   in a `:set` command, white space is not allowed between the equal sign
   and the value, and any space, double quote, vertical bar or backslash
   present as part of the value must be backslash-escaped.

   Now you should be able to see the keycode corresponding to the key
   and you can create a mapping for the key using the following command: >

        :map <C-Right>  <your_command_to_be_mapped>
<
さらなる情報については以下を参照してください。

    |map-keys-fails|
    |:map-special-keys|
    |key-codes|

 								*faq-20.5*
20.5. Why does mapping the <C-...> key not work?

The only <Ctrl>-<printable-key> chords which Vim can reliably detect
(because they are defined in the ASCII standard) are the following: >

        CTRL-@                 0x00            NUL
        CTRL-A to CTRL-Z       0x01 to 0x1A
        CTRL-a to CTRL-z       0x01 to 0x1A
        CTRL-[                 0x1B            ESC
        CTRL-\                 0x1C
        CTRL-]                 0x1D
        CTRL-^                 0x1E
        CTRL-_                 0x1F
        CTRL-?                 0x7F            DEL
<
Most of these, however, already have a function in Vim (and some are
aliases of other keys: CTRL-H and <BS>, CTRL-I and <Tab>, CTRL-M and <Enter>,
CTRL-[ and <Esc>, CTRL-? and <Del>).

The "safest" keys to use in Vim for the {lhs} of a mapping are the F
keys, with or without Shift: <F2> to <F12> and <S-F1> to <S-F12>. (Some
OSes, including mine, intercept <Ctrl-Fn> and <Alt-Fn>, which never reach an
application program such as vim or gvim).

You can try other combinations of <Ctrl> + any key, but they may either
not work everywhere (e.g. the terminal might not pass that key to Vim,
or they might have unintended side effects (e.g. mapping <C-I> means
also to map <Tab>).

This is a known issue, that has been discussed and might be implemented
in the future to enable Vim to distinguish between various keys even in
console mode. (e.g.
https://groups.google.com/d/msg/vim_dev/2bp9UdfZ63M/sajb9KM0pNYJ)

 								*faq-20.6*
20.6. テンキーにマップするには？

最初にテンキーのキーがVimに渡っているかどうかを確認してください。そして次の
コマンドでテンキーのキーに対してマップすることができます: >

    :map <kSomething>  <your_command>
<
ここで<kSomething>にはkHome, kEnd, kPageUp, kPageDown, kPlus, kMinus,
kDivide, kMultiply, kEnterなどが使えます。

さらなる情報については以下を参照してください。

    |key-codes|
    |terminal-options|

 								*faq-20.7*
20.7. ビジュアルモードでのみ機能するマッピングを作成するには？

特定のモード(ノーマル、コマンド、挿入、ビジュアル等)でのみ機能するマッピングを
作成することができます。ビジュアルモードでのみ機能するマッピングを作るには、
`:vmap`を使います: >

    :vmap <F3> <your mapping here>
<
This mapping will work in visual and select mode. If you want the map to
work only in visual mode (excluding select mode), use:
 >

    :xmap <F3> <your mapping here>
<
and to have the mapping only work in select mode (but not visual mode),
use: >

    :smap <F3> <your mapping here>
<
さらなる情報については以下を参照してください。

    |:vmap|
    |:xmap|
    |:smap|
    |map-modes|
    |40.1|

 								*faq-20.8*
20.8. How do I create a mapping that works only in normal and operator
   pending mode (but not in visual mode)?

Using `:map` creates a mapping that works in normal, visual+select mode and
operator pending mode. You can use `:nmap` to have the mapping only work in
normal mode and `:vmap` to have the mapping only be defined for visual and
select mode or use `:omap` to have the mapping only defined in operator
pending mode.

But if you want to have a mapping defined, that works in both operator
pending mode and normal mode, but not in visual and select mode, you need
to first define the mapping using `:map` and afterwards delete the mapping
for visual and select mode:

	:map <f3> <your mapping here>
	:vunmap <f3>

 								*faq-20.9*
20.9. Vim script中で、すでに使われているキーと衝突しないようにどのキーを使うべ
      きかを知るには？

Vimはキーボードのほとんどのキーを使います。mapに<leader>プリフィックスを使うと
Vimのキーと重ならないようにキーを定義することができます。例: >

    :map <leader>S <C-W>s
    :map <leader>j <C-W>j
    :map <leader>k <C-W>k
<
ここでデフォルトの<leader>はバックスラッシュ(\)で置き換えられます。そのため
ユーザーはこれらのマッピングを発動させるのに >
        \s
        \j
        \k
<
を押すことになります。マップリーダーを好きな物に変えることができます: >

    :let mapleader = ","
<
プラグインなどのスクリプトを書くときは、いつも以上に `:map` でなく `:noremap` を使
い、ユーザー定義マッピングの副作用を避けることが推奨されます。

さらなる情報については以下を参照してください。

    |<Leader>|
    |<LocalLeader>|
    |write-plugin|

 								*faq-20.10*
20.10. エスケープキーにマップするには？

`:map`コマンドでエスケープキーを他のキーにマップすることができます。例えば、次
のコマンドはエスケープキーをCTRL-Oにマップします。 >

    :map <C-O> <Esc>
<
 								*faq-20.11*
20.11. あるキーを何もしないようにマップするには？

キーを<Nop>にマップすると、そのキーを押したときに何も起こらないようにすること
ができます。例えば、次のマッピングで<F7>が押されたとき何もしないようにすること
ができます。 >

    :map <F7> <Nop>
    :map! <F7> <Nop>
<
さらなる情報については以下を参照してください。

    |<Nop>|
    |:map|
    |:map!|
    |map-modes|

 								*faq-20.12*
20.12. <Tab>キーでテキストのブロックをインデントし、<Shift-Tab>でテキストの
       ブロックをアンインデントするようにしたいです。このようなマップを作る
       には？この挙動はtextpadやVisual Studioなどに似ています。

以下のマッピングを使ってください: >

    :inoremap <S-Tab> <C-O><lt><lt>
    :nnoremap <Tab> >>
    :nnoremap <S-Tab> <lt><lt>
    :vnoremap <Tab> >
    :vnoremap <S-Tab> <lt>
<
注意: <S-Tab>のマッピングはVimが正しいキーシーケンスを受け取るときのみ機能しま
す。これはGUIのVimの場合はたいてい当てはまります。

さらなる情報については以下を参照してください。

    |:inoremap|
    |:nnoremap|
    |:vnoremap|
    |<S-Tab>|
    |i_CTRL-O|
    |>>|
    |<<|
    |<lt>|

 								*faq-20.13*
20.13. 私のマッピングにおいて<CR>のような特殊文字が認識されません。
       特殊文字を認識するように設定するには？

'cpoptions'の値を確認してください: >

    :set cpoptions?
<
このオプションがフラグ"<"を含んでいると、マッピングにおいて特殊文字が認識され
ません。'cpoptions'からフラグ"<"を除去してください: >

    :set cpo-=<
<
また、'compatible'の値も確認してください: >

    :set compatible?
<
'compatible'はオフになっていなければなりません: >

    :set nocompatible
<
さらなる情報については以下を参照してください。

    |'cpoptions'|
    |'compatible'|

 								*faq-20.14*
20.14. マップ中で"|"を使って複数のコマンドを区切るには？

マップ中で"|"を使うにはバックスラッシュ(\)で"|"をエスケープします。 >

    :map _l :!ls \| more<CR>
<
次のコマンドも試してみてください: >

    :map _l :!ls <bar> more<CR>
<
他の方法もあります。

さらなる情報については以下を参照してください。

    |map_bar|

 								*faq-20.15*
20.15. その最後が他のマッピング/短縮入力の始まりとなっているマッピング/短縮
       入力があります。最初のものを入力したとき、2番目のが展開しないようにする
       には？

`:map lhs rhs`でなく`:noremap lhs rhs`を使ってください。短縮入力については
"noreabbrev lhs rhs"です。プリフィックス"nore"はマッピングや短縮入力が再帰的に
展開されるのを防ぎます。

さらなる情報については以下を参照してください。

    |:noremap|
    |:noreabbrev|

 								*faq-20.16*
20.16. ときどきキーが処理されるのに1秒程度かかるのはなぜですか？

そのキーに対してマッピングが定義されていないことを次のコマンドで確かめてくださ
い: >

    :map <key>
<
もしこのキーにマッピングが定義されていて、マッピングが1文字以上を含んでいるな
ら、Vimはそれがマッピングの一部かどうかを判定するために、次の文字が押されるの
を待ちます。例えば、"ab"というマッピングをしているとします。そして"a"を押すと
Vimは次のキーが押されるのを待ちます。次のキーが"b"ならvimはこのマッピングを実
行します。そうでなければvimは"a"とその次のキーを通常どおりに処理します。
'timeout'がオンになっていると(それがデフォルトです)、Vimは'timeoutlen'で指定さ
れた時間(デフォルトは1秒)だけ待ったのちタイムアウトします。

さらなる情報については以下を参照してください。

    |map-typing|
    |'timeoutlen'|
    |'ttimeoutlen'|
    |'timeout'|
    |'ttimeout'|
    |vt100-cursor-keys|
    |slow-fast-terminal|

 								*faq-20.17*
20.17. ビジュアル選択したテキストに対して外部コマンドを実行するマッピングを作
       るには？

`:vmap`コマンドでビジュアルモードでのマッピングを作ることができます。マップの
コマンドシーケンスの中で、最初にそのテキストをヤンクしなければなりません。ヤン
クされたテキストはレジスタ"で取得できます。そしてこのレジスタの中身を使って外
部コマンドを実行することができます。例えば、外部コマンド"perldoc"を選択された
テキストに対して実行するには、次のマッピングを使います: >

    :vmap <F7> y:!exec "!perldoc '" . @" . "'"<CR>
<
選択されたテキストでなく、ビジュアルモード中でマッピングを実行したいなら次のコ
マンドを使います: >

    :vmap <F7> :<C-U>!perldoc <cword><CR>
<
このマッピングは選択されたテキストでなく、カーソル下の単語を使います。外部コマ
ンド"perldoc"を実行する前に<C-U>としてることに注意してください。この<C-U>はビ
ジュアルモードで選択されたテキストの範囲がコマンドラインに表示されているのを消
すために使われています。<C-U>を使って選択範囲を消さないと、外部コマンドの出力
が選択されたテキストを置き換えてしまいます。

さらなる情報については以下を参照してください。

    |:vmap|
    |quote_quote|
    |:let-register|
    |c_CTRL-U|
    |:!cmd|

 								*faq-20.18*
20.18. <Tab>キーの機能を保ったままCTRL-Iにマッピングするには？

CTRL-Iと<Tab>は同じキーコードを生成します。そのため、VimはCTRL-Iと<Tab>を区別
することができません。CTRL-Iにマッピングすると、<Tab>キーにも同様にマッピング
されます(逆も同様です)。これと同じ制限がCTRL-[と<Esc>にも適用されます。

さらなる情報については以下を参照してください。

    |keycodes|

 								*faq-20.19*
20.19. How do I define a map to accept a count?

Use the @= command to use an expression. For example, >

    nnoremap = @='3l'
<
Now you can specify a count to the "=" command.

    |complex-repeat|

 								*faq-20.20*
20.20. How can I make my normal mode mapping work from within Insert
       Mode?

Mappings in normal mode can be executed after CTRL-O from insert mode as
well but if there are more commands included in the mapping {rhs}, only the
first one will be executed in normal mode and the rest of {rhs} will be
printed literally in insert mode. One of ways to workaround this problem is
to make {rhs} be one command, via wrapping it to the function. For example: >

    function GetFontNameOfFirstChar()
    normal! 0
    echo getfontname()
    endfunction
<
    :nmap <F9> :call GetFontNameOfFirstChar()<CR>

A more technical and detailed solution to this problem follows and can
be found at https://groups.google.com/group/vim_dev/msg/75f1f2dfc00908bb

Not every normal mode-mapping is automatically suitable for execution via
CTRL-O from within insert mode; you need to explicitly design your mappings
for that purpose.

The CTRL-O command allows execution of one normal mode command from
within insert mode, then returns to insert mode. If a normal mode mapping
concatenates multiple normal mode commands, this breaks down in temporary
normal mode and literally inserts the second part of the command into the
buffer instead. To support execution of normal mode mappings from within
insert mode, these strategies can be used:

1) Instead of concatenating multiple normal mode commands, use one `:normal`
    mapping: >

    :nnoremap <silent> zC :<C-U>normal! zCVzC<CR>
<
2) Concatenate multiple Ex commands via <Bar> on the rhs: >

    :nnoremap zC :<C-U>call MyMap1()<Bar>call MyMap2()<CR>
<
3) Shadow normal mode mappings by insert mode mappings that
    re-enter normal mode, then invoke the normal mode mapping: >

    :nnoremap <silent> <SID>MyMap2 :<C-U>call MyMap2()<CR>
    :inoremap <silent> <script> <SID>MyMap2 <C-\><C-O><SID>MyMap2
    :nnoremap <silent> <script> zC <SID>MyMap1<SID>MyMap2
<
4) Normal mode mappings that consist of multiple Ex command lines (and
    where Ex commands cannot be concatenated via <Bar>) replace `:<C-U>`
    with <SID>NM; the <SID>NM mapping enters normal mode for one ex command
    line: >

    :nnoremap <silent> <SID>NM :<C-U>
    :inoremap <silent> <SID>NM <C-\><C-O>:
    :nnoremap <silent> <script> zC <SID>MyMap1<SID>NMcall MyMap2()<CR>
<
5)  If none of the above is possible, at least force normal mode for
    subsequent commands via CTRL-\ CTRL-N to avoid accidental insertion
    of the remainder of the mapping. >

    :nnoremap zC zC<C-\><C-N>VzCzz
<

For more information, read:

    |i_CTRL-O|
    |map_bar|
    |i_CTRL-\_CTRL-O|
    |CTRL-\_CTRL-N|

=============================================================================
 								*faq-21*
SECTION 21 - 短縮入力 ~

 								*faq-21.1*
21.1. スペリングを間違えた単語を自動的に修正するには？

短縮入力を使ってスペリングを間違えた単語を自動的に修正することができます。例え
ば、次の短縮入力で"teh"を"the"に修正することができます: >

    :abbreviate teh the
<
挿入モード、置換モード、コマンドラインモードで短縮入力が利用できます。

さらなる情報については以下を参照してください。

    |24.7|
    |abbreviations|
    |Q_ab|

 								*faq-21.2*
21.2. 複数行の短縮入力を作るには？

キーコード"<CR>"を埋め込めば、複数行の短縮入力を作ることができます: >

    iabbrev #c --------------<CR>-- Date:<CR>--<CR>---------
<
この短縮入力によって、#cとタイプすると次のテキストに展開されます:

--------------
-- Date:
--
---------

さらなる情報については以下を参照してください。

    |abbreviations|

 								*faq-21.3*
21.3. 短縮入力が展開されたとき、展開されたテキストの末尾に余計なスペースが入っ
      てしまいます。これを防ぐには？

短縮入力をCTRL-]を押して展開すれば、展開されたテキストの末尾に余計なスペースが
入るのを防ぐことができます。

別の方法としては、次の関数とコマンドを使うことができます: >

    function! Eatchar(pat)
        let c = nr2char(getchar())
        return (c =~ a:pat) ? '' : c
    endfunction
    command! -nargs=+ Iabbr execute "iabbr" <q-args> . "<C-R>=Eatchar('\\s')<CR>"
<
こうしておいて、組み込みの`:iabbrev`の代わりに新しいコマンド"Iabbr"を使って短縮
入力を定義します。このコマンドを使うと、テキストを展開した後、次に入力された文
字が捨てられます。

さらなる情報については以下を参照してください。

    |abbreviations|

 								*faq-21.4*
21.4. 現在の日付・時刻を挿入するには？

strftime()を使えば現在の日付・時刻のタイムスタンプを挿入することができます。例
えば、次の短縮入力を使います: >

    iabbrev dts <C-R>=strftime("%y/%m/%d %H:%M")<CR>
<
この短縮入力を使うと、挿入モードでdtsと入力するとそれがタイムスタンプに展開さ
れます。

この短縮入力の別の形を以下に列挙します: >

    iabbrev mdyl <C-R>=strftime("%a %d %b %Y")<CR>
    iabbrev mdys <C-R>=strftime("%y%m%d")<CR>
    iabbrev mdyc <C-R>=strftime("%c")<CR>
    iabbrev hml  <C-R>=strftime("%d/%m/%y %H:%M:%S")<CR>
    iabbrev hms  <C-R>=strftime("%H:%M:%S")<CR>
<
さらなる情報については以下を参照してください。

    |strftime()|
    |i_CTRL-R|

 								*faq-21.5*
21.5. 挿入モードで短縮入力が展開されるのを防ぐには？

短縮された単語の後にCTRL-Vを押してから次の文字を入力すれば、それが展開されるの
を防ぐことができます。

さらなる情報については以下を参照してください。

    |abbreviations|

=============================================================================
 								*faq-22*
SECTION 22 - レコーディングと繰り返し ~

 								*faq-22.1*
22.1. 編集操作(挿入、削除、ペースト等)を繰り返すには？

"."を使えば最後の編集操作を繰り返すことができます。これは挿入、削除、変更、
ペーストなどの単純な変更を繰り返します。

さらなる情報については以下を参照してください。

    |04.3|
    |single-repeat|
    |Q_re|

 								*faq-22.2*
22.2. キーシーケンスを記録し、繰り返すには？

ノーマルモードで"q"を使うとキーシーケンスを記録し、それをレジスタに保存するこ
とができます。例えば、ノーマルモードでqを押し、続けてレジスタ名{0-9a-bA-Z"}を
押すとレコーディングが始まります。レコーディングを終了するには、もう一度qを押
します。記録されたキーシーケンスを再生するには、@に続けてレジスタ名を押しま
す。例. @a。

別の方法としてはコマンドライン引数"-w"をつけてVimを起動します。 >

    $ vim -w <file_name>
<
するとVimはこのセッション中にタイプされた文字全てを指定されたファイル
"file_name"に記録します。コマンドライン引数"-s"でそのファイルを指定すると、そ
れを再生することができます: >

    $ vim -s <file_name>
<
さらなる情報については以下を参照してください。

    |10.1|
    |recording|
    |-w|
    |-s|

 								*faq-22.3*
22.3. 記録したキーシーケンスを編集するには？

記録したキーシーケンスはレジスタに保存されます。そのレジスタの中身をバッファに
ペーストし、そのテキストを編集して最後レジスタにヤンクすることができます。
また、`:let`でもレジスタを修正することができます。例: >

    :let @a = "iHello World\<Esc>"
<
さらなる情報については以下を参照してください。

    |recording|
    |10.1|
    |:let-register|
    |<>|
    |'cpoptions'|

 								*faq-22.4*
22.4. 記録したキーシーケンスをファイルに保存するには？

記録されたキーシーケンスはレジスタに保存されます。そのレジスタの中身をバッファ
にペーストすることができます。そしてそのバッファをファイルに保存します。ペース
トしたテキストを修正して再度レジスタにヤンクして記録したキーシーケンスを修正す
ることもできます。例えば、qa ..... qとしてキーシーケンスを記録したとします。
記録したキーシーケンスはレジスタ"a"に保存されます。"apとするとレジスタ"a"の中
身をペーストすることができます。

さらなる情報については以下を参照してください。

    |recording|
    |10.1|

 								*faq-22.5*
22.5. レジスタ0にキーシーケンスを保存しています(つまり q0 .... q)。
      記録したキーシーケンスの中でテキストをヤンクしています。一度そのキーシー
      ケンスを再生すると、もうそれを再現することができません。

レジスタ0は最後のヤンクしたテキストを保持します。記録したキーシーケンス中でヤ
ンクが行われたとき、レジスタ0はそのテキストで上書きされます。そのためレジスタ
0に記録したキーシーケンスは失われます。何か他のレジスタを使わねばなりません。

さらなる情報については以下を参照してください。

    |registers|

=============================================================================
 								*faq-23*
SECTION 23 - 自動コマンド ~

 								*faq-23.1*
23.1. 読み込み専用ファイルを修正しようとしたときにコマンドを実行するには？

自動コマンドFileChangedROを使えば、読み込み専用ファイルが修正されたときにコマ
ンドを実行できます。例えば、このイベントを使って読み込み専用ファイルをチェック
アウトすることができます: >

    :autocmd FileChangedRO * call MyCheckoutFunction()
<
さらなる情報については以下を参照してください。

    |FileChangedRO|

 								*faq-23.2*
23.2. あるバッファに入るときに毎回コマンドを実行するには？

自動コマンドイベントBufEnterを使うと、あるバッファに入る度にコマンドを実行する
ことができます。例: >

    :autocmd BufEnter *.c set formatoptions=croqt
<
さらなる情報については以下を参照してください。

    |BufEnter|

 								*faq-23.3*
23.3. あるウィンドウに入るときに毎回コマンドを実行するには？

自動コマンドイベントWinEnterを使えば、あるウィンドウに入る度にコマンドを実行す
ることができます。例: >

    :autocmd WinEnter *.c call MyFunction()
<
さらなる情報については以下を参照してください。

    |WinEnter|

 								*faq-23.4*
23.4. autocmd中でその自動コマンドが実行されているファイルの名前やバッファ番号
      を知るには？

特殊な単語<afile>または<abuf>を使えばautocmd中でその自動コマンドが実行されてい
るファイル名やバッファ番号を取得することができます。

さらなる情報については以下を参照してください。

    |:<afile>|
    |:<abuf>|
    |:<amatch>|

 								*faq-23.5*
23.5. Vimがフォーカスを失ったとき、変更されたバッファ全てを自動的に保存する
      には？

FocusLostイベントに対して自動コマンドを定義すれば、Vimがフォーカスを失う度に変
更されたバッファ全てを保存することができます: >

    :autocmd FocusLost * wall
<
さらなる情報については以下を参照してください。

    |FocusLost|
    |:wall|

 								*faq-23.6*
23.6. Vimを終了するときにクリーンアップ用の関数を実行するには？

VimLeaveイベントを使えば、Vimが終了する直前に関数を実行することができます。
例 >

    :autocmd VimLeave * call MyCleanupFunction()
<
さらなる情報については以下を参照してください。

    |VimLeave|

=============================================================================
 								*faq-24*
SECTION 24 - 構文強調 ~

 								*faq-24.1*
24.1. 構文強調をオン・オフにするには？

デフォルトでは構文強調はオフにされています。構文強調をオンにするには次のコマン
ドのどれかを使います: >

    :syntax enable
<
または >

    :syntax on
<
構文強調を無効にするには、次のコマンドを使います: >

    :syntax off
<
さらなる情報については以下を参照してください。

    |06.1|
    |06.4|
    |:syntax-enable|
    |:syntax-on|
    |:syn-clear|

 								*faq-24.2*
24.2. 背景色と文字色を変えるには？

背景色と文字色にはハイライトグループ "Normal" が使われます。文字色・背景色を変える
には、ハイライトグループ "Normal" を変更しなければなりません。例えば、背景色を青に、
文字色を白にするには、次のようにします: >

    :highlight Normal ctermbg=blue ctermfg=white guibg=blue guifg=white
<
もしMotifまたはAthena版のGVimを使っているなら、.Xdefaultsファイル中の文字色と
背景色のリソース名を変更してもよいでしょう: >

    Vim.foreground:     Black
    Vim.background:     Wheat
<
また、コマンドライン引数"-foreground"と"-background"を指定して文字色と背景色
を指定することもできます。これらの引数はMotifとAthena版でだけサポートされてい
ます: >

    $ gvim -foreground Black -background Wheat
<
さらなる情報については以下を参照してください。

    |:highlight|
    |.Xdefaults|
    |-gui|

 								*faq-24.3*
24.3. 暗い/明るい背景色に合うように色を変えるには？

'background'を"dark"か"light"に変えれば、それぞれ暗い/明るい背景に合うように
強調色を変えることができます: >

    :set background=dark
<
さらなる情報については以下を参照してください。

    |'background'|
    |06.2|

 								*faq-24.4*
24.4. `:set number`をしたときに表示される行番号の色を変えるには？

行番号の表示にはハイライトグループ LineNr が使われます。現在設定されている色を表示する
にはこうします >

    :hi LineNr
<
この色を変えるには、ハイライトグループ LineNr を変更します。例: >

    :hi linenr guifg=red guibg=black
<
こうするとGVimでは黒い背景の上に赤い数字で表示されるようになります。

さらなる情報については以下を参照してください。

    |:highlight|

 								*faq-24.5*
24.5. ビジュアルモードで選択された範囲の背景色を変えるには？

ハイライトグループ "Visual" を変更すれば、ビジュアルモードで選択された範囲の色を変える
ことができます: >

    :highlight Visual guibg=red
<
さらなる情報については以下を参照してください。

    |:highlight|
    |hl-Visual|

 								*faq-24.6*
24.6. オプション'list'で表示した特殊文字(タブ、行末の空白、行末など)に色をつけ
      るには？

ハイライトグループ "NonText" と "SpecialKey" を変えれば'list'によって表示された特殊文字
に色をつけることができます: >

    :highlight NonText guibg=red
    :highlight SpecialKey guibg=green
<
オプション'listchars'中の"eol", "extend", "precedes"に対しては"NonText"が使わ
れます。"tab"と"trail"には"SpecialKey"が使われます。

さらなる情報については以下を参照してください。

    |'listchars'|
    |hl-NonText|
    |hl-SpecialKey|

 								*faq-24.7*
24.7. 毎回同じカラースキームを使うように.vimrc/.gvimrcで設定するには？

.vimrcや.gvimrc中で`:colorscheme`を使えばカラースキームを指定することができま
す: >

    colorscheme evening
<
さらなる情報については以下を参照してください。

    |:colorscheme|

 								*faq-24.8*
24.8. 正しく構文強調されません。ファイルの一部が強調されなかったり、間違って強
      調されてしまいます。

Vimは構文強調する際にファイル全体をパースすることはしません。表示してされてい
る場所からパースが始まります。これによって多大な時間が節約できますが、ときどき
間違って色づけされることもあります。これを修正する単純な方法は、CTRL-Lを押して
画面を再描画することです。または少し上にスクロールしてから下に戻ってきます。
このコマンドを使うこともできます: >

    :syntax sync fromstart
<
注意: これを実行すとスクリーンの描画が相当遅くなります。

さらなる情報については以下を参照してください。

    |:syn-sync|
    |:syn-sync-first|

 								*faq-24.9*
24.9. 対応する括弧を強調する組み込みの関数はありますか？

Yes. Vim includes the matchparen Plugin as standard plugin that is enabled
by default. Whenever the cursor moves over an item defined with the
'matchpairs' option, Vim will highlight the corresponding bracket using the
MatchParen highlighting group.

However, if the corresponding parenthesis is not visible in the current
window, the cursor won't jump to it.

The matchit plugin provides a similar function, that lets the cursor
jump to related items (e.g. "if", "else", "endif" items) and skips
matches in comments. This uses the % command to jump to corresponding
items. Though both plugins provide similar functions they are unrelated
and work differently.

さらなる情報については以下を参照してください。

    |matchparen|
    |'matchpairs'|
    |matchit-install|
    |matchit-intro|

 								*faq-24.10*
24.10. Cのコメントの構文強調をオフにするには？

次のコマンドを使うとCのコメントの構文強調をオフにすることができます: >

    :highlight clear comment
<
さらなる情報については以下を参照してください。

    |ft-c-syntax|

 								*faq-24.11*
24.11. Vimに付属する標準の構文ファイルに私自身の構文拡張を加えるには？

あなたの拡張を追加する場合、Vimに付属の構文ファイルそのものを修正するべきでは
ありません。次のVimのバージョンをインストールしたとき、その変更が失われてしま
います。代わりに、~/.vim/after/syntaxディレクトリに元の構文ファイルと同名の
ファイルを作り、そこにあなたの拡張を加えるべきです。

さらなる情報については以下を参照してください。

    |mysyntaxfile-add|
    |'runtimepath'|

 								*faq-24.12*
24.12. Vimに付属の標準の構文ファイルを独自の構文ファイルで置き換えるには？

元の構文ファイルと同名のファイルを作成し、ランタイムの構文ディレクトリに置けば
標準の構文ファイルに置き換えることができます。例えば、Unixシステムにおいて構文
ファイルc.vimを置き換えるには、新しいc.vimを~/.vim/syntaxに置きます。
MS-Windowsシステムにおいては新しい構文ファイルを$HOME/vimfiles/syntaxまたは
$VIM/vimfiles/syntaxディレクトリに置きます。

さらなる情報については以下を参照してください。

    |mysyntaxfile-replace|
    |44.11|
    |mysyntaxfile|

 								*faq-24.13*
24.13. 特定の桁以降の全ての文字を強調するには？

`:match`を使えば特定の桁以降の全ての文字を強調することができます: >

    :match Todo '\%>75v.\+'
<
これは75桁目以降の全ての文字を強調します。

You can also set the 'colorcolumn' option to highlight a particular
column:

   :set colorcolumn=+2

which highlights 2 columns after the current 'textwidth' setting
(alternatively, you can use the exact column number).

さらなる情報については以下を参照してください。

    |:match|
    |/\%v|
    |/\+|
    |/.|
    |'colorcolumn'|

 								*faq-24.14*
24.14. ソースファイル(.c, .hなど)を構文強調つきでHTMLファイルに変換するには？

2html.vimを使えばソースファイルを構文強調つきでHTMLファイルに変換することがで
きます。次のコマンドを実行してください: >

    :TOhtml
<
さらなる情報については以下を参照してください。

    |convert-to-HTML|
    |:TOhtml|

 								*faq-24.15*
24.15. 現在のハイライトグループ定義を全て表示するには？

現在のハイライトグループ定義を全て表示するには`:highlight`を(引数無しで)実行し
ます。

さらなる情報については以下を参照してください。

    |:highlight|

 								*faq-24.16*
24.16. How can I embed one syntax highlighting language into another one?

It is possible to include one syntax highlighting into another one,
however most of the currently deployed syntax highlighting scripts are
not prepared to be included into another syntax script.

You can however create your own custom script to define your own
regions, which will be highlighted with a different language.

See the wiki for a comprehensive solution:

    http://vim.wikia.com/wiki/Different_syntax_highlighting_within_regions_of_a_file

さらなる情報については以下を参照してください。

    |:syn-include|
    |sh-awk|

=============================================================================
 								*faq-25*
SECTION 25 - Vim script を書く ~

 								*faq-25.1*
25.1. 読み込まれているスクリプトを全て表示するには？

`:scriptnames`を使えば読み込まれているスクリプトを全て表示することができ
ます: >

    :scriptnames
<
さらなる情報については以下を参照してください。

    |:scriptnames|

 								*faq-25.2*
25.2. Vim scriptをデバッグするには？

VimはVimプラグインやスクリプトをデバッグするための原始的なデバッガを備えていま
す。このデバッガを使うとブレークポイントを設定したり、プラグインの関数をステッ
プ実行できます。

さらなる情報については以下を参照してください。

    |debug-scripts|
    |-D|

 								*faq-25.3*
25.3. あるオプションを設定したスクリプト/プラグインを探すには？

`:verbose`を使えば最後にあるオプションを設定したプラグイン/スクリプトを探すこ
とができます。例: >

    :verbose set textwidth?
<
さらなる情報については以下を参照してください。

    |:set-verbose|
    |:verbose|

 								*faq-25.4*
25.4. (おそらくスクリプトを実行中に)エラーやメッセージが出るのですが、すぐに消
      えてしまいます。このメッセージをもう一度表示するには？

`:messages`を使えば以前のメッセージを表示することができます。 >

    :messages
<
さらなる情報については以下を参照してください。

    |:messages|
    |:echoerr|
    |:echomsg|
    |message-history|

 								*faq-25.5*
25.5. プラグイン固有の情報を保存し、Vimを再起動したときそれを復元するには？

Vimは大文字で始まり、小文字を含まないグローバル変数を保存し、復元します。この
機能を有効化するには、'viminfo'がフラグ"!"を含んでいなければなりません。Vimは
これらの変数をviminfoファイルに保存します。

さらなる情報については以下を参照してください。

    |'viminfo'|
    |viminfo-file|
    |variables|

 								*faq-25.6*
25.6. 関数の中から挿入モードを開始するには？

`:startinsert`を使えば関数の中から挿入モードを開始することができます。

さらなる情報については以下を参照してください。

    |:startinsert|

 								*faq-25.7*
25.7. 関数の中でカーソル位置を動かすには？

関数cursor()を使えばカーソルを動かすことができます。 >

        call cursor(lnum, col)
<
Alternatively, use the setpos() function: >

       call setpos('.', [bufnum, lnum, col, off])
<
which set's the cursor in the buffer bufnum to line lnum, column col and
offset for 'virtualedit'. You can use the getpos() function, to return a
list with these values, that can then be fed back to the setpos() function.

If you want to save and restore the viewpoint on a window, use the
winsaveview() and winrestview() function calls.

次のコマンドを使ってもカーソル位置を変えることができます: >

        exe "normal! " . lnum . "G" . col . "|"
<
さらなる情報については以下を参照してください。

    |cursor()|
    |bar|
    |getpos()|
    |setpos()|
    |winsaveview()|
    |winrestview()|

 								*faq-25.8*
25.8. .vimrcファイルの中で環境変数の値をチェックするには？

Vim script/関数の中で環境変数を使うには、環境変数名の前に"$"をつけます: >

    if $EDITOR == 'vi'
    endif
<
さらなる情報については以下を参照してください。

    |expr-env|

 								*faq-25.9*
25.9. 環境変数が定義されているかどうかをチェックするには？

exists()を使えば環境変数の存在をチェックすることができます。 >

    if exists("$MY_ENV_VAR")
    endif
<
さらなる情報については以下を参照してください。

    |exists()|
    |expr-env|

 								*faq-25.10*
25.10. Vimの組み込み関数を呼ぶには？

`:call`コマンドを使えばVimの組み込み関数を呼び出すことができます: >

    :call cursor(10,20)
<
`:echo`を使えば関数の戻り値を表示することができます: >

    :echo char2nr('a')
<
`:let`を使えば関数の戻り値を変数に代入することができます: >

    :let a = getline('.')
<
関数の戻り値をレジスタに保存するには、次のようにします: >

    :let @a = system('ls')
<
上のコマンドは"ls"コマンドの出力をレジスタ"a"に保存します。

さらなる情報については以下を参照してください。

    |:call|
    |:echo|
    |:let|
    |:let-register|
    |user-functions|
    |usr_41.txt|

 								*faq-25.11*
25.11. Vim script中でノーマルコマンドを使っています。そのコマンドに対して
       ユーザー定義のマッピングが働くのを防ぎ、そのノーマルモードコマンドが
       Vim の標準の機能を果たすようにするには？

スクリプト中でノーマルモードコマンドを使うときは`:normal!`を使えばよいでし
ょう。これはノーマルモードコマンドの標準の機能を使い、ユーザー定義マッピングは
作用しません。

さらなる情報については以下を参照してください。

    |:normal|

 								*faq-25.12*
25.12. ビジュアルモードで現在選択されているテキストを変数やレジスタに入れるに
       は？

ビジュアルモードで選択されているテキストを変数に取得するには、そのテキストをレ
ジスタにヤンクし、その後そのレジスタの中身を変数に代入します: >

    :normal! gvy
    :let myvar = @"
<
上のコマンドはビジュアルモードで選択されたテキストを変数"myvar"にコピーします。

次のコマンドを使うこともできます: >

    :normal! gv"*y
<
上のコマンドは、gvで最後にビジュアルモードで選択されたテキストを選択し、コマン
ドの残りの部分で選択されたテキストをレジスタ*(クリップボード)にコピーします。
別の方法としては、'guioptions'にフラグ"a"をセットして、選択されたテキストを自
動的にレジスタ*に入れるようにしてもよいでしょう。
これをマップの一部分として実行するには、以下のようなコマンドを使います: >

    :vmap <F3> "*y:call ...
<
さらなる情報については以下を参照してください。

    |gv|
    |:normal|
    |:let-@|
    |quotestar|
    |clipboard|
    |registers|

 								*faq-25.13*
25.13. 変数"myvar"にテキストが入っています。この変数を`:s`中で使って"mytext"
       というテキストを置換したいのですが、どうすればいいですか？

`:execute`コマンドを使えば変数を評価することができます: >

    :execute '%s/mytext/' . myvar . '/'
<
さらなる情報については以下を参照してください。

    |:execute|

置換コマンド中で変数を評価するには"\="を使うこともできます: >

    :%s/mytext/\=myvar/
<
さらなる情報については以下を参照してください。

    |sub-replace-special|

 								*faq-25.14*
25.14. 変数"bno"がバッファ番号を保持しています。この変数を使って対応するバッ
       ファを開くには？

`:buffer`は変数名を受け付けません。このコマンドはバッファ番号かバッファ名のみ
を受け付けます。変数を評価して対応する値にするために`:execute`を使わねばなりま
せん。例: >

    :execute "buffer " . bno
<
さらなる情報については以下を参照してください。

    |:execute|

 								*faq-25.15*
25.15. オプションの値を変数に保存するには？

オプション名の前に"&"をつけると、`:let`でそのオプションの値を変数に代入すること
ができます。例えば、オプション'textwidth'の値を変数"old_tw"に保存するには次の
コマンドを使います: >

    :let old_tw = &tw
<
To explicitly save buffer local options, use the prefix "l:" >

    :let old_tw = &l:tw
<
If you want to explicitly select the global option, use the "g:" prefix to
the option name.

その逆、つまり'textwidth'に"old_tw"に保存された値をセットするには次のコマンド
を使います: >

    :let &tw = old_tw
<
さらなる情報については以下を参照してください。

    |expr-option|
    |:let-option|

 								*faq-25.16*
25.16. 関数の中でテキストをコピーし、バッファに挿入しました。関数の中でそのテ
       キストをインデントするには？

次のコマンドを使えば、たった今挿入したテキストを整形することができます: >

    :normal '[=']
<
さらなる情報については以下を参照してください。

    |'[|
    |']|
    |=|
    |:normal|

 								*faq-25.17*
25.17. Vim script中でカーソル下の文字を取得するには？

getline()と文字列のインデックス[]を使います: >

    :echo getline(".")[col(".") - 1]
<
上のコマンドにおいてgetline(".")は現在行のテキストを返します。文字列のインデッ
クスは0から始まり、"string[index]" という記法で文字列中からインデックスを指定
して1つの文字を取得できます。col(".")はカーソル位置の桁を返します。ここでは文
字列中の目的の文字を取得するために調整されています。However, this does NOT
work with multibyte characters as this command only returns the byte index.

別の方法としては、以下の一連のコマンドによってもカーソル下の文字を取得でき
ます: >

    normal! vy
    let ch=@"
<
注意: 上のコマンドはマーク '< と '> を変更します。

さらなる情報については以下を参照してください。

    |getline()|
    |col()|
    |expr-[]|

 								*faq-25.18*
25.18. 拡張子を除いたカレントファイル名を取得するには？

拡張子を除いたカレントファイル名を取得するにはこうします: >

    :echo expand("%:r")
<
いくつかのコマンドでは、ファイル名の修飾子を直接使うことができます: >

    :cd %:p:h
    :!gcc -o %:r.o %
    :!xpdf %<.pdf
<
さらなる情報については以下を参照してください。

    |filename-modifiers|
    |expand()|
    |cmdline-special|
    |fnamemodify()|

 								*faq-25.19*
25.19. カレントファイルのベース名(basename)を取得するには？

ファイル名修飾子":t"を使えばカレントファイルのベース名(basename)を取得すること
ができます: >

    :echo expand("%:t")
<
さらなる情報については以下を参照してください。

    |filename-modifiers|

 								*faq-25.20*
25.20. 関数の結果をカレントバッファに挿入するには？

挿入モードにおいて次のコマンドで関数の戻り値を挿入することができます: >

    <C-R>=MyFunc()
<
注意: これは関数の戻り値を挿入するだけです。

さらなる情報については以下を参照してください。
    |i_CTRL-R|
    |i_CTRL-R_CTRL-R|
    |i_CTRL-R_CTRL-O|
    |expression|

 								*faq-25.21*
25.21. 関数の中で外部プログラムを呼ぶには？

関数の中で外部プログラムを呼ぶにはいくつかの方法があります。組み込み関数
system()を使うと、外部コマンドを起動し、出力を取得することができます: >

    :let output = system("ls")
<
また、exコマンド"!"を使って外部コマンドを実行することもできます。

さらなる情報については以下を参照してください。

    |system()|
    |:!|
    |10.9|

 								*faq-25.22*
25.22. `:!`で実行したプログラムが返すステータス値を取得するには？

組み込み変数v:shell_errorを使えば最後に実行したシェルコマンドが返すステータス
値を取得することができます。

さらなる情報については以下を参照してください。

    |v:shell_error|

 								*faq-25.23*
25.23. カレントバッファが変更されているかどうかを知るには？

オプション'modified'の値を見ればカレントバッファが変更されているかどうかを知る
ことができます: >

    :set modified?
<
スクリプト中でも'modified'の値を知ることができます: >

    if &modified
        echo "File is modified"
    endif
<
さらなる情報については以下を参照してください。

    |'modified'|

 								*faq-25.24*
25.24. スクリプト中でノーマルコマンドの中に改行文字を使いたいです。改行文字を
       指定するには？

`:execute`を使えばノーマルモードコマンド中で特殊文字を使うことができます: >

    :execute "normal \<CR>"
    :execute "normal ixxx\<Esc>"
<
さらなる情報については以下を参照してください。

    |:execute|
    |expr-quote|

 								*faq-25.25*
25.25. スクリプト中で長い行を次行に継続するには？

スクリプト中で長い行を継続するには、次行の最初にバックスラッシュ("\")をつけま
す。例: >

    set comments=sr:/*,mb:*,el:*/,
                \://,
                \b:#,
                \:%,
                \n:>,
                \fb:-
<
さらなる情報については以下を参照してください。

    |line-continuation|

 								*faq-25.26*
25.26. `:execute Myfunc()`として自作の関数を呼ぼうとすると、カーソルがカレント
       バッファの先頭に移動してしまいます。なぜ？

`:execute`は引数で指定されたexコマンドを実行します。次のコマンドでは: >

    :execute Myfunc()
<
Myfunc()は0を返します。`:execute`コマンドはexコマンドの`:0`を実行します。これ
はカーソルをファイルの先頭に移動させます。関数を呼ぶには`:execute`でなく
`:call`を使ってください: >

    :call Myfunc()
<
さらなる情報については以下を参照してください。

    |:call|
    |:execute|
    |:echo|
    |user-functions|
    |41.5|
    |41.6|
    |cmdline-lines|

 								*faq-25.27*
25.27. レジスタの中身を実行するには？

レジスタ(例えばレジスタ"a"とする)にVimのコマンドをヤンクしてある場合、そのレジ
スタの中身を次のコマンドで実行することができます: >

    :@a
<
または >
    :exe @a
<

さらなる情報については以下を参照してください。

    |:@|

 								*faq-25.28*
25.28. 関数やマップを呼んだ後に"u"キーを押してアンドゥするとその関数/マップに
       よってなされた変更全てをアンドゥします。なぜ？

関数やマップを呼ぶと、その関数/マップによってなされた操作は1つの操作として扱
われます。"u"を押して最後の操作をアンドゥすると、関数/マップによってなされた
変更は全て元に戻ります。

さらなる情報については以下を参照してください。

    |undo-redo|
    |:map-undo|

 								*faq-25.29*
25.29. s:つきで定義された関数(スクリプトローカル関数)を別のスクリプト/プラグ
       インから呼ぶには？

関数名へのプリフィックス s: は関数をスクリプトローカルにするために使われます。
スクリプトローカル関数はそのスクリプト中からのみ呼ぶことができ、他のスクリプト
からは呼び出せません。他のプラグイン/スクリプトから呼び出せる関数を定義するに
は、s: をつけずに関数を定義します。

さらなる情報については以下を参照してください。

    |script-variable|
    |script-local|
    |:scriptnames|

 								*faq-25.30*
25.30. 読み込んだスクリプトをun-sourceするには？言い替えると、スクリプトを読み
       込んだことによって実行されたコマンドを全て戻すには？

スクリプトを読み込んだことによって実行されたコマンドを全て戻すことはできませ
ん。

さらなる情報については以下を参照してください。

    |:source|

=============================================================================
 								*faq-26*
SECTION 26 - プラグイン ~

 								*faq-26.1*
26.1. ファイル形式ごとに異なるオプションを設定するには？

ファイル形式別プラグインを作れば、ファイル形式ごとに異なるオプションを設定する
ことができます。まず最初に次のコマンドでファイル形式別プラグインを有効にしてく
ださい: >

    :filetype plugin on
<
ファイル形式別プラグインは、Vimでその形式のファイルを作成したり開く度に読み込
まれるVim scriptです。例えば、Cプログラム(ファイル形式"c")を編集するときは常
に'textwidth'を80にするには、次のファイルのどれかを作ります: >

        ~/.vim/ftplugin/c.vim (Unix)
        %HOME%\vimfiles\ftplugin\c.vim (Windows)
<
そしてその中に次のテキストを書いておきます: >

        setlocal textwidth=80
<
自動コマンドを使っても特定のファイル形式を編集するときに特定のオプションを設定
することができます。例えば、*.txtファイルを編集するときだけ'textwidth'を75に設
定するには次のコマンドを使います: >

    autocmd BufRead *.txt setlocal textwidth=80
<
さらなる情報については以下を参照してください。

    |filetype-plugin|
    |add-filetype-plugin|
    |:autocmd|
    |40.3|

 								*faq-26.2*
26.2. プラグイン/構文ファイル/インデントファイル/カラースキーム/ファイルタイプ
      プラグインをダウンロードしました。Vimがこれらのファイルを読み込むように
      するには、どこにコピーすればいいですか？

ランタイムファイル(プラグイン、構文ファイル、インデントファイル、カラースキー
ム、ファイル形式別プラグインなど)は'runtimepath'で指定されたディレクトリのうち
どれかの下に置きます。'runtimepath'の現在の値を知るには次のコマンドを使います
: >

    :set runtimepath
<
Unixシステムでは、通常これは"$HOME/.vim"ディレクトリになります。MS-Windowsシス
テムでは、通常これは$VIM\vimfilesまたは$HOME\vimfilesディレクトリになります。
ランタイムファイルはその種類によって、ランタイムディレクトリ下の決まったディレ
クトリに置かねばなりません。そのディレクトリの名前は以下のとおりです: >

    colors/   - カラースキームファイル
    compiler/ - コンパイラファイル
    doc/      - ドキュメント
    ftplugin/ - ファイル形式別プラグイン
    indent/   - インデントスクリプト
    keymap/   - キーマップファイル
    lang/     - メニューの翻訳
    plugin/   - プラグインスクリプト
    syntax/   - 構文ファイル
    tutor/    - vimtutorのファイル
<
さらなる情報については以下を参照してください。

    |your-runtime-dir|
    |'runtimepath'|
    |:runtime|

 								*faq-26.3*
26.3. 既存のファイル形式別プラグインを拡張するには？

You can extend an existing filetype plugin by creating a file in the
after/ directory in any of the 'runtimepath' directories.


- for small changes to be done after (and in addition to) what is
  already done by the ftplugin installed with Vim, use an after-directory,
  as follows (replacing foobar by the 'filetype' of the concerned
  files):
    - For changes private to one user:
        - on Windows:
            $HOME/vimfiles/after/ftplugin/foobar.vim
        - on Unix-like OSes:
            $HOME/.vim/after/ftplugin/foobar.vim
    - For changes affecting all users on the system:
        $VIM/vimfiles/after/ftplugin/foobar.vim

- when replacing the whole filetype-plugin by a different version, or
  when installing a new ftplugin for some filetype not yet supported by
  Vim out of the box: use the same paths without the after/ in them. In
  that case you should place near the start of your plugin an "if...
  finish... endif... let" block like the one in the plugins distributed
  with Vim.

All the above paths are given in Vim terminology (which is similar to
Unix terminology, but is understood even by Vim for Windows); they don't
exist by default, so the first time you need them you will have to
create them using mkdir (on any OS including DOS/Windows) or md (on
DOS/Windows only). $VIM and, on DOS/Windows, $HOME, do not necessarily
exist outside Vim. If $HOME has no value (or no valid value) inside Vim,
you can use $VIM instead; but on any but possibly very old versions of
Windows, $HOMEDRIVE and $HOMEPATH are defined by the system, and if
$HOME is undefined at Vim startup, Vim will set it by expanding
$HOMEDRIVE$HOMEPATH before sourcing your vimrc. To know which values Vim
uses, you can type (in a running Vim): >

    :echo $VIM
    :echo $HOME
<

そのファイルをafter/ftpluginディレクトリに置くと、Vimはまず既存のファイルタイ
ププラグインを読み込み、その後にその新しいファイルを読み込みます。そのファイル
を$VIMRUNTIME/ftpluginディレクトリに置くと、Vimはまずその新しいファイルを読み
込み、その後に既存のファイル形式別プラグインを読み込みます。


さらなる情報については以下を参照してください。

    |ftplugin-overrule|
    |filetype-plugin|
    |add-filetype-plugin|
    |'runtimepath'|

 								*faq-26.4*
26.4. プラグインの読み込みをオフにするには？

'loadplugins'をオフにすればプラグインを読み込まなくすることができます: >

    :set noloadplugins
<
コマンドライン引数"--noplugin"を指定してもプラグインの読み込みを止めさせること
ができます: >

    $ vim --noplugin
<
さらなる情報については以下を参照してください。

    |'loadplugins'|
    |--noplugin|
    |load-plugins|

 								*faq-26.5*
26.5. ファイル形式別プラグインの読み込みをオフにするには？

デフォルトではvimはファイル形式別プラグインを読み込みません。ファイル形式別プ
ラグインを読み込むように設定するには次のコマンドを使います: >

    filetype plugin on
<
ファイル形式別プラグインの読み込みをオフにするにはこうします: >

    filetype plugin off
<
さらなる情報については以下を参照してください。

    |:filetype-plugin-on|
    |:filetype-plugin-off|
    |:filetype|

 								*faq-26.6*
26.6. 全てのファイル形式に対し、グローバルのファイル形式別プラグインでなされる
      設定を上書きするには？

ファイル形式イベントで引き起こされる自動コマンドを使います: >

    au Filetype * set formatoptions=xyz
<
これは少なくともあなたのvimrc中の"filetype on"以降に行わねばなりません。あなた
の"myfiletypefile"ファイル中で行うのがベストです。そうすればこれは必ず最後に実
行されるようになります。

特定のファイル形式に対して設定を上書きしたいなら、~/.vim/after/ftpluginに元
のファイルと同名のファイルを作ります。例えば、ファイル形式別プラグインc.vimの
設定を上書きするには、~/.vim/after/ftpluginにc.vimを作り、そこに好みの設定を書
き込みます。

さらなる情報については以下を参照してください。

    |ftplugin-overrule|
    |ftplugins|
    |myfiletypefile|

 								*faq-26.7*
26.7. Vimのディレクトリブラウザープラグインを無効にするには？

ディレクトリブラウザープラグインを無効にするには、次の行を.vimrcに加えます: >

    let g:loaded_netrw = 1
<
さらなる情報については以下を参照してください。

    |netrw|

 								*faq-26.8*
26.8. 特定のパターンにマッチする名前のファイルや拡張子に応じてファイル形式オ
      プションを設定するには？

特定のパターンにマッチする名前のファイルに対しては、自動コマンドを使って
'filetype'を設定します。例えば、拡張子".x"を持つファイル全てに対して
'filetype'を"c"にするには次の自動コマンドを使います: >

    autocmd! BufRead,BufNewFile *.x     setfiletype c
<
よりよい方法は、filetype.vimファイルを~/.vimディレクトリ(または'runtimepath'で
指定されたディレクトリのどれか)に作ることです。そして次の行を書き加えます: >

    " my filetype file
    if exists("did_load_filetypes")
        finish
    endif
    augroup filetypedetect
        au! BufRead,BufNewFile *.x       setfiletype c
    augroup END
<
さらなる情報については以下を参照してください。

    |new-filetype|
    |43.2|
    |:setfiletype|

=============================================================================
 								*faq-27*
SECTION 27 - プログラムファイルを編集する ~

 								*faq-27.1*
27.1. C/C++のファイルに対してオートインデントを有効化するには？

ファイル形式に基づくインデントを有効化するには次を実行します: >

    :filetype indent on
<
自動Cインデントだけを有効化したいならこうします: >

    :set cindent
<
さらなる情報については以下を参照してください。

    |'cindent'|
    |C-indenting|
    |filetype|

 								*faq-27.2*
27.2. C/C++のファイルに対するインデントをカスタマイズするには？

'cinoptions', 'cinkeys', 'cinwords'の値を変えれば、Cインデントをカスタマイズす
ることができます。

さらなる情報については以下を参照してください。

    |'cindent'|
    |'cinoptions'|
    |'cinkeys'|
    |'cinwords'|
    |C-indenting|
    |cinoptions-values|
    |'smartindent'|

 								*faq-27.3*
27.3. オートインデント機能を無効化するには？

デフォルトではオートインデントは無効になっています。.vimrcか.gvimrcでオートイ
ンデントを有効化したのでしょう。オートインデントを無効化するには、 >

    :filetype indent off
<
または >

    :set nocindent
<
とします。また、以下のオプションの設定を確認してください: >

    :set autoindent?
    :set smartindent?
    :set indentexpr?
<
さらなる情報については以下を参照してください。

    |'cindent'|
    |:filetype-indent-off|
    |'autoindent'|
    |'smartindent'|
    |'indentexpr'|

 								*faq-27.4*
27.4. オートインデントの際に挿入されるスペースの数を変えるには？

'shiftwidth'オプションを変えると、オートインデントに使われるスペースの数を変え
ることができます: >

    :set shiftwidth=4
<
さらなる情報については以下を参照してください。

    |'shiftwidth'|

 								*faq-27.5*
27.5. Cプログラムを編集しています。マクロ定義や変数を表示するには？

コマンド"[d"でマクロ定義を表示でき、"[i"で変数定義を表示することができます。
"gd"でローカル変数定義へ移動、"gD"でグローバル変数定義へ移動できます。

さらなる情報については以下を参照してください。

    |[d|
    |[i|
    |gd|
    |gD|
    |include-search|
    |29.4|
    |29.5|

 								*faq-27.6*
27.6. Cプログラムを編集しています。ブロックの内側から、そのブロックの開始位置
      や終了位置にジャンプするには？

コマンド"[{"でそのブロックの始まりにジャンプし、"]}"でそのブロックの終わりにジャン
プします。

さらなる情報については以下を参照してください。

    |[{|
    |]}|
    |various-motions|

 								*faq-27.7*
27.7. C++ファイルでコメント(//)行の前後に行を挿入した場合に、Vimが自動的に
      C++コメント(//)を行頭に挿入します。この動作を無効にするには？

This automatic insertion of the comment leader (//) when new lines
are added is controlled by three flags in the 'formatoptions'
option:  "c", "r" and "o".  "c" enables auto-wrapping of comment
lines when typing extends beyond the right margin.  "r" enables the
automatic insertion of the comment leader when <Enter> is pressed
while editing a comment line.  "o" enables the automatic insertion
of the comment leader when a new line is opened above or below an
existing comment line by typing O or o in Normal mode.

You can stop Vim from automatically inserting the comment leader
when typing <Enter> within a comment or when opening a new line by
removing the "r" and "o" flags from 'formatoptions'.

   :set formatoptions-=r
   :set formatoptions-=o

The default filetype plugin for C and C++ files
($VIMRUNTIME/ftplugin/c.vim) adds the "r" and "o" flags to the
'formatoptions' option.  If you want to override this for C++ files,
then you can add the above lines to the
~/.vim/after/ftplugin/cpp.vim file.

さらなる情報については以下を参照してください。

    |formatoptions|
    |30.6|
    |format-comments|
    |filetype-plugins|
    |ftplugin-overrule|

 								*faq-27.8*
27.8. 一連の行の行頭にコメント文字"#"をつけ加えるには？

最初に矩形ビジュアルモードを使って(CTRL-V)その行を全て選択します。"I"を押して
行頭に文字の挿入を開始します。コメント文字を挿入し、<Esc>を押して挿入モードを
終了します。すると入力された文字が選択された全ての行の行頭に挿入されます。

さらなる情報については以下を参照してください。

    |visual-block|
    |blockwise-operators|
    |v_b_I|

 								*faq-27.9*
27.9. Cのソースファイルに対応する名前のヘッダーファイルを開くには？

次のコマンドを使うと、Cソースファイルに対応する名前のヘッダーファイルを開くこ
とができます: >

    :e %:t:r.h
<
次のコマンドで、そのファイルを分割したウィンドウで開くこともできます: >

    :sp %:t:r.h
<
上のコマンドで、パーセント記号はカレントファイルの名前に展開されます。修飾子
`:t`はファイル名の末尾(tail)に変換します。修飾子`:r`はファイル名のルート(root)
に変換します。そして.hをつけて、最終的にヘッダーファイル名が得られます。

別のアプローチとしては、次のコマンドを使います: >

    :sfind %:t:r.h
<
このコマンドはヘッダーファイルを'path'で指定されたディレクトリの中から探します。

さらなる情報については以下を参照してください。

    |cmdline-special|
    |filename-modifiers|
    |:sfind|
    |'path'|

 								*faq-27.10*
27.10. コメントを入力しているとき、自動的にコメント文字を挿入するには？

コメントを入力しているとき自動的にコメント文字を挿入するには、'formatoptions'
にフラグ"r"と"o"を加えます。 >

    :set formatoptions+=ro
<
コメントを'textwidth'によって自動的に折り返すためにフラグ"c"をつけたり、コメン
トを"gq"コマンドで成形するためにフラグ"q"をつけてもよいでしょう: >

    :set formatoptions=croq
<
さらなる情報については以下を参照してください。

    |30.6|
    |format-comments|
    |'comments'|
    |fo-table|

=============================================================================
 								*faq-28*
SECTION 28 - QuickFix ~

 								*faq-28.1*
28.1. Vimの中からプログラムをビルドするには？

`:make`を使うとVim中からプログラムをビルドすることができます。`:make`は
'makeprg'で指定されたプログラムを起動します。

さらなる情報については以下を参照してください。

    |30.1|
    |:make_makeprg|
    |'makeprg'|
    |'makeef'|
    |:make|
    |quickfix|

 								*faq-28.2*
28.2. Vim中からmakeコマンドを起動すると、コンパイラがプログラムをコンパイル
      してエラーメッセージを出力します。しかしコンパイルが終わると表示が消え
      てしまい、エラーメッセージをもう一度見るには `:clist` としなければなりま
      せん。このエラーメッセージを見るのに他の方法はありませんか？

`:copen`や`:cwindow`を使うと、コンパイラの出力を保持しているQuickFixウィンド
ウを開くことができます。そのウィンドウの中でエラーの行を選択すると、ソースコー
ド中の対応する行にジャンプすることができます。

さらなる情報については以下を参照してください。

    |:copen|
    |:cwindow|
    |quickfix|

 								*faq-28.3*
28.3. How can I perform a command for each item in the quickfix/location
      list?

Starting from Vim 7.4.858 Vim provides the new commands `:cfdo`, `:cdo`,
`:lfdo` and `:ldo.` They work by iterating over all items in the quickfix
list and performing a command on each. The difference is, that the `:lfdo`
and `:ldo` commands iterate over the location list entries, while the
`:cfdo` and `:cdo` commands operate on the items in the quickfix list. Also,
the `:cfdo` and `:lfdo` operate on all different files, while the `:cdo` and
`:ldo` commands operate on each item in the quickfix/location list.

For example you could vimgrep all C files in the current directory for a
search string "Foobar": >

    :vimgrep /Foobar/ *.c
<
and as this populates your quickfix list, you could simply replace all
occurences by using: >

    :cdo :%s/Foobar/Foobaz | upd
<
For more information, read:

    |:cfdo|
    |:cdo|

=============================================================================
 								*faq-29*
SECTION 29 - 折り畳み ~

 								*faq-29.1*
29.1. 折り畳みの機能を拡張するには？

'foldexpr'を使えばユーザー指定の関数を使って折り畳みを作ることができます。
例えば、以下の形のサブルーチンを1行に折り畳むには: >

    sub foo {
      my $barf;
      $barf = 3;
      return $barf;
    }
<
次のコマンドを使うことができます: >

    set foldmethod=expr
    set foldexpr=MyFoldExpr(v:lnum)
    fun! MyFoldExpr(line)
        let str = getline(a:line)
        if str =~ '^sub\>'
            return '1'
        elseif str =~ '^}'
            return '<1'
        else
            return foldlevel(a:line - 1)
        endif
    endfun
<
さらなる情報については以下を参照してください。

    |'foldexpr'|
    |fold-expr|

 								*faq-29.2*
29.2. 'foldmethod'をセットして折り畳みを有効化すると、全ての折り畳みが閉じてし
      まいます。これを防ぐには？

'foldlevelstart'をある値にセットすると、折り畳みがその値以上になったときのみ閉
じさせることができます。 >

    :set foldlevelstart=99
<
さらなる情報については以下を参照してください。

    |'foldlevelstart'|
    |'foldlevel'|
    |fold-foldlevel|

 								*faq-29.3*
29.3. ファイルの編集を開始したときにいくつの折り畳みが開かれた状態にするかをコ
      ントロールするには？

'foldlevelstart'を修正すれば、ファイルの編集を開始したときにいくつの折り畳みを
開くかをコントロールすることができます。全ての折り畳みを閉じた状態で編集を開始
するにはこうします: >

    :set foldlevelstart=0
<
To start editing with all the folds opened, you can use >

    :set foldlevelstart=999
<
さらなる情報については以下を参照してください。

    |'foldlevelstart'|

 								*faq-29.4*
29.4. マウスを使って折り畳みを開閉するには？

折り畳みを開閉するには、一番左の桁に表示された+と-という文字をクリックします。
それが機能するためには'foldcolumn'を0より大きい値に設定していなければなりませ
ん: >

    :set foldcolumn=2
<
さらなる情報については以下を参照してください。

    |'foldcolumn'|

 								*faq-29.5*
29.5. 閉じた折り畳みの表示に使われるテキストを変更するには？

'foldtext'によって閉じた折り畳みの表示に使われるテキストを変更することができま
す。

さらなる情報については以下を参照してください。

    |'foldtext'|
    |fold-foldtext|
    |'fillchars'|

 								*faq-29.6*
29.6. Vimを終了・再起動するとき、手動で作った折り畳みを保存・復元するには？

`:mkview`を使えば手動で作った折り畳みを保存することができます。その後、
`:loadview`でその折り畳みを復元することができます。これが機能するためには
'viewoptions'が"folds"を含んでいなければなりません。

さらなる情報については以下を参照してください。

    |28.4|
    |:mkview|
    |:loadview|
    |'viewoptions'|
    |'viewdir'|
    |:mksession|
    |'sessionoptions'|

 								*faq-29.7*
29.7. I have enabled syntax based folding. Why is Vim so slow?

Syntax based folding is currently rather slow in Vim and will possibly
slow down Vim considerably. There is an issue in the todo list to fix
this, but the todo list is rather long and it may take a while until
this will be fixed.

You can find the issue in the todo list, if you read

    |todo.txt|

followed by a search for "folding with 'foldmethod'"

A workaround is to temporarily set the foldmethod to manual while in
insert mode. This is described in the wiki at:

    http://vim.wikia.com/wiki/Keep_folds_closed_while_inserting_text


=============================================================================
 								*faq-30*
SECTION 30 - 外部プログラムとの連携 ~

 								*faq-30.1*
30.1. Vimのウィンドウの中でシェルを起動することはできますか？

Since Version 8.1 Vim comes with a terminal window included. It allows
to run a shell inside an ordinary Vim window (e.g. split) asynchronously
and interact with the shell using the normal Vim commands.

When the focus is in the terminal window, typed keys will be sent to
the job and is called terminal mode. You can click outside of the
terminal window to move keyboard focus elsewhere, alternatively one can
use CTRL-W to novigate between different Vim windows. To feed CTRL-W into the
terminal, one needs to use CTRL-W .

To map keys specifically for terminal mode, use the new `:tmap`
command. After typing CTRL-W the terminal window will switch to
Terminal-Normal mode (this can be used to move the cursor around, scroll
the window, etc. Just like normal mode).

To interact between the terminal and Vim, Vim implements several
interfaces using term_sendkeys(), terminal-api and the client-server
mechanism.

さらなる情報については以下を参照してください。

    |terminal|
    |mapmode-t|
    |Terminal-Normal|
    |terminal-communication|

 								*faq-30.2*
30.2. カーソル下の単語を外部プログラムに渡すには？

特別なキーワード<cword>を使うと、カーソル下の単語を外部コマンドに渡すことがで
きます。例: >

    :!dict <cword>
<
さらなる情報については以下を参照してください。

    |:<cword>|

 								*faq-30.3*
30.3. シェルコマンドの出力をVimのバッファに取り込むには？

`:r !`を使えばシェルコマンドの出力をVimのバッファに取り込むことができます。
For example, to insert the output of the "ls" shell command, you can use the
following command: >

    :r !ls
<
To insert the output of the shell command above the first line use the
following command: >

    :0r !ls
<
さらなる情報については以下を参照してください。

    |:r!|

 								*faq-30.4*
30.4. カレントバッファの中身を外部プログラムにパイプで渡して、そのプログラムの
      出力でバッファを置き換えるには？

:!を使えばカレントバッファの中身を外部プログラムにパイプで渡して、そのコマンド
の出力でバッファの中身を置き換えることができます。例えば、Unixのソートコマンド
を使ってカレントバッファの中身をソートするには、次のようにします: >

    :%!sort
<
10から20行目だけををソートするなら次のコマンドを使います: >

    :10,20!sort
<
また、バッファを外部プログラムにパイプしたいが、バッファを出力で書き換えたくな
い場合はこうします: >

    :w !sort
<
上のコマンドはバッファ全体をsortコマンドにパイプします。
注意: "w"と"!"の間のスペースは必ず必要です。ある範囲の行だけをパイプするにはこ
うします: >

    :10,20w !sort
<
上のコマンドは10から20行目をsortコマンドにパイプします。

さらなる情報については以下を参照してください。

    |:range!|
    |10.9|
    |:w_c|

 								*faq-30.5*
30.5. ファイル中のあるセクションをソートするには？

You use the `:sort` command like this:

   :5,100sort

Using the `:sort` command provides many options, you can sort numerical on
the first found decimal number using:

   :%sort n

Or you can specify to sort on the text, starting at virtual column 8:

   :%sort /.*\%8v/

あるいは、あるセクションをUnixの"sort"ユーティリティにパイプしてそのファイル
をソートすることができます。例: >

    :5,100!sort
<
You can also use a visual block, and use the "!sort" command on the
selected block.

See also:
    |:sort|
    |filter|

 								*faq-30.6*
30.6. Vimをページャとして使うには？

シェルスクリプト$VIMRUNTIME/macros/less.shを使うとVimをページャとして使うこと
ができます。これはVimの標準ディストリビューションの一部として同梱されていま
す。このシェルスクリプトは、lessライクなキーバインディングを実現するために
Vim script $VIMRUNTIME/macros/less.vimを使用しています。

さらなる情報については以下を参照してください。

    |less|

 								*faq-30.7*
30.7. Vimの中でUnixのmanページを見るには？

Vim標準ディストリビューションに同梱のman.vimを使えば、Vimの中でUnixのmanページ
を見ることができます。このプラグインを使うには、以下の行をvimrcファイルに追加
してください: >

    runtime ftplugin/man.vim
<
また、Kキーを押すと、カーソル下のキーワードとともに'keywordprg'で指定された
プログラムを起動することができます。デフォルトでは'keywordprg'はカーソル下の
キーワードのmanを起動するように設定されています。

さらなる情報については以下を参照してください。

    |ft-man-plugin|
    |K|
    |'keywordprg'|

 								*faq-30.8*
30.8. Vimのdiff機能で使われるdiffコマンドを変更するには？

デフォルトではVimのdiff機能は'diff'コマンドを使います。'diffexpr'オプションを
変更すればこれを変えることができます。

さらなる情報については以下を参照してください。

    |diff-diffexpr|
    |'diffexpr'|

 								*faq-30.9*
30.9. 折り畳みなしで差分モードを使うには？

次のコマンドラインを実行すると、2つのファイル名とともに起動し、折り畳み
なしで差分モードに入ります: >

    $ vim -o file1 file2 "+windo set diff scrollbind scrollopt+=hor nowrap"
<
垂直ウィンドウ分割の方がいいなら、"-o"を"-O"に置き換えてください。

さらなる情報については以下を参照してください。

    |vimdiff|

=============================================================================
 								*faq-31*
SECTION 31 - GUIのVIM ~

 								*faq-31.1*
31.1. バッファ固有のメニューを作るには？

バッファ固有のメニューという機能はVimのTODOリストにあります。今のところは、
Michael Geddesのプラグインbuffermenu.vimを試してみてください:

    https://www.vim.org/scripts/script.php?script_id=246

 								*faq-31.2*
31.2. GUIのVimで使われるフォントを変更するには？

'guifont'を変更すればGUIのVimで使われるフォントを変更することができます。この
オプションの現在の値を表示するにはこうします >

    :set guifont?
<
ここで表示された値を.vimrcに書いておけば、Vimを再起動しても同じフォントを使う
ことができます。例えば、次の行を.vimrcに書くとAndale Monoフォントを使うように
なります。 >

    set guifont=Andale_Mono:h10:cANSI
<
Win32, GTK, Photon版のVimでは、次のコマンドでguifontを変える際に便利なダイアロ
グを起動することができます: >

    :set guifont=*
<
Vimのコマンドライン引数に-fontを使うと通常のテキストに使われるフォントを指定す
ることができます。

さらなる情報については以下を参照してください。

    |'guifont'|
    |'guifontset'|
    |'guifontwide'|
    |font-sizes|
    |-font|
    |-boldfont|
    |-italicfont|
    |-menufont|
    |-menufontset|

 								*faq-31.3*
31.3. GUIのVimが起動したときのウィンドウの位置を指定するには？

コマンドライン引数"-geometry"を指定すれば、GUIのVimのウィンドウの位置を指定す
ることができます。例: >

    $ gvim -geometry 80x25+100+300
<
さらなる情報については以下を参照してください。

    |31.4|
    |-geom|

 								*faq-31.4*
31.4. GVimに水平スクロールバーをつけるには？

'guioptions'を修正すれば水平スクロールバーを有効化することができます: >

    :set guioptions+=b
<
さらなる情報については以下を参照してください。

    |'guioptions'|
    |gui-horiz-scroll|

 								*faq-31.5*
31.5. スクロールバーをデフォルトで左側に表示するようにするには？

'guioptions'にフラグ"l"をつけるとスクロールバーが左側に出るようになります。 >

    :set guioptions+=l
    :set guioptions-=r
<
さらなる情報については以下を参照してください。

    |'guioptions'|
    |gui-scrollbars|

 								*faq-31.6*
31.6. メニューバーを消すには？

'guioptions'からフラグ"m"を除くとメニューバーが消えます: >

    :set guioptions-=m
<
さらなる情報については以下を参照してください。

    |'guioptions'|

 								*faq-31.7*
31.7. GVimを使っています。<Alt>キーと文字キーを押すとその文字で始まるメニューが
      選択されます。<Alt>-<key>の組合せを使いたいので、この挙動はやめてほしいで
      す。どうすればいいですか？

'winaltkeys'を使えば<Alt>キーでメニュー項目を選択するのを無効にすることができま
す: >

    :set winaltkeys=no
<
さらなる情報については以下を参照してください。

    |'winaltkeys'|
    |:simalt|

 								*faq-31.8*
31.8. スクロールバーをドラッグしたとき、カーソル位置を動かさずにテキストをスク
      ロールさせることは可能ですか？

Vimの設計では、ノーマル・ビジュアル・選択・挿入モードにおいてカーソル位置は表
示されている位置になければなりません。これはVimの修正なしには変更できません。
スクロールバーを使うと、カーソル位置は常に表示されている範囲に入るように移動し
ます。この問題を解決する別のアプローチはVimのマークを使うことです。maで現在の
カーソル位置をマークします。テキストをスクロールしたら`aで元の位置に戻ります。
Vim Onlineに投稿された次の提案も試してみてください:

    http://vim.wikia.com/wiki/VimTip320

さらなる情報については以下を参照してください。

    |mark-motions|

 								*faq-31.9*
31.9. `:browse`を使ったときに特定のディレクトリから始めるようにするには？

'browsedir'を設定すれば`:browse`コマンドのデフォルトディレクトリを設定できま
す。 >

    :set browsedir='<your_dir>'
<
さらなる情報については以下を参照してください。

    |'browsedir'|

 								*faq-31.10*
31.10. ファイルがVimの外部で変更されたときなど、問い合わせがあるとき、GUIのダ
       イアログボックスが表示されます。コンソールのダイアログボックスが出るよ
       うにするには？

'guioptions'にフラグ"c"を含めれば、GUIダイアログの代わりにコンソールダイアログ
を使うようになります: >

    :set guioptions+=c
<
さらなる情報については以下を参照してください。

    |'guioptions'|

 								*faq-31.11*
31.11. GVimをアプリケーションxxx用のエディタとして使っています。アプリケーショ
       ンxxxがGVimを起動すると、コントロールがすぐにアプリケーションxxxに戻っ
       てしまいます。Vimを終了したとき初めてアプリケーションxxxにコントロール
       が戻るようにGVimを起動するには？

コマンドラインオプション"-f" (foreground)をつけてGVimを起動します: >

    $ gvim -f
<
デフォルトではGVimはそれを起動したプログラムから切り離されます。"-f"をつけると
GVimはそれを起動したプログラムから切り離されなくなります。

さらなる情報については以下を参照してください。

    |gui-fork|
    |-f|

 								*faq-31.12*
31.12. なぜ、システムにインストールされているフォント全てが「フォントを選ぶ」
       ダイアログに現れないのですか？

Vimは等幅フォントのみサポートしています。プロポーショナルフォントはサポートし
ていません。「フォントを選ぶ」ダイアログには等幅フォントだけが表示されます。

さらなる情報については以下を参照してください。

    |font-sizes|
    |'guifont'|

 								*faq-31.13*
31.13. コマンドラインモードでマウスを使うには？

コマンドラインモードでマウスを使うには、オプション'mouse'にフラグ"c"をつけま
す: >

    :set mouse+=c
<
さらなる情報については以下を参照してください。

    |mouse-using|
    |gui-mouse|
    |09.2|

 								*faq-31.14*
31.14. テキストをスクロールしようとマウスの中央ボタンを押すと、最後にコピーし
       たテキストがペーストされてしまいます。この挙動を無効にするには？

マウスの中央ボタンに<Nop>をマップすると中央ボタンを無効化できます: >

    :map  <MiddleMouse> <Nop>
    :map! <MiddleMouse> <Nop>
<
さらなる情報については以下を参照してください。

    |gui-mouse-mapping|
    |<Nop>|

 								*faq-31.15*
31.15. GVimウィンドウの位置とサイズを変更するには？

コマンド`:winpos`を使えばVimウィンドウの位置を変えることができます。ウィンドウ
のサイズを変えるには、オプション'lines'と'columns'を変更します。

例えば、次のコマンドはGVimウィンドウのX,Y座標を50,50に、行数を50に、桁数を80に
セットします。 >

    :winpos 50 50
    :set lines=50
    :set columns=80
<
`:winpos`への引数はVimウィンドウのピクセル座標を指定します。オプション'lines'
と'columns'は行数と文字数を指定してウィンドウの高さと幅を設定します。

さらなる情報については以下を参照してください。

    |31.4|
    |:winpos|
    |'lines'|
    |'columns'|
    |GUIEnter|

 								*faq-31.16*
31.16. When splitting the Vim window vertically, Vim changes the position.

This is a known problem. When you are splitting the Vim window, Vim will
try to draw a scrollbar. Since this changes the gui window, Vim tries to
resize its main window to keep the same position and this will cause Vim
to move its position. This happens on Windows with a multi-window setup or
a window that was "snapped" to a certain position.

A workaournd to this problem is, to remove gui scrollbars, e.g. >

    :set guioptions-=L
<

=============================================================================
SECTION 32 - UNIX上のVim ~

 								*faq-32.1*
32.1. xtermでVimを実行しています。CTRL-Sを押すとVimがフリーズします。
      どうすればいいですか？

多くのターミナルエミュレータと本物のターミナルドライバはCTRL-Sを受け取るとデー
タの受信を停止します。早すぎて見えない画面のスクロールを止めるためです(昔の端
末で、バッファがオーバーフローしないようにコンピュータを遅くするためでもありま
した)。CTRL-Qを押すと出力を再開します。

CTRL-Sを押すとターミナルドライバは出力データの送信を停止します。結果としてVim
がハングしたように見えます。CTRL-Qを押すと全て通常に戻るでしょう。

"stty"コマンドを使うとターミナルドライバのフローコントロールをオフにすることが
できます: >

    $ stty -ixon -ixoff
<
または、次のコマンドでターミナルのフローコントロールに使うキーを変更することが
できます: >

    $ stty stop <char>
    $ stty start <char>
<
 								*faq-32.2*
32.2. 画面の更新について奇妙な問題があります。これを解決するには？

xtermのような適切なターミナルエミュレータと正しいTERM設定(TERM=xterm)と正しい
terminfo/termcapファイルを使わねばなりません。
さらなる情報については以下を参照してください。

    |'term'|

 								*faq-32.3*
32.3. Vimのターミナル/コンソール版を使っています。挿入モードでバックスペース
      キーを押してもカーソルの前の文字が消えません。どう設定すれば良いですか？

Vimが正しいバックスペースのキーコードを受け取っているかどうか確かめてください。
次のコマンドを試してみてください: >

    :fixdel
<
環境変数TERMが正しくターミナルの名前に設定されているかを確かめてください。
"stty"コマンドを試してみてください: >

    $ stty erase ^H
<
ここで、^Hの文字を入力するにはCTRL-VとCTRL-Hを押してください。また、`backspace`
オプションの設定値を確認してください。

さらなる情報については以下を参照してください。

    |:fixdel|
    |Linux-backspace|
    |NetBSD-backspace|
    |'backspace'|

 								*faq-32.4*
32.4. xtermでVimを使っています。Vimを終了すると画面が元の状態に復元されます。
      これを無効化するには？

xtermは「代替スクリーン」("alternate screen")という機能を持っています。この機
能が有効になっていると、Vimは起動時と終了時にこの代替スクリーンに切り替えま
す。そのため、元の画面が復元されます。この機能を無効にするには次の行を.vimrcに
加えてください: >

    :set t_ti= t_te=
<
さらなる情報については以下を参照してください。

    |'restorescreen'|
    |xterm-screens|

 								*faq-32.5*
32.5. Vimの起動にかなり時間がかかります。起動時間を最小化するには？

これはおそらくVimがxtermのタイトルとXのクリップボードのためにXディスプレイを開
いていることに関係しています。環境変数DISPLAYが正しいホストを指していることを
確認してください。次のコマンドを試してみてください: >

    $ vim -X
<
こうするとXディスプレイを開かなくなります。このコマンドラインオプションをつけ
るとXのクリップボードが使えなくなり、xtermのタイトルを変えられなくなります。

オプション'clipboard'を次のように変更することもできます: >

    :set clipboard=exclude:.*
<
こうするとコマンドライン引数-Xを使うのと同じ効果があります。

さらなる情報については以下を参照してください。

    |-X|
    |'clipboard'|

If the clipboard is not the cause of the slow startup, it might be a
plugin that slows down Vim. In that case, you can use the --startuptime
argument to debug this further. You can do: >

    $ vim --startuptime vim_startup.log
<
and the timing will be written to the file vim_startup.log. For even
more advanced profiling, you can use the profiling feature, that is
available in huge builds of Vim. To do so, call Vim like this: >

    $ vim --cmd 'profile start profile.log' \
      --cmd 'profile func *' \
      --cmd 'profile file *' \
      -c 'profdel func *' \
      -c 'profdel file *' \
      -c 'qa!'
<
After running this, you will have a file profile.log in your current
directory. To further analyse this, open the file profile.log and run: >

    " Open profile.log file in vim first
    :let timings=[]
    :g/^SCRIPT/call add(timings, [getline('.')[len('SCRIPT  '):], matchstr(getline(line('.')+1), '^Sourced \zs\d\+')]+map(getline(line('.')+2, line('.')+3), 'matchstr(v:val, ''\d\+\.\d\+$'')'))
    :enew
    :call setline('.', ['count total (s)   self (s)  script']+map(copy(timings), 'printf("%5u %9s   %8s  %s", v:val[1], v:val[2], v:val[3], v:val[0])'))
<
さらなる情報については以下を参照してください。

    |--startuptime|
    |profiling|

 								*faq-32.6*
32.6. Unixのgvimでカーソルの点滅を止めるには？

オプション'guicursor'を変更すればカーソルの点滅を止めることができます。
例: >

    :set guicursor=a:blinkon0
<
さらなる情報については以下を参照してください。

    |'guicursor'|

 								*faq-32.7*
32.7. GTK Vimのメニューのフォントを変えるには？

~/.gtkrcを修正すればGTK Vimのメニューのフォントを変更できます。例: >

    style "default"
    { font ="smooth09" }
    class "*" style "default"
<
最後の行が全てのウィジェットのフォントを変えています。

さらなる情報については以下を参照してください。

    |gui-gtk|

 								*faq-32.8*
32.8. VimがCTRL-Zでサスペンドするのを防ぐには？

 CTRL-Zをマップすればサスペンドするのを防げます。いくつかの提案を示します:

- CTRL-Zで何もしないようにする: >

    :map <C-Z> <Nop>
<
- CTRL-Zでシェルが起動するようにする: >

    :map <C-Z> :shell<CR>
<
- CTRL-Zでエラーメッセージが出るようにする: >

    :map <C-Z> :"suspending disabled<CR>
<
最後の例において、ダブルクォートはメッセージをステータスライン上に残すために必
要になります。

 								*faq-32.9*
32.9. Vimを実行しているxtermをkillすると、Vimのプロセスが生き残り、多大なCPU時
      間(99%)を食ってしまいます。なぜこうなるのですか？

VimがPythonインターフェイスつきでビルドされるとこの問題が起こります。これは
PythonスレッドライブラリとVimに関する既知の問題です。この問題を解決するには、
PythonインターフェイスなしでビルドされたVimを使用してください。

さらなる情報については以下を参照してください。

    |+python|
    |python|

 								*faq-32.10*
32.10. Unixターミナルで構文強調を使うには？

構文強調を使う最も簡単で単純な方法はVimのGUI版(GVim)を使うことです。Vimのコン
ソール/ターミナル版で構文強調を使うには、カラー表示をサポートしているターミ
ナルエミュレータ(Xfree86 xtermやrxvtやdttermのようなもの)を使わねばなりませ
ん。ターミナルエミュレータが背景色と文字色を変えられるからといって、それが色を
変えるためのANSIエスケープシーケンスをサポートしているとは限りません。最新の
Xfree86 xtermは https://invisible-island.net/xterm/xterm.html からダウンロード
できます。最新のrxvtは https://rxvt.org からダウンロードできます。そのターミナ
ルエミュレータ用の色をサポートしているterminfo/termcapをインストールしなければ
なりません。また、環境変数TERMをそのターミナルの正しい名前に設定します。

色設定をテストするにはVimランタイムパッケージに付属のcolortest.vimスクリプトを
使うことができます。このスクリプトを使うには次のようにします: >

    :e $VIMRUNTIME/syntax/colortest.vim
    :source %
<
さらなる情報については以下を参照してください。

    |06.2|
    |terminal-colors|
    |termcap-colors|
    |startup-terminal|
    |xterm-color|
    |colortest.vim|

=============================================================================
 								*faq-33*
SECTION 33 - MS-Windows上のVim ~

 								*faq-33.1*
33.1. MS-Windows上でCTRL-Vを押しても矩形ビジュアルモードが始まりません。どう
      なっているのですか？

mswin.vimプラグインは、VimがMS-Windowsアプリケーションに似た挙動をするように
キーマッピングとオプションを設定します。そのキーマップの一つがCTRL-Vで、これは
MS-Windowsアプリケーションではテキストをペーストします。このためCTRL-Vで矩形ビ
ジュアルモードが始まらないようになっています。mswin.vimでは矩形ビジュアルモー
ドの開始がCTRL-Qにマップされています。ですのでCTRL-Vの代わりにCTRL-Qを使ってく
ださい。

さらなる情報については以下を参照してください。

    |CTRL-V|
    |CTRL-V-alternative|
    |CTRL-Q|
    |10.5|

 								*faq-33.2*
33.2. CTRL-Yキーを押すとCTRL-Rのような動作をします。CTRL-YをCTRL-Yとして扱うよ
      うに設定するには？

CTRL-YからCTRL-Rへのマップはmswin.vim内で行われています。mswin.vimは標準の
MS-Windowsアプリケーションと同じ挙動になるようにCTRL-Yをマップします。これ
は`:help CTRL-Y`で説明されています。mswin.vim中のCTRL-Yをマップしている行をコ
メントアウトするか、.vimrc中でmswin.vimを読み込んでいる行を削除すればよいで
しょう。


 								*faq-33.3*
33.3. 常にGVimのウィンドウを最大化して起動するには？

`:simalt`コマンドを使えばVimのウィンドウを最大化することができます。GUIEnter自
動コマンドを使えば、起動時にVimのウィンドウを最大化することができます: >

    autocmd GUIEnter * simalt ~x
<
さらなる情報については以下を参照してください: >

    |:simalt|
    |GUIEnter|
    |gui-win32-maximized|

 								*faq-33.4*
33.4. なんらかの編集操作をするとVimがフリーズします。カーソルは空の四角形にな
      ります。全然文字が入力できません。どうなっているのですか？

もっとも考えられるのは、テキストをスクロールさせようとマウスホイールを使ったこ
とです。Vimでインテリマウスホイールを使うと問題が起こることが知られています。
これを回避するには、ユニバーサルスクロール機能を無効にすることです。

さらなる情報については以下を参照してください。

    |intellimouse-wheel-problems|

 								*faq-33.5*
33.5. Windows XPを使っています。最大化したGVimの表示速度がとても遅いです。表示
      の更新を早くするには？

これは画面のプロパティの "スクリーン フォントの縁を滑らかにする" を有効化して
いるために起こっている可能性があります。フォントスムージングをオフにするか、ス
ムージング方法を "標準" にしてください。

{訳注: コントロールパネル[パフォーマンスオプション]の[スクリーンフォントの縁を
       滑らかにする]のことだと思う。}

 								*faq-33.6*
33.6. VimをCygwin上で使うにあたって推奨される設定は？

シェル関連の設定を次のようにするとよいかもしれません: >

    :set shellcmdflag=-c
    :set shellquote=
    :set shellslash          " 展開に(バックスラッシュでなく)スラッシュを使う
    :set shellxquote=\"
    :set shell=d:\cygwin\bin\bash.exe " bashをシェルに使う
    :set shellpipe=2>&1| tee
    :set shellredir=>%s 2>&1
<
 								*faq-33.7*
33.7. 差分モードでGNU diffを使おうとしています。コマンドラインからdiffを使うと
      うまく動くのですが、Vim内で使おうとすると動きません。どうすれば？

VimでGNU diffを使うには問題があります。次のリンクにあるRon Aaronがビルドした
GNU diff.exeを使ってみてください:

    http://www.mossbayeng.com/~ron/vim/builds.html
(このページは存在しません。)

 								*faq-33.8*
33.8. Outlookで外部エディタにVimを使うことはできますか？

COMアドイン"cubiclevim"を使えば、OutlookでVimを外部エディタとして使うことがで
きます。さらなる情報については以下のリンクを訪れてください:

    https://sourceforge.net/projects/cubiclevim/

注意: 現在これはMS-Office 2000とXPのみで動作します。

また、OutlookVimプラグインは一見の価値があるかもしれません:

    https://www.vim.org/scripts/script.php?script_id=3087

 								*faq-33.9*
33.9. HTMLファイルを編集するのにVimを使っています。現在開いているHTMLファイル
      をインターネットエクスプローラーでプレビューするには？

以下のコマンドでできます: >

    :!start c:\progra~1\intern~1\iexplore.exe file://%:p<CR>
<
 								*faq-33.10*
33.10. VimをMicrosoft Visual Studioといっしょに使いたいです。どうすれば？

VimのOLE版(例: gvim61ole.zip)をダウンロードして使用しなければなりません。
このファイルはVimをVisual Studioといっしょに使うための手順を書いたファイルも含
んでいます。

さらなる情報については以下を参照してください。

    |MSVisualStudio|

 								*faq-33.11*
33.11. どこに_vimrcと_gvimrcを置けばいいですか？

_vimrcと_gvimrcは環境変数VIMで指定されたディレクトリの下に置きます。もし他のユ
ーザーとシステムを共有しているなら、環境変数HOMEに設定したディレクトリに置くと
よいでしょう。

さらなる情報については以下を参照してください。

    |$HOME-use|
    |_vimrc|

 								*faq-33.12*
33.12. ファイルを保存する度に、そのファイルがVimの外部で変更されていると警告が
       出ます。なぜですか？

ファイルを保存する際に毎回以下の警告メッセージが出るなら: >

    WARNING: The file has been changed since reading it!!!
    Do you really want to write to it (y/n)?
<
{訳注: 日本語の警告メッセージは以下のようになる} >

    警告: 読込んだ後にファイルに変更がありました!!!
    本当に上書きしますか (y/n)?
<

{訳注: 日本語の警告メッセージは以下になる。

    警告: 読込んだ後にファイルに変更がありました!!!
    本当に上書きしますか (y/n)?
}

MS-Windowsでのサマータイム(daylight saving time)が始まる日についてのバグに関係
している可能性があります。Vimはファイルを書き込んだ後にそのタイムスタンプを記
憶しています。そして次の書き込みの直前に再びタイムスタンプを取得し、Vimの外部
でファイルが変更されているかチェックします。これはサマータイムが始まる日を除け
ば正しく機能します。

この問題はサマータイムが始まる日の次の日には解消されます。

さらなる情報については以下を参照してください。

    |W11|

=============================================================================
 								*faq-34*
SECTION 34 - 印刷 ~

 								*faq-34.1*
34.1. 全ての行に行番号をつけて印刷するには？

'printoptions'をセットして`:hardcopy`を使えばファイルを印刷できます: >

    :set printoptions=number:y
    :hardcopy
<
さらなる情報については以下を参照してください。

    |'printoptions'|
    |:hardcopy|

 								*faq-34.2*
34.2. 構文強調の色をつけてファイルを印刷するには？

`:hardcopy`で構文強調の色をつけてファイルを印刷することができます。また、
2html.vimスクリプトでファイルをHTMLをファイルに変換し、そのHTMLファイルを印刷
することもできます。

さらなる情報については以下を参照してください。

    |syntax-printing|
    |2html.vim|
    |:hardcopy|
    |printing|

=============================================================================
 								*faq-35*
SECTION 35 - Vimをソースからビルドする ~

 								*faq-35.1*
35.1. Unixシステム上でVimをソースからビルドするには？

UnixシステムでVimをソースからビルドするには、次のステップに従ってください:

- ftp://ftp.vim.org/pub/vim/unix からソースとランタイムファイルのアーカイブ
  (vim-##.tar.bz2)をダウンロードします。
- bzip2とtarを使ってアーカイブを展開します: >

        $ bunzip2 -c <filename> | tar -xf -
<
- もしくは、gitリポジトリからソースをダウンロードします:
  https://github.com/vim/vim/releases/
- もしくは、mercurialリポジトリからソースをダウンロードします:
  https://bitbucket.org/vim-mirror/vim/downloads/
- "make"を実行してVimをデフォルト設定で調整し、ビルドします。
- "make install"してVimをデフォルトのディレクトリにインストールします。

Vimの様々な機能を有効/無効にするには、"make"を実行する前に"configure"コマンド
でフラグを設定します。"configure"で指定できるオプションのリストを次のコマンド
で表示することができます: >

    $ configure --help
<
さらなる情報については以下を参照してください。

    |install|

 								*faq-35.2*
35.2. Unixでホームディレクトリなど、デフォルトのディレクトリ以外にVimをインス
      トールするには？

デフォルトのインストールディレクトリ以外にインストールするには、configureスク
リプトを実行する際に--prefixオプションでディレクトリを指定します。 >

    $ ./configure --prefix=/users/xyz
<
configureスクリプトに様々な引数を与えることによって、Vimの色々な機能を有効/無
効にできます。それらのオプションについてのさらなる情報については、次を実行して
ください。 >

    $ ./configure --help
<
さらなる情報については以下を参照してください。

    |install-home|
    |install|

 								*faq-35.3*
35.3. MS-Windowsシステム上でVimをソースからビルドするには？

MS-Windowsシステム上では、Visual C++またはBorland C++またはMing GCCコンパイラ
またはcygwin gccコンパイラのどれかを使ってVimをビルドすることができます。
MS-Windows用にVimをソースからビルドするには次のステップに従ってください:

    - ソース(vim##src.zip)、ランタイム(vim##rt.zip)とその他
      (vim-##-extra.tar.gz)のアーカイブをftp://ftp.vim.org/pub/vim/pcからダウ
      ンロードします。

    {訳注: 2006年8月現在、Vim7のソースとランタイムはまとめて1つのアーカイブ
           (vim-7.0.tar.bz2)にして公開されている。}

    - アーカイブをディレクトリ(例: c:\vimsrc)に展開します。
    - もしくは、gitリポジトリからソースをダウンロードします:
      https://github.com/vim/vim/releases/
    - もしくは、mercurialリポジトリからソースをダウンロードします:
      https://bitbucket.org/vim-mirror/vim/downloads/
    - コンパイラに応じたMakefileを使います。Visual C++用にはMake_mvc.mak、
      Borland C++用にはMake_bc5.mak、Ming GCC用にはMake_ming.mak、cygwin gcc用
      にはMake_cyg.makを使います。

VimのGUI版とコンソール版のどちらをビルドしたいかによって、Makefileに異なる引数
を与えなければなりません。ソースのビルドに成功したら、vim.exeやgvim.exeをラン
タイムファイルとともに望みのディレクトリにコピーできます。

さらなる情報については以下を参照してください。

    |install|

 								*faq-35.4*
35.4. 私がインストールしたVimにはヘルプ、構文ファイル、インデントファイルが欠
      けています。それらのファイルをインストールするには？

Vimのヘルプ、構文ファイル、インデントファイルやそのほかのランタイムファイルは
Vimランタイムパッケージの一部です。Vimランタイムパッケージをダウンロードしてイ
ンストールする必要があります。例えば、MS-Windows用のVim6.1ランタイムパッケージ
の名前はvim61rt.zipです。

{訳注: 2006年8月現在、Vim7のソースとランタイムはまとめて1つのアーカイブ
       (vim-7.0.tar.bz2)にして公開されている。}

さらなる情報については以下を参照してください。

    |install|

 								*faq-35.5*
35.5. Vimをソースからビルドして"make install"でインストールしました。Vimのソー
      スディレクトリを残しておく必要はありますか？

その必要はありません。一度Vimをビルドして元のソースディレクトリ以外のどこか
(例えば/usr/binや/usr/local/bin)にインストールしたら、ソースディレクトリは削除
してもかまいません。

 								*faq-35.6*
35.6. ある機能がコンパイル時に有効化されているかどうかを知るには？

`:version`を使えば、ある機能がコンパイル時に有効化されているかどうかを知ること
ができます。有効化されている機能の前には"+"がつきます。有効化されていない機能
の前には"-"がつきます。

スクリプトの中で、ある機能の存在を判定したい場合は、関数has()を使います: >

    if has("menu")
        " Set up some menus
    endif
<
さらなる情報については以下を参照してください。

    |:version|
    |+feature-list|
    |has()|

 								*faq-35.7*
35.7. GUI機能なしでVimをビルドすることはできますか？

できます。GUI機能を含めて、Vimの機能の多くは任意に有効化/無効化してビルドする
ことができます。

さらなる情報については以下を参照してください。

    |install|

 								*faq-35.8*
35.8. Unixシステム上でVimをビルドするとき、"undefined reference to 
      term_set_winsize"というエラーが出ます。これを解決するには？

ビルド処理がtermlibまたはtermcapまたはncursesライブラリを見つけられないときこ
のエラーが出ます。このエラーを解決するには、ncurses-devパッケージをインストー
ルしなければなりません。

 								*faq-35.9*
35.9. GTK 2.03を使おうとしているのですが、Vimのconfigureがgtk-configがないとの
      メッセージを出します。しかしGTK2は一般的なpkg-configを使うようになったの
      で、これは正しいのです。gtk用のインクルードファイルとライブラリのリスト
      を出力するpkg-configならありますが、なぜかconfigureスクリプトはこれを
      使ってくれません。

次のシェルスクリプトにgtk-configと名前をつけて使ってください: >

    #!/bin/sh
    pkg-config gtk+-2.0 $1 $2
<
 								*faq-35.10*
35.10. I did successfully download the sources and compiled Vim on
        Unix. But feature ... still does not work. What is wrong and
        how can I fix it?

You should first check, that you are actually running your self compiled
Vim and not the system's provided version. So first check your $PATH
setting.

Depending on your compile options, some features might not be included in
your build of Vim. You can use the `:version` command to determine the Vim
features that are enabled at compile time. The features that are enabled
will be prefixed with a "+". The features that are not enabled will be
prefixed with a "-".

The easiest way to include all features is to build the huge version. To do
this, you have to specify the --with-features option while running the
configure script: >

    $ ./configure --with-features=huge
<
Nevertheless, a feature could still be disabled at compile time, if the
configure script can't find the required libraries for those features (e.g.
for clipboard integration, your Vim needs to be linked against the X11
development libraries).

There are several ways to install the required libraries:

1) On a Debian based distribution, you can use the package manager "apt"
   to install all required dependencies. As superuser, run the command:

   $ apt-get build-dep vim-gtk

   This makes sure all required libraries needed to compile the vim-gtk
   package will be installed. (This requires, that your sources list
   contains deb-src entries. See your distribution manual on how to
   enable this, if the above command did not work.)

2) In openSUSE you can use the package manager "zypper" to install all
   required libraries. This requires, that there is a source version of
   the package installable from a configured repository (which by
   default is not the case). Use:

   $ zypper search -t srcpackage vim

   to find out, whether or not there exists a source version in the
   repository. If there is none, you'll need to add a source repository.
   For openSUSE 11.2 you could use, e.g.

   $ zypper ar
   http://download.opensuse.org/source/distribution/11.2/repo/oss/src-11.2

   (one line)

   Once you have a source version available in your repositories, use
   this command to install all needed requirements:

   $ zypper source-install --build-deps-only vim

3) On a Fedora/RedHat based system, you can use

   $ yum-builddep vim-enhanced

4) Run configure with your options and watch for missing libraries:

   $ ./configure --with-features=huge 2>&1 |tee logfile

   This will run configure and record the output into the file "logfile".
   You need to check the logfile for missing dependencies. Consider this
   output: >

    checking --disable-gtktest argument... gtk test enabled
    checking for pkg-config... /usr/bin/pkg-config
    checking for GTK - version >= 2.2.0... no
<
    Here you can see, that the gtk libraries are missing and therefore
    no GTK gui version can't be build. So you need to install the GTK
    library in your system, with your package manager or by compiling it
    yourself. Then run the configure script again and check, that it
    finds the library.

In theory, those provided dependencies by your distribution might still
lack some libraries, that are needed for features, that simply are not
enabled in your distribution and therefore those commands in 1-3 won't
install it. At the very least, this provides a jumping point and you need
to track down the required missing packages using method 4 from above. But
usually, this works good enough for most people and you won't have to
bother with the fourth method.

For more information, read:

    |:version|
    |+feature-list|

=============================================================================
 								*faq-36*
SECTION 36 - 様々な事柄 ~

 								*faq-36.1*
36.1. Vimでバイナリフィルを編集するには？

以下のオプションを設定すればVimでバイナリファイルを編集することができます: >

    :set binary
    :set display=uhex
<
コマンドラインオプション"-b"を使ってもバイナリファイルを編集することができます
: >

    $ vim -b <binary_file_name>
<
また、バイナリファイルを編集するのにxxdユーティリティ(Vimのディストリビュー
ションの一部)を使うこともできます。

さらなる情報については以下を参照してください。

    |23.4|
    |edit-binary|
    |hex-editing|
    |-b|
    |'binary'|
    |'endofline'|
    |'display'|

 								*faq-36.2*
36.2. ビジュアルエラーフラッシュとエラービープを無効にするには？

次のコマンドを使うと、ビジュアルエラーフラッシュとエラービープを両方無効にする
ことができます: >

    :set visualbell t_vb=
<
さらなる情報については以下を参照してください。

    |'visualbell'|
    |'errorbells'|
    |t_vb|

 								*faq-36.3*
36.3. バッファに表示されている文字のASCIIコードを表示するには？

"ga"コマンドを使うと、表示されている文字のASCIIコードを表示することができます。


さらなる情報については以下を参照してください。

    |ga|
    |:ascii|

 								*faq-36.4*
36.4. コマンドのカウントとして0を使うことはできますか？

"0"はそれ自身がコマンドであるため(現在行の1桁目に移動する)、コマンドのカウント
として使うことはできません。

さらなる情報については以下を参照してください。

    |0|
    |count|

 								*faq-36.5*
36.5. Vimの起動時の画面を表示させなくするには？

Vimの起動時の画面を表示させなくするには、'shortmess'にフラグ"I"を追加します: >

    :set shortmess+=I
<
さらなる情報については以下を参照してください。

    |:intro|
    |'shortmess'|

 								*faq-36.6*
36.6. "hit enter to continue"プロンプトを避けるには？

あなたに読んでほしいメッセージがあるのに画面が再描画されようとしているとき、
"hit enter to continue"プロンプトが出ます。'shortmess'にフラグ"T"を加えると、
全てのメッセージを短縮することができます。するとhit-enterプロンプトを避けるこ
とができます: >

    :set shortmess+=T
<
また、'cmdheight'を設定するとコマンドラインの高さを上げることができます: >

    :set cmdheight=2
<
さらなる情報については以下を参照してください。

    |hit-enter|
    |avoid-hit-enter|
    |'shortmess'|
    |'cmdheight'|

 								*faq-36.7*
36.7. コマンドラインからVimを起動して一連のファイルに対して一連のコマンドを
      実行するには？

コマンドラインからVimを起動して一連のファイルに対して一連のコマンドを実行する
にはいくつかの方法があります。コマンドラインオプション"-c"でコマンドを指定する
ことができます: >

    $ vim -c "<ex_command_1>" -c "<ex_command_2>" *.txt
<
コマンドラインオプション"-c"で指定されたexコマンドは順番に1つずつ実行されま
す。また、exコマンドを"|"で区切れば1つの"-c"で指定することもできます: >

    $ vim -c "<ex_command_1> | <ex_command_2>" *.txt
<
上のコマンドでexコマンドが失敗した場合は残りのexコマンドは全て実行されません。

例えば、コマンドラインからファイル中の"ABC"を"DEF"で置換するには次のコマンドを
使います: >

    $ vim -c "%s/ABC/DEF/ge | update" myfile.txt
<
コマンドラインから複数のファイル中の"ABC"を"DEF"で置換するには次のコマンドを使
います: >

    $ vim -c "argdo %s/ABC/DEF/ge | update" *.txt
<
一連のコマンドをファイルに保存しておき、コマンドラインオプション"-s"を使って
ファイルに対してそのコマンドを実行することもできます。例えば、mycmds.txtに一連
のコマンドを保存してあるとします。このとき次のようにできます: >

    $ vim -s mycmds.txt *.pl
<
さらなる情報については以下を参照してください。

    |-c|
    |-s|

 								*faq-36.8*
36.8. 挿入モードから抜けることなくノーマルモードコマンドを実行するには？

CTRL-Oに続けてノーマルモードコマンドを1つ入力すると、挿入モードから抜けること
なくノーマルモードコマンドを実行することができます。

1つ以上のノーマルモードコマンドを実行するにはCTRL-Lを押し、続けて任意個のノー
マルモードコマンドをタイプします。挿入モードに抜けるには<Esc>を押します。(これ
は'insertmode'オプションをオンにしている場合のみ動作します。)

さらなる情報については以下を参照してください。

    |i_CTRL-O|
    |i_CTRL-L|

 								*faq-36.9*
36.9. How do I start Vim in insert mode?

You can start Vim in insert mode using the `:startinsert` ex command. >

    $ vim +startinsert myfile.txt
<
The above command will open the file "myfile.txt" and start insert mode
with the cursor in front of the first character on the first line.  To open
the file and start appending after the last character on the last line,
you can use the following command: >

    $ vim + +startinsert! myfile.txt
<
For more information, read:

    |:startinsert|

 								*faq-36.10*
36.10. How do I use Copy and Paste with Vim?

You should first check the output of the `:version` command and make
sure that +xterm-clipboard is present.

When running Vim in an xterm, you can either let Vim control the mouse
or let xterm control the mouse. This is configured by the 'mouse' option.

If the 'mouse' option is not set (or set to the default value), then Vim will
not control the mouse. You cannot move the Vim text cursor using the
mouse. When you select some text using the mouse, xterm will copy
it to the X11 cut buffer. When you press both the mouse buttons,
xterm will paste the text from the cut buffer.

If the 'mouse' option is set to "a" or some other value, then Vim controls
the mouse. The mode (normal or insert or visual, etc) in which Vim
controls the mouse is configured by the 'mouse' option. You can move
the Vim text cursor using the mouse. When you select some text,
the 'clipboard' option setting is used to determine whether to transfer
the selected text to the clipboard or not. The default setting is to
transfer the selected text to the clipboard. If you want to use the
xterm selection mechanism in this mode, then you can press the
<Shift> key. If you press <Shift> key when selecting text using the
mouse, then Vim doesn't control the mouse and xterm controls the
mouse.

In the GUI mode, Copy and Paste should just work, depending on the 'mouse'
setting. For more information, read:

    |'clipboard'|
    |x11-selection|
    |clipboard|
    |'go-a'|
    |'mouse'|
    |xterm-copy-paste|
    |09.3|

 								*faq-36.11*
36.11. Why shouldn't I modify the files in the system runtime directory?

Just be careful about modifying files under $VIMRUNTIME, which usually
is /usr/share/vim/vimXX (Unix) or C:\Program Files\vim\vimXX
(Windows) and XX being the version for which it applies, e.g. 73 for Vim
7.3.

One should generally avoid modifying those files because they may be
replaced during an upgrade of your Vim installation and your changes
will be lost.  Also, if you upgrade to a new major or minor revision of
Vim (e.g., from 7.3 to 7.4), the new version of Vim will use a different
$VIMRUNTIME directory and while your changes won't be lost, they will be
ignored.

Consequently, take a look at

    |filetypes|

for an explanation of several ways to modify Vim's response to
different filetypes and where to put those modifications so that
they will not be overwritten.

=============================================================================
 								*faq-37*
SECTION 37 - Unicode ~
Author: Tony Mechelynck <antoine.mechelynck AT belgacom.net>

 								*faq-37.1*
37.1. VimでUnicodeのファイルを作ることはできますか？

できます。あなたが利用できるキーボードとフォントによって多少複雑になるかもしれ
ませんが、常にどんなUnicodeコードポイントでも(中には不正なものも)エンコードす
ることができます。Unicodeのファイルを作成するには、Vimをコンパイル時オプション
"+multi_byte"つきでコンパイルしていなければなりません。Unicodeについてのさらな
る情報は以下のサイトから入手できます:

    http://www.unicode.org
    https://www.cl.cam.ac.uk/~mgk25/unicode.html

さらなる情報については以下を参照してください。

    |multibyte|
    |usr_45.txt|

 								*faq-37.2*
37.2. Unicodeのファイルを編集するにあたって特に重要な設定は？

最も重要なのは様々な"encoding"のオプションです。つまり、'encoding',
'fileencoding', 'fileencodings', 'termencoding'です。ブール値のオプション
'bomb'も重要です。

さらなる情報については以下を参照してください。

    |'encoding'|
    |'fileencoding'|
    |'fileencodings'|
    |'termencoding'|
    |'bomb'|

 								*faq-37.3*
37.3. オプション'encoding'とは何ですか？

基本的にオプション'encoding'はVimがデータを内部的にどう表現するかを定義します。
しかし、Unicodeエンコーディングは全て内部的にはutf-8で表現され、(必要ならば)読
み書きの際に変換されます。

さらなる情報については以下を参照してください。

    |'encoding'|

 								*faq-37.4*
37.4. Vimでは様々なUnicodeエンコーディングをどう表記しますか？

Utf-8はutf-8またはutf8と書きます。utf-16はucs-2またはucs2と書きます。utf-32は
ucs-4またはucs4と書きます。エンディアンを指定することもできます(utf-8はエンディ
アンによらないのでそれ以外)。末尾に"le"をつけるとリトルエンディアンになり、
"be"をつけるとビッグエンディアンになります。エンディアンの指定なしにucs-2や
ucs-4のエンコーディングでファイルを作成すると、Vimはあなたのマシンに応じて適切
な方を選択します。

さらなる情報については以下を参照してください。

    |encoding-names|
    |encoding-values|
    |encoding-table|

 								*faq-37.5*
37.5. バイト順マークの有無を指定するには？

'fileencodings'が"ucs-bom"を含む場合、ファイルを読み込むときにバイト順マークの
チェックが行われます。オプション'bomb'がオンなら、ファイルを書き込むときに、そ
のファイルのエンコーディングを保証するバイト順マークを書き込みます。

さらなる情報については以下を参照してください。

    |'fileencodings'|
    |'bomb'|

 								*faq-37.6*
37.6. オプション'fileencoding'とは何ですか？

オプション'fileencoding'はファイルを書き込むときに使うエンコーディングを定義し
ます。これが空の場合は、'encoding'の値が使われます。

さらなる情報については以下を参照してください。

    |'fileencoding'|

 								*faq-37.7*
37.7. オプション'fileencodings'とは何ですか？

オプション'fileencodings'はVimが既存のファイルを開くときに使う検査方法を定義し
ます。このオプションはコンマで区切られたエンコーディングのリストです。特別な名
前"ucs-bom"を含めると、バイト順マークの存在をチェックするようになります。
しかし、これが"utf-8"の後に来ると認識されなくなります。通常は、"ucs-bom"を含め
るならば、リストの最初に書くべきです。

Vimはファイルを開くとき、そのファイルを'fileencodings'内にリストされたエンコー
ディングに対してチェックします。もしここでマッチするものがなければ
'fileencoding'が空文字列に設定されます。つまり、'encoding'の値が使われます。

さらなる情報については以下を参照してください。

    |'fileencodings'|
    |'encoding'|

 								*faq-37.8*
37.8. オプション'termencoding'とは何ですか？

オプション'termencoding'は、あなたがタイプしたデータをキーボードがどのようにエ
ンコードするかを定義します。これが空の場合は'encoding'と同じ値であるとされま
す。通常、このオプションはあなたのロケールに合うように設定するべきです。

さらなる情報については以下を参照してください。

    |'termencoding'|
    |locale|

 								*faq-37.9*
37.9. オプション'bomb'とは何ですか？

'fileencodings'に"ucs-bom"が含まれているときファイルを読み込むと、そのファイル
の先頭にバイト順マークがあるかどうかによって'bomb'がオン/オフに設定されます。
'bomb'がオンになっていると、ファイル書き込み時に、バイト順マークが書き込まれま
す。このバイト順マーク書き込みを手動で設定することもできます。

さらなる情報については以下を参照してください。

    |'bomb'|

 								*faq-37.10*
37.10. これらのオプションの典型的な例はどこにありますか？

これらを別な言葉で例をつけて説明した"tip"がここにあります。

    http://vim.wikia.com/wiki/VimTip246

 								*faq-37.11*
37.11. Unicodeの文字を挿入するには？

いくつかの方法があります:

- キーボード上にある文字は普通にタイプできます。フランスのキーボードの曲線ア
  クセント記号のように"dead-key"プリフィックスが必要なものもです。
- ダイグラフが定義されている文字は、CTRL-Kに続けて2つの文字をタイプすること
  で入力できます。
- オプション'digraph'がセットされていると、ダイグラフが定義されている文字は
  <char1><BS><char2>のようにして入力できます。
- どんな文字もCTRL-Vプリフィックスを使えば入力できます(CTRL-Vがクリップボ
  ードからペーストするようにマップされている場合はCTRL-Qです)。

さらなる情報については以下を参照してください。

    |digraphs|
    |'digraph'|
    |i_CTRL-V_digit|

 								*faq-37.12*
37.12. どのダイグラフがどの文字に定義されているかを知るには？

まず'encoding'を適切に(例えばutf-8に)設定してください。それから `:digraphs` を
使って現在定義されているダイグラフを表示します。

もしくは、ヘルプファイルにすべてのダイグラフの完全なセットが含まれており、
そのリストを簡単に検索することができます。

さらなる情報については以下を参照してください。

    |:digraphs|
    |'encoding'|
    |digraph-table|

 vim:tw=78:ts=8:ft=help:norl:
